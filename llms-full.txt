---
url: 'https://unocss.zhcndoc.com/transformers/attributify-jsx.md'
description: æ”¯æŒ JSX/TSX ä¸­çš„æ— å€¼å±æ€§åŒ– (@unocss/transformer-attributify-jsx)
---

# Attributify JSX è½¬æ¢å™¨

æ”¯æŒ [æ— å€¼å±æ€§åŒ–](/presets/attributify#valueless-attributify) åœ¨ JSX/TSX ä¸­: `@unocss/transformer-attributify-jsx`ã€‚

## ä»‹ç»

```jsx
export function Component() {
  return (
    <div text-red text-center text-5xl animate-bounce>
      unocss
    </div>
  )
}
```

å°†è½¬æ¢ä¸ºï¼š

```jsx
export function Component() {
  return (
    <div text-red="" text-center="" text-5xl="" animate-bounce="">
      unocss
    </div>
  )
}
```

::: details æ²¡æœ‰è¿™ä¸ªè½¬æ¢å™¨æ—¶ï¼ŒJSX å°†æ— å€¼å±æ€§è§†ä¸ºå¸ƒå°”å±æ€§ã€‚

```jsx
export function Component() {
  return (
    <div text-red={true} text-center={true} text-5xl={true} animate-bounce={true}>
      unocss
    </div>
  )
}
```

:::

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/transformer-attributify-jsx
```

```bash [yarn]
yarn add -D @unocss/transformer-attributify-jsx
```

```bash [npm]
npm install -D @unocss/transformer-attributify-jsx
```

```bash [bun]
bun add -D @unocss/transformer-attributify-jsx
```

:::

```ts{11} [uno.config.ts]
import { defineConfig, presetAttributify } from 'unocss'
import transformerAttributifyJsx from '@unocss/transformer-attributify-jsx'

export default defineConfig({
  // ...
  presets: [
    // ...
    presetAttributify(),
  ],
  transformers: [
    transformerAttributifyJsx(), // <--
  ],
})
```

::: tip
æ­¤é¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç›´æ¥ä»é‚£é‡Œå¯¼å…¥ï¼š

```ts
import { transformerAttributifyJsx } from 'unocss'
```

:::

## æ³¨æ„äº‹é¡¹

::: warning
è§„åˆ™å‡ ä¹ä¸ [Attributify é¢„è®¾](/presets/attributify) ç›¸åŒï¼Œä½†æœ‰ä¸€äº›æ³¨æ„äº‹é¡¹ã€‚
:::

```html
<div translate-x-100% />
<!-- ä¸èƒ½ä»¥ `%` ç»“å°¾ -->

<div translate-x-[100px] />
<!-- ä¸èƒ½åŒ…å« `[` æˆ– `]` -->
```

ç›¸åï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä½¿ç”¨æœ‰å€¼å±æ€§ï¼š

```html
<div translate="x-100%" />

<div translate="x-[100px]" />
```

## é»‘åå•

æ­¤è½¬æ¢å™¨å°†ä»…è½¬æ¢æœ‰æ•ˆçš„ UnoCSS å®ç”¨å·¥å…·å±æ€§ã€‚
æ‚¨è¿˜å¯ä»¥é€šè¿‡ `blocklist` æ¥æ’é™¤æŸäº›å±æ€§ä¸è¢«è½¬æ¢ã€‚

```js
transformerAttributifyJsx({
  blocklist: [/text-[a-zA-Z]*/, 'text-5xl']
})
```

```jsx
<div text-red text-center text-5xl animate-bounce>
  unocss
</div>
```

å°†ç¼–è¯‘ä¸ºï¼š

```html
<div text-red text-center text-5xl animate-bounce="">unocss</div>
```

---

---
url: 'https://unocss.zhcndoc.com/presets/attributify.md'
description: å¯ç”¨å±æ€§æ¨¡å¼çš„ UnoCSS é¢„è®¾ã€‚
---

# Attributify é¢„è®¾

è¿™å¯ç”¨äº†å…¶ä»–é¢„è®¾çš„ [å±æ€§æ¨¡å¼](#attributify-mode)ã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-attributify)

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-attributify
```

```bash [yarn]
yarn add -D @unocss/preset-attributify
```

```bash [npm]
npm install -D @unocss/preset-attributify
```

```bash [bun]
bun add -D @unocss/preset-attributify
```

:::

```ts [uno.config.ts]
import presetAttributify from '@unocss/preset-attributify'

export default defineConfig({
  presets: [
    presetAttributify({ /* é¢„è®¾é€‰é¡¹ */ }),
    // ...
  ],
})
```

::: tip
è¯¥é¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä»é‚£é‡Œå¯¼å…¥ï¼š

```ts
import { presetAttributify } from 'unocss'
```

:::

## å±æ€§æ¨¡å¼

æƒ³è±¡ä¸€ä¸‹ï¼Œæ‚¨æœ‰ä¸€ä¸ªä½¿ç”¨ Tailwind CSS å·¥å…·çš„æŒ‰é’®ã€‚å½“åˆ—è¡¨å˜å¾—æ›´é•¿æ—¶ï¼Œé˜…è¯»å’Œç»´æŠ¤å˜å¾—éå¸¸å›°éš¾ã€‚

```html
<button
  class="bg-blue-400 hover:bg-blue-500 text-sm text-white font-mono font-light py-2 px-4 rounded border-2 border-blue-200 dark:bg-blue-500 dark:hover:bg-blue-600"
>
  Button
</button>
```

ä½¿ç”¨å±æ€§æ¨¡å¼ï¼Œæ‚¨å¯ä»¥å°†å·¥å…·åˆ†ç¦»åˆ°å±æ€§ä¸­ï¼š

```html
<button
  bg="blue-400 hover:blue-500 dark:blue-500 dark:hover:blue-600"
  text="sm white"
  font="mono light"
  p="y-2 x-4"
  border="2 rounded blue-200"
>
  Button
</button>
```

ä¾‹å¦‚ï¼Œ`text-sm text-white` å¯ä»¥è¢«å½’çº³ä¸º `text="sm white"`ï¼Œè€Œæ— éœ€é‡å¤ç›¸åŒçš„å‰ç¼€ã€‚

## å‰ç¼€è‡ªå¼•ç”¨

å¯¹äº `flex`ã€`grid`ã€`border` ç­‰å·¥å…·ï¼Œå®ƒä»¬çš„å·¥å…·ä¸å‰ç¼€ç›¸åŒï¼Œæä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„ `~` å€¼ã€‚

ä¾‹å¦‚ï¼š

```html
<button class="border border-red">Button</button>
```

å¯ä»¥å†™æˆï¼š

```html
<button border="~ red">Button</button>
```

## æ— å€¼å±æ€§

é™¤äº† Windi CSS çš„å±æ€§æ¨¡å¼ä¹‹å¤–ï¼Œè¯¥é¢„è®¾è¿˜æ”¯æŒæ— å€¼å±æ€§ã€‚

ä¾‹å¦‚ï¼Œ

```html
<div class="m-2 rounded text-teal-400" />
```

ç°åœ¨å¯ä»¥æ˜¯

```html
<div m-2 rounded text-teal-400 />
```

::: info
æ³¨æ„ï¼šå¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ JSXï¼Œ`<div foo>` å¯èƒ½ä¼šè¢«è½¬æ¢ä¸º `<div foo={true}>`ï¼Œè¿™å°†ä½¿ UnoCSS ç”Ÿæˆçš„ CSS æ— æ³•åŒ¹é…å±æ€§ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨å¯èƒ½æƒ³è¦å°è¯• [`transformer-attributify-jsx`](/transformers/attributify-jsx) ä»¥åŠè¯¥é¢„è®¾ã€‚
:::

## å±æ€§å†²çª

å¦‚æœå±æ€§æ¨¡å¼çš„åç§°ä¸å…ƒç´ æˆ–ç»„ä»¶çš„å±æ€§å‘ç”Ÿå†²çªï¼Œæ‚¨å¯ä»¥æ·»åŠ  `un-` å‰ç¼€ä»¥ç‰¹æŒ‡ UnoCSS çš„å±æ€§æ¨¡å¼ã€‚

ä¾‹å¦‚ï¼š

```html
<a text="red">è¿™ä¸é“¾æ¥çš„ `text` å±æ€§å†²çª</a>
<!-- æ”¹ä¸º -->
<a un-text="red">æ–‡æœ¬é¢œè‰²ä¸ºçº¢è‰²</a>
```

å‰ç¼€é»˜è®¤æ˜¯å¯é€‰çš„ï¼Œå¦‚æœæ‚¨æƒ³å¼ºåˆ¶ä½¿ç”¨å‰ç¼€ï¼Œå¯ä»¥è®¾ç½®

```ts
presetAttributify({
  prefix: 'un-',
  prefixedOnly: true, // <--
})
```

æ‚¨è¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ç¦ç”¨å¯¹æŸäº›å±æ€§çš„æ‰«æï¼š

```ts
presetAttributify({
  ignoreAttributes: [
    'text'
    // ...
  ]
})
```

## TypeScript æ”¯æŒ (JSX/TSX)

åˆ›å»º `shims.d.ts`ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

> é»˜è®¤æƒ…å†µä¸‹ï¼Œç±»å‹åŒ…å«æ¥è‡ª `@unocss/preset-wind3` çš„å¸¸è§å±æ€§ã€‚å¦‚æœæ‚¨éœ€è¦è‡ªå®šä¹‰å±æ€§ï¼Œè¯·å‚è€ƒ [ç±»å‹æº](https://github.com/unocss/unocss/blob/main/packages-presets/preset-attributify/src/jsx.ts) æ¥å®ç°æ‚¨è‡ªå·±çš„ç±»å‹ã€‚

### Vue

è‡ª Volar 0.36 èµ·ï¼Œ[å®ƒç°åœ¨å¯¹æœªçŸ¥å±æ€§æ˜¯ä¸¥æ ¼çš„](https://github.com/johnsoncodehk/volar/issues/1077#issuecomment-1145361472)ã€‚è¦å–æ¶ˆä¸¥æ ¼ï¼Œå¯ä»¥å‘é¡¹ç›®ä¸­æ·»åŠ ä»¥ä¸‹æ–‡ä»¶ï¼š

```ts [html.d.ts]
declare module '@vue/runtime-dom' {
  interface HTMLAttributes {
    [key: string]: any
  }
}
declare module '@vue/runtime-core' {
  interface AllowedComponentProps {
    [key: string]: any
  }
}
export {}
```

### React

```ts
import type { AttributifyAttributes } from '@unocss/preset-attributify'

declare module 'react' {
  interface HTMLAttributes<T> extends AttributifyAttributes {}
}
```

### Vue 3

```ts
import type { AttributifyAttributes } from '@unocss/preset-attributify'

declare module '@vue/runtime-dom' {
  interface HTMLAttributes extends AttributifyAttributes {}
}
```

### SolidJS

```ts
import type { AttributifyAttributes } from '@unocss/preset-attributify'

declare module 'solid-js' {
  namespace JSX {
    interface HTMLAttributes<T> extends AttributifyAttributes {}
  }
}
```

### Svelte & SvelteKit

```ts
declare namespace svelteHTML {
  import type { AttributifyAttributes } from '@unocss/preset-attributify'

  type HTMLAttributes = AttributifyAttributes
}
```

### Astro

```ts
import type { AttributifyAttributes } from '@unocss/preset-attributify'

declare global {
  namespace astroHTML.JSX {
    interface HTMLAttributes extends AttributifyAttributes { }
  }
}
```

### Preact

```ts
import type { AttributifyAttributes } from '@unocss/preset-attributify'

declare module 'preact' {
  namespace JSX {
    interface HTMLAttributes extends AttributifyAttributes {}
  }
}
```

### Marko

```ts
import type { AttributifyAttributes } from '@unocss/preset-attributify'

declare global {
  namespace Marko {
    interface HTMLAttributes extends AttributifyAttributes {}
  }
}
```

### å¸¦å‰ç¼€çš„å±æ€§

```ts
import type { AttributifyNames } from '@unocss/preset-attributify'

type Prefix = 'uno:' // å°†å…¶æ›´æ”¹ä¸ºæ‚¨çš„å‰ç¼€

interface HTMLAttributes extends Partial<Record<AttributifyNames<Prefix>, string>> {}
```

## é€‰é¡¹

### strict

* **ç±»å‹:** `boolean`
* **é»˜è®¤å€¼:** `false`

ä»…ä¸ºå±æ€§æˆ–ç±»ç”Ÿæˆ CSSã€‚

### prefix

* **ç±»å‹:** `string`
* **é»˜è®¤å€¼:** `'un-'`

å±æ€§æ¨¡å¼çš„å‰ç¼€ã€‚

### prefixedOnly

* **ç±»å‹:** `boolean`
* **é»˜è®¤å€¼:** `false`

ä»…åŒ¹é…å¸¦å‰ç¼€çš„å±æ€§ã€‚

### nonValuedAttribute

* **ç±»å‹:** `boolean`
* **é»˜è®¤å€¼:** `true`

æ”¯æŒåŒ¹é…æ— å€¼å±æ€§ã€‚

### ignoreAttributes

* **ç±»å‹:** `string[]`

è¦åœ¨æå–ä¸­å¿½ç•¥çš„å±æ€§åˆ—è¡¨ã€‚

### trueToNonValued

* **ç±»å‹:** `boolean`
* **é»˜è®¤å€¼:** `false`

å¦‚æœåœ¨ DOM ä¸­è¡¨ç¤ºçš„å®é™…å€¼ä¸º `true`ï¼Œæ— å€¼å±æ€§ä¹Ÿå°†åŒ¹é…ã€‚æ­¤é€‰é¡¹å­˜åœ¨æ˜¯ä¸ºäº†æ”¯æŒå°†æ— å€¼å±æ€§ç¼–ç ä¸º `true` çš„æ¡†æ¶ã€‚å¯ç”¨æ­¤é€‰é¡¹å°†æ‰“ç ´ä»¥ `true` ç»“å°¾çš„è§„åˆ™ã€‚

## è‡´è°¢

æœ€åˆçš„æƒ³æ³•æ¥è‡ª [@Tahul](https://github.com/Tahul) å’Œ [@antfu](https://github.com/antfu)ã€‚ä¹‹å‰çš„ [Windi CSS å®ç°](https://windicss.org/posts/v30.html#attributify-mode) ç”± [@voorjaar](https://github.com/voorjaar) å®Œæˆã€‚

---

---
url: 'https://unocss.zhcndoc.com/tools/inspector.md'
description: The inspector UI for UnoCSS (@unocss/inspector).
---

# Inspector

The inspector UI for UnoCSS: `@unocss/inspector`.
Provided along with `unocss` and `@unocss/vite`.

## Usage

Access localhost:5173/\_\_unocss in your Vite development server to view the inspector.

The inspector allows you to inspect generated CSS rules and the classes applied by each file. It also provides a REPL to test your utilities according to your current configuration.

---

---
url: 'https://unocss.zhcndoc.com/extractors/mdc.md'
description: ç”¨äº UnoCSS çš„ MDC æå–å™¨ (@unocss/extractor-mdc)
---

# MDC æå–å™¨

æ”¯æŒä» [MDCï¼ˆMarkdown ç»„ä»¶ï¼‰](https://content.nuxtjs.org/guide/writing/mdc) è¯­æ³•ä¸­æå–ç±»ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/extractor-mdc
```

```bash [yarn]
yarn add -D @unocss/extractor-mdc
```

```bash [npm]
npm install -D @unocss/extractor-mdc
```

```bash [bun]
bun add -D @unocss/extractor-mdc
```

:::

```ts [uno.config.ts]
import extractorMdc from '@unocss/extractor-mdc'
import { defineConfig } from 'unocss'

export default defineConfig({
  extractors: [
    extractorMdc(),
  ],
})
```

å®ƒå°†åœ¨ `.md`ã€`.mdc` å’Œ `.markdown` æ–‡ä»¶ä¸Šåº”ç”¨æå–ï¼Œä»¥æå–ç±»çš„å†…è”å±æ€§ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼š

```md
# æ ‡é¢˜{.text-2xl.font-bold}

ä½ å¥½ [ä¸–ç•Œ]{.text-blue-500}

![å›¾ç‰‡](/image.png){.w-32.h-32}
```

`text-2xl`ã€`font-bold`ã€`text-blue-500`ã€`w-32`ã€`h-32` ç±»å°†ä¼šè¢«æå–ã€‚

---

---
url: 'https://unocss.zhcndoc.com/integrations/next.md'
description: å¼€å§‹ä½¿ç”¨ UnoCSS å’Œ Next.jsã€‚
---

# Next.js

å¼€å§‹ä½¿ç”¨ UnoCSS å’Œ Next.jsã€‚æŸ¥çœ‹ [ç¤ºä¾‹](https://github.com/unocss/unocss/tree/main/examples/next)ã€‚

## è®¾ç½®

### å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D unocss @unocss/postcss @unocss/reset
```

```bash [yarn]
yarn add -D unocss @unocss/postcss @unocss/reset
```

```bash [npm]
npm install -D unocss @unocss/postcss @unocss/reset
```

```bash [bun]
bun add -D unocss @unocss/postcss @unocss/reset
```

:::

### é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `uno.config.ts` æˆ– `uno.config.js`ã€‚

::: code-group

```ts [uno.config.ts]
import {
  defineConfig,
  presetAttributify,
  presetIcons,
  presetWebFonts,
  presetWind3
} from 'unocss'

export default defineConfig({
  presets: [
    presetWind3(),
    // ...
  ],
})
```

```js [uno.config.js]
import {
  defineConfig,
  presetAttributify,
  presetIcons,
  presetWebFonts,
  presetWind3
} from 'unocss'

export default defineConfig({
  presets: [
    presetWind3(),
    // ...
  ],
})
```

:::

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `postcss.config.mjs`ã€‚

```js [postcss.config.mjs]
export default {
  plugins: {
    '@unocss/postcss': {
      content: ['./app/**/*.{html,js,ts,jsx,tsx}'],
    },
  },
}
```

### å¯¼å…¥æ ·å¼è¡¨

åœ¨ `globals.css` ä¸­æ·»åŠ  `@unocss all;`ã€‚

```css [globals.css]
@unocss all;

/* ... */
```

ç„¶ååœ¨å¸ƒå±€æ–‡ä»¶ä¸­å¯¼å…¥ `@unocss/reset/tailwind.css`ã€‚

::: code-group

```tsx [layout.tsx]
import type { Metadata } from 'next'
import { Geist, Geist_Mono } from 'next/font/google'
import '@unocss/reset/tailwind.css'
import './globals.css'

const geistSans = Geist({
  variable: '--font-geist-sans',
  subsets: ['latin'],
})

const geistMono = Geist_Mono({
  variable: '--font-geist-mono',
  subsets: ['latin'],
})

export const metadata: Metadata = {
  title: 'åˆ›å»º Next åº”ç”¨',
  description: 'ç”± create next app ç”Ÿæˆ',
}

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        {children}
      </body>
    </html>
  )
}
```

```js [layout.js]
import { Geist, Geist_Mono } from 'next/font/google'
import '@unocss/reset/tailwind.css'
import './globals.css'

const geistSans = Geist({
  variable: '--font-geist-sans',
  subsets: ['latin'],
})

const geistMono = Geist_Mono({
  variable: '--font-geist-mono',
  subsets: ['latin'],
})

export const metadata = {
  title: 'åˆ›å»º Next åº”ç”¨',
  description: 'ç”± create next app ç”Ÿæˆ',
}

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body className={`${geistSans.variable} ${geistMono.variable}`}>
        {children}
      </body>
    </html>
  )
}
```

:::

## ä½¿ç”¨æ–¹æ³•

ä½¿ç”¨ unocss ç»™ä½ çš„ç»„ä»¶æ·»åŠ æ ·å¼ï¼

::: code-group

```tsx [page.tsx]
export default function Home() {
  return (
    <main className="py-20 px-12 text-center flex flex-col items-center gap-20px">
      <span className="text-blue text-5xl text-hover:red cursor-default">Nextjs</span>
      <div className="i-carbon-car inline-block text-4xl" />
      <button className="btn w-10rem">æŒ‰é’®</button>
    </main>
  )
}
```

```js [page.js]
export default function Home() {
  return (
    <main className="py-20 px-12 text-center flex flex-col items-center gap-20px">
      <span className="text-blue text-5xl text-hover:red cursor-default">Nextjs</span>
      <div className="i-carbon-car inline-block text-4xl" />
      <button className="btn w-10rem">æŒ‰é’®</button>
    </main>
  )
}
```

:::

## è®¸å¯è¯

* MIT è®¸å¯è¯ Â© 2021-è‡³ä»Š [Anthony Fu](https://github.com/antfu)

---

---
url: 'https://unocss.zhcndoc.com/extractors/pug.md'
description: UnoCSS çš„ Pug æå–å™¨ (@unocss/extractor-pug)
---

# Pug æå–å™¨

æ”¯æŒä» Pug æ¨¡æ¿ä¸­æå–ç±»ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/extractor-pug
```

```bash [yarn]
yarn add -D @unocss/extractor-pug
```

```bash [npm]
npm install -D @unocss/extractor-pug
```

```bash [bun]
bun add -D @unocss/extractor-pug
```

:::

```ts [uno.config.ts]
import extractorPug from '@unocss/extractor-pug'
import { defineConfig } from 'unocss'

export default defineConfig({
  extractors: [
    extractorPug(),
  ],
})
```

---

---
url: 'https://unocss.zhcndoc.com/presets/rem-to-px.md'
description: ä¸ºå·¥å…·è½¬æ¢ rem åˆ° pxï¼ˆ@unocss/preset-rem-to-pxï¼‰ã€‚
---

# Rem è½¬ px é¢„è®¾

ä¸ºæ‰€æœ‰å·¥å…·å°† rem è½¬æ¢ä¸º pxã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-rem-to-px)

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-rem-to-px
```

```bash [yarn]
yarn add -D @unocss/preset-rem-to-px
```

```bash [npm]
npm install -D @unocss/preset-rem-to-px
```

```bash [bun]
bun add -D @unocss/preset-rem-to-px
```

:::

```ts [uno.config.ts]
import presetRemToPx from '@unocss/preset-rem-to-px'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    presetRemToPx(),
    // ...å…¶ä»–é¢„è®¾
  ],
})
```

## ç”¨æ³•

```html
<div class="m-2"></div>
```

::: code-group

```css [æ— ]
.m-2 {
  margin: 0.5rem;
}
```

```css [æœ‰]
.m-2 {
  margin: 8px;
}
```

:::

## é€‰é¡¹

### baseFontSize

* **ç±»å‹:** `number`
* **é»˜è®¤:** `16`

ç”¨äºå°† rem è½¬æ¢ä¸º px çš„åŸºæœ¬å­—ä½“å¤§å°ï¼ˆ`1rem = n px`ï¼‰ã€‚

---

---
url: 'https://unocss.zhcndoc.com/config/safelist.md'
---
# Safelist

Safelist æ˜¯ UnoCSS é…ç½®ä¸­çš„ä¸€ä¸ªé‡è¦é€‰é¡¹ï¼Œå…è®¸ä½ æŒ‡å®šä¸€ç»„å®ç”¨ç±»ï¼Œè¿™äº›ç±»æ— è®ºåœ¨ä½ çš„æºä»£ç ä¸­æ˜¯å¦è¢«æ£€æµ‹åˆ°ï¼Œéƒ½åº”å§‹ç»ˆåŒ…å«åœ¨ç”Ÿæˆçš„ CSS ä¸­ã€‚

## åŸºæœ¬ç”¨æ³•

### å­—ç¬¦ä¸²æ•°ç»„

æœ€ç®€å•çš„ç”¨æ³•æ˜¯æä¾›ä¸€ä¸ªåŒ…å«ä½ æƒ³ä¿ç•™çš„ç±»åçš„å­—ç¬¦ä¸²æ•°ç»„ï¼š

```ts
// uno.config.ts
export default defineConfig({
  safelist: [
    'p-1',
    'p-2',
    'p-3',
    'text-center',
    'bg-red-500'
  ]
})
```

### å‡½æ•°å½¢å¼

Safelist ä¹Ÿå¯ä»¥åŒ…å«åœ¨æ„å»ºæ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°èƒ½å¤ŸåŠ¨æ€è¿”å›ç±»åï¼š

```ts
// uno.config.ts
export default defineConfig({
  safelist: [
    // é™æ€ç±»å
    'p-1',
    'p-2',
    // åŠ¨æ€å‡½æ•°
    context => ['m-1', 'm-2', 'm-3'],
    (context) => {
      // åŸºäºä¸»é¢˜ç”Ÿæˆç±»å
      const colors = Object.keys(context.theme.colors || {})
      return colors.map(color => `bg-${color}-500`)
    }
  ]
})
```

### æ··åˆä½¿ç”¨

ä½ å¯ä»¥åœ¨åŒä¸€ä¸ª safelist é…ç½®ä¸­æ··åˆä½¿ç”¨å­—ç¬¦ä¸²å’Œå‡½æ•°ï¼š

```ts
// uno.config.ts
export default defineConfig({
  safelist: [
    // é™æ€ç±»å
    'prose',
    'bg-orange-300',
    // åŠ¨æ€ç”Ÿæˆ
    () => ['flex', 'grid', 'block'],
    // æ¡ä»¶åŠ¨æ€ç”Ÿæˆ
    (context) => {
      if (process.env.NODE_ENV === 'development') {
        return ['debug-border', 'debug-grid']
      }
      return []
    }
  ]
})
```

## è¿”å›å€¼ç±»å‹

Safelist å‡½æ•°å¯ä»¥è¿”å›ä»¥ä¸‹ç±»å‹çš„å€¼ï¼š

* `Arrayable<string>` - å­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ•°ç»„

```ts
safelist: [
  // è¿”å›å­—ç¬¦ä¸²æ•°ç»„
  () => ['class1', 'class2', 'class3'],

  // è¿”å›å•ä¸ªå­—ç¬¦ä¸²
  () => 'single-class',

  // è¿”å›åµŒå¥—æ•°ç»„ï¼ˆä¼šè¢«æ‹å¹³ï¼‰
  () => [['nested1', 'nested2'], 'normal3']
]
```

## å®é™…åº”ç”¨åœºæ™¯

### åŠ¨æ€ç”Ÿæˆçš„ç±»å

å½“ä½ æœ‰åŠ¨æ€ç”Ÿæˆçš„ç±»åï¼Œå¯èƒ½æ— æ³•è¢«é™æ€åˆ†ææ£€æµ‹åˆ°æ—¶ï¼š

```ts
safelist: [
  // åŠ¨æ€é¢œè‰²ç±»
  () => {
    const dynamicColors = ['primary', 'secondary', 'accent']
    return dynamicColors.flatMap(color => [
      `bg-${color}`,
      `text-${color}`,
      `border-${color}`
    ])
  },

  // åŠ¨æ€å°ºå¯¸ç±»
  () => {
    return Array.from({ length: 12 }, (_, i) => `gap-${i + 1}`)
  }
]
```

### ç¬¬ä¸‰æ–¹ç»„ä»¶åº“æ”¯æŒ

ä¸ºç¬¬ä¸‰æ–¹ç»„ä»¶åº“æä¾›å¿…è¦çš„ç±»åï¼š

```ts
safelist: [
  // ç»„ä»¶åº“ä¿ç•™ç±»å
  'prose',
  'prose-sm',
  'prose-lg',

  // åŠ¨æ€ç”Ÿæˆç»„ä»¶å˜ä½“
  () => {
    const variants = ['primary', 'secondary', 'danger', 'success']
    const sizes = ['sm', 'md', 'lg']

    return variants.flatMap(variant =>
      sizes.map(size => `btn-${variant}-${size}`)
    )
  }
]
```

## ä¸å…¶ä»–é…ç½®çš„å…³ç³»

### ä¸ blocklist çš„åŒºåˆ«

* **safelist**: ç¡®ä¿æŒ‡å®šçš„ç±»åå§‹ç»ˆè¢«åŒ…å«
* **blocklist**: ç¡®ä¿æŒ‡å®šçš„ç±»åå§‹ç»ˆè¢«æ’é™¤

```ts
export default defineConfig({
  safelist: ['always-include'],
  blocklist: ['never-include']
})
```

### ä¸ç”Ÿæˆé€‰é¡¹çš„å…³ç³»

ç”Ÿæˆ CSS æ—¶ï¼Œå¯ä»¥é€šè¿‡ `GenerateOptions` æ§åˆ¶æ˜¯å¦åŒ…å« safelistï¼š

```ts
const { css } = await uno.generate('', {
  safelist: true // åŒ…å«æ¥è‡ª safelist çš„ç±»å
})
```

---

---
url: 'https://unocss.zhcndoc.com/extractors/svelte.md'
---

# Svelte æå–å™¨

æ”¯æŒä» `class:` æŒ‡ä»¤ä¸­æå–ç±»ã€‚

```svelte
<div class:text-orange-400={foo} />
```

å°†è¢«æå–ä¸º `text-orange-400` å¹¶ç”Ÿæˆï¼š

```css
.text-orange-400 {
  color: #f6993f;
}
```

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/extractor-svelte
```

```bash [yarn]
yarn add -D @unocss/extractor-svelte
```

```bash [npm]
npm install -D @unocss/extractor-svelte
```

```bash [bun]
bun add -D @unocss/extractor-svelte
```

:::

```ts [uno.config.ts]
import extractorSvelte from '@unocss/extractor-svelte'
import { defineConfig } from 'unocss'

export default defineConfig({
  extractors: [
    extractorSvelte(),
  ],
})
```

---

---
url: 'https://unocss.zhcndoc.com/presets/tagify.md'
description: UnoCSS çš„ Tagify æ¨¡å¼ (@unocss/preset-tagify)ã€‚
---

# Tagify é¢„è®¾

è¿™å¯ç”¨äº†å…¶ä»–é¢„è®¾çš„ [tagify æ¨¡å¼](#tagify-mode)ã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-tagify)

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-tagify
```

```bash [yarn]
yarn add -D @unocss/preset-tagify
```

```bash [npm]
npm install -D @unocss/preset-tagify
```

```bash [bun]
bun add -D @unocss/preset-tagify
```

:::

```ts [uno.config.ts]
import presetTagify from '@unocss/preset-tagify'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    presetTagify({ /* options */ }),
    // ...å…¶ä»–é¢„è®¾
  ],
})
```

## Tagify æ¨¡å¼

å½“ä½ åªéœ€è¦å°†ä¸€ä¸ª unocss è§„åˆ™åº”ç”¨åˆ°å…ƒç´ æ—¶ï¼Œè¿™ä¸ªé¢„è®¾éå¸¸æœ‰ç”¨ã€‚

```html
<span class="text-red"> çº¢è‰²æ–‡æœ¬ </span>
<div class="flex">å¼¹æ€§ç›’å­</div>
æˆ‘ä»Šå¤©æ„Ÿè§‰ <span class="i-line-md-emoji-grin"></span> å¾ˆå¥½ï¼
```

åœ¨ tagify æ¨¡å¼ä¸‹ï¼Œä½ å¯ä»¥å°† CSS æ ·å¼åµŒå…¥åˆ° HTML æ ‡ç­¾ä¸­ï¼š

```html
<text-red> çº¢è‰²æ–‡æœ¬ </text-red>
<flex> å¼¹æ€§ç›’å­ </flex>
æˆ‘ä»Šå¤©æ„Ÿè§‰ <i-line-md-emoji-grin /> å¾ˆå¥½ï¼
```

ä¸Šé¢çš„ HTML ä¼šå¦‚ä½ æ‰€é¢„æœŸçš„é‚£æ ·å·¥ä½œã€‚

## å¸¦å‰ç¼€

```js
presetTagify({
  prefix: 'un-'
})
```

```html
<!-- è¿™å°†è¢«åŒ¹é… -->
<un-flex> </un-flex>
<!-- è¿™å°†ä¸ä¼šè¢«åŒ¹é… -->
<flex> </flex>
```

## é¢å¤–å±æ€§

ä½ å¯ä»¥ä¸ºåŒ¹é…çš„è§„åˆ™æ³¨å…¥é¢å¤–çš„å±æ€§ï¼š

```js
presetTagify({
  // ä¸ºåŒ¹é…çš„å›¾æ ‡æ·»åŠ  display: inline-block
  extraProperties: matched => matched.startsWith('i-')
    ? { display: 'inline-block' }
    : { }
})
```

```js
presetTagify({
  // extraProperties ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡
  extraProperties: { display: 'block' }
})
```

## é€‰é¡¹

### prefix

* **ç±»å‹ï¼š** `string`

è¦ä½¿ç”¨çš„ tagify å˜ä½“çš„å‰ç¼€ã€‚

### excludedTags

* **ç±»å‹ï¼š** `(string | RegExp)[]`
* **é»˜è®¤å€¼ï¼š** `['b', /^h\d+$/, 'table']`

æ’é™¤å¤„ç†çš„æ ‡ç­¾ã€‚

### extraProperties

* **ç±»å‹ï¼š** `Record<string, string> | ((matched: string) => Partial<Record<string, string>>)`

è¦åº”ç”¨äºåŒ¹é…è§„åˆ™çš„é¢å¤– CSS å±æ€§ã€‚

### defaultExtractor

* **ç±»å‹ï¼š** `boolean`
* **é»˜è®¤å€¼ï¼š** `true`

å¯ç”¨é»˜è®¤æå–å™¨ã€‚

---

---
url: 'https://unocss.zhcndoc.com/integrations/astro.md'
description: UnoCSS åœ¨ Astro ä¸­çš„é›†æˆï¼ˆ@unocss/astroï¼‰ã€‚
---

# Astro é›†æˆ

UnoCSS åœ¨ [Astro](https://astro.build/) ä¸­çš„é›†æˆï¼š`@unocss/astro`ã€‚æŸ¥çœ‹ [ç¤ºä¾‹](https://github.com/unocss/unocss/tree/main/examples/astro)ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D unocss @unocss/astro
```

```bash [yarn]
yarn add -D unocss @unocss/astro
```

```bash [npm]
npm install -D unocss @unocss/astro
```

```bash [bun]
bun add -D unocss @unocss/astro
```

:::

```ts [astro.config.ts]
import { defineConfig } from 'astro/config'
import UnoCSS from 'unocss/astro'

export default defineConfig({
  integrations: [
    UnoCSS(),
  ],
})
```

åˆ›å»ºä¸€ä¸ª `uno.config.ts` æ–‡ä»¶ï¼š

```ts [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  // ...UnoCSS é€‰é¡¹
})
```

### æ ·å¼é‡ç½®

é»˜è®¤æƒ…å†µä¸‹ï¼Œ[æµè§ˆå™¨æ ·å¼é‡ç½®](/guide/style-reset) ä¸ä¼šè¢«æ³¨å…¥ã€‚è¦å¯ç”¨å®ƒï¼Œè¯·å®‰è£… `@unocss/reset` åŒ…ï¼š

::: code-group

```bash [pnpm]
pnpm add -D @unocss/reset
```

```bash [yarn]
yarn add -D @unocss/reset
```

```bash [npm]
npm install -D @unocss/reset
```

```bash [bun]
bun add -D @unocss/reset
```

:::

å¹¶æ›´æ–°æ‚¨çš„ `astro.config.ts`ï¼š

```ts [astro.config.ts]
import { defineConfig } from 'astro/config'
import UnoCSS from 'unocss/astro'

export default defineConfig({
  integrations: [
    UnoCSS({
      injectReset: true // æˆ–é‡ç½®æ–‡ä»¶çš„è·¯å¾„
    }),
  ],
})
```

### æ— é¢„è®¾çš„ä½¿ç”¨

è¯¥æ’ä»¶ä¸å¸¦ä»»ä½•é»˜è®¤çš„é¢„è®¾ã€‚

::: code-group

```bash [pnpm]
pnpm add -D @unocss/astro
```

```bash [yarn]
yarn add -D @unocss/astro
```

```bash [npm]
npm install -D @unocss/astro
```

```bash [bun]
bun add -D @unocss/astro
```

:::

```ts [astro.config.mjs]
import UnoCSS from '@unocss/astro'

export default {
  integrations: [
    UnoCSS(),
  ],
}
```

æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [Vite æ’ä»¶](/integrations/vite)ã€‚

::: info
å¦‚æœæ‚¨æ­£åœ¨ UnoCSS ä¸Šæ„å»ºä¸€ä¸ªå…ƒæ¡†æ¶ï¼Œè¯·æŸ¥çœ‹ [è¿™ä¸ªæ–‡ä»¶](https://github.com/unocss/unocss/blob/main/packages-presets/unocss/src/astro.ts) ä»¥è·å–å¦‚ä½•ç»‘å®šé»˜è®¤é¢„è®¾çš„ç¤ºä¾‹ã€‚
:::

## æ³¨æ„äº‹é¡¹

[`client:only`](https://docs.astro.build/en/reference/directives-reference/#clientonly) ç»„ä»¶å¿…é¡»æ”¾åœ¨ [`components`](https://docs.astro.build/en/core-concepts/project-structure/#srccomponents) æ–‡ä»¶å¤¹ä¸­æˆ–æ·»åŠ åˆ° UnoCSS çš„ `content` é…ç½®ä¸­ï¼Œä»¥ä¾¿è¿›è¡Œå¤„ç†ã€‚

---

---
url: 'https://unocss.zhcndoc.com/integrations/runtime.md'
description: UnoCSS çš„ CSS-in-JS è¿è¡Œæ—¶ï¼ˆ@unocss/runtimeï¼‰ã€‚
---

# è¿è¡Œæ—¶

UnoCSS è¿è¡Œæ—¶æä¾›ä¸€ä¸ª CDN æ„å»ºï¼Œå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ UnoCSSã€‚å®ƒä¼šæ£€æµ‹ DOM æ›´æ”¹å¹¶åŠ¨æ€ç”Ÿæˆæ ·å¼ã€‚

## ç”¨æ³•

åœ¨ä½ çš„ `index.html` ä¸­æ·»åŠ ä»¥ä¸‹ä¸€è¡Œï¼š

```html [index.html]
<script src="https://cdn.jsdelivr.net/npm/@unocss/runtime"></script>
```

è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åœ¨åŠ è½½è¿è¡Œæ—¶ä¹‹å‰å®šä¹‰é…ç½®è¿›è¡Œé…ç½®ï¼š

```html
<!-- å®šä¹‰ unocss é€‰é¡¹... -->
<script>
  window.__unocss = {
    rules: [
      // è‡ªå®šä¹‰è§„åˆ™...
    ],
    presets: [
      // è‡ªå®šä¹‰é¢„è®¾...
    ],
    // ...
  }
</script>
<!-- ... ç„¶ååŠ è½½è¿è¡Œæ—¶ -->
<script src="https://cdn.jsdelivr.net/npm/@unocss/runtime"></script>
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šåº”ç”¨ [Wind3 é¢„è®¾](/presets/wind3)ã€‚

è¿è¡Œæ—¶ä¸åŒ…å«é¢„è®¾æ ·å¼ï¼Œå¦‚æœä½ æƒ³è¦æ ·å¼é‡ç½®ï¼Œå¯ä»¥é€‰æ‹©æ·»åŠ è‡ªå·±çš„æ ·å¼ï¼Œæˆ–è€…ä½¿ç”¨ [é‡ç½®åŒ…](/guide/style-reset) ä¸­çš„æ ·å¼ã€‚

```html
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@unocss/reset/normalize.min.css" />
<!-- æˆ–è€… -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@unocss/reset/tailwind.min.css" />
```

## æ„å»º

æ ¹æ®ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œæä¾›äº†å‡ ç§æ„å»ºæ–¹å¼ã€‚

### Unoï¼ˆé»˜è®¤ï¼‰

ä½¿ç”¨ `@unocss/preset-wind3` é¢„è®¾ï¼š

```html
<script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/uno.global.js"></script>
```

### Attributify

ä½¿ç”¨ `@unocss/preset-wind3` å’Œ `@unocss/preset-attributify` é¢„è®¾ï¼š

```html
<script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/attributify.global.js"></script>
```

### Mini

ä½¿ç”¨ `@unocss/preset-mini` å’Œ `@unocss/preset-attributify` é¢„è®¾ï¼š

```html
<script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/mini.global.js"></script>
```

### æ ¸å¿ƒ

å¦‚æœä½ éœ€è¦æ··åˆä½¿ç”¨é¢„è®¾ï¼Œå¯ä»¥åªåŠ è½½æ ¸å¿ƒè¿è¡Œæ—¶ï¼Œå¹¶æ‰‹åŠ¨åˆ†é…é¢„è®¾ã€‚ä» UnoCSS ä¸­å¯ä»¥ä½¿ç”¨æ‰€æœ‰ [å®˜æ–¹é¢„è®¾](/presets/#presets)ã€‚åœ¨åˆå§‹åŒ–æ ¸å¿ƒè¿è¡Œæ—¶ä¹‹å‰åŠ è½½ä½ éœ€è¦çš„é¢„è®¾ã€‚

```html
<script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/preset-icons.global.js"></script>
<script>
  window.__unocss = {
    presets: [
      () =>
        window.__unocss_runtime.presets.presetIcons({
          scale: 1.2,
          cdn: 'https://esm.sh/',
        }),
    ],
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/@unocss/runtime/core.global.js"></script>
```

## æ‰“åŒ…å™¨ç”¨æ³•

```bash
npm i @unocss/runtime
```

```ts
import initUnocssRuntime from '@unocss/runtime'

initUnocssRuntime({ /* é€‰é¡¹ */ })
```

å¯ä»¥ä½¿ç”¨ `defaults` å±æ€§æä¾› UnoCSS é…ç½®ï¼š

```ts
import initUnocssRuntime from '@unocss/runtime'
import config from './uno.config'

initUnocssRuntime({ defaults: config })
```

å¯ä»¥ä» `esm.sh` å¯¼å…¥é¢„è®¾ï¼š

```ts
import { defineConfig } from '@unocss/runtime'
import presetIcons from 'https://esm.sh/@unocss/preset-icons/browser'
import presetWind3 from 'https://esm.sh/@unocss/preset-wind3'

export default defineConfig({
  presets: [presetWind3(), presetIcons({ cdn: 'https://esm.sh/' })],
})
```

## é˜²æ­¢ FOUC

ç”±äº UnoCSS åœ¨ DOM å°±ç»ªåè¿è¡Œï¼Œå› æ­¤å¯èƒ½ä¼šå‡ºç°â€œæœªæ ·å¼å†…å®¹é—ªçƒâ€ï¼ˆFOUCï¼‰ï¼Œç”¨æˆ·å¯èƒ½ä¼šçœ‹åˆ°é¡µé¢æœªåº”ç”¨æ ·å¼ã€‚

ä½¿ç”¨ `un-cloak` å±æ€§ä¸ CSS è§„åˆ™ï¼Œä¾‹å¦‚ `[un-cloak] { display: none }`ï¼Œä»¥åœ¨ UnoCSS ä¸ºå…¶åº”ç”¨æ ·å¼ä¹‹å‰éšè—æœªæ ·å¼çš„å…ƒç´ ã€‚

::: code-group

```css
[un-cloak] {
  display: none;
}
```

```html
<div class="text-blue-500" un-cloak>è¿™æ®µæ–‡æœ¬åœ¨è“è‰²ä¸‹æ‰å¯è§ã€‚</div>
```

:::

---

---
url: 'https://unocss.zhcndoc.com/integrations/cli.md'
description: UnoCSS çš„ CLI (@unocss/cli).
---

# CLI

UnoCSS çš„å‘½ä»¤è¡Œæ¥å£ï¼š`@unocss/cli`ã€‚

* ğŸ± ä»ä½œç”¨åŸŸæ–‡ä»¶ä¸­æå–å·¥å…·ç±»
* ğŸ‘€ åŒ…å« [è§‚å¯Ÿæ¨¡å¼](#development)
* ğŸ”Œ é€šè¿‡ [`uno.config.ts`](#configurations) æ”¯æŒè‡ªå®šä¹‰é…ç½®
* âš™ï¸ å¤šç§[é€‰é¡¹](#options)ä»¥å®šåˆ¶è¾“å‡ºç»“æœ
* ğŸš€ æ”¯æŒå¤šä¸ª[å…¥å£æ¨¡å¼](#usage)

## å®‰è£…

è¯¥åŒ…ä¸ `unocss` ä¸€èµ·å‘å¸ƒï¼š

::: code-group

```bash [pnpm]
pnpm add -D unocss
```

```bash [yarn]
yarn add -D unocss
```

```bash [npm]
npm install -D unocss
```

```bash [bun]
bun add -D unocss
```

:::

æ‚¨ä¹Ÿå¯ä»¥å®‰è£…ç‹¬ç«‹åŒ…ï¼š

::: code-group

```bash [pnpm]
pnpm add -D @unocss/cli
```

```bash [yarn]
yarn add -D @unocss/cli
```

```bash [npm]
npm install -D @unocss/cli
```

```bash [bun]
bun add -D @unocss/cli
```

:::

::: info
å¦‚æœæ‚¨æ— æ³•æ‰¾åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆä¾‹å¦‚ä½¿ç”¨ `pnpm` è€Œåªå®‰è£…äº† `unocss`ï¼‰ï¼Œæ‚¨éœ€è¦æ˜¾å¼å®‰è£… `@unocss/cli` ç‹¬ç«‹åŒ…ã€‚
:::

## ç”¨æ³•

æ‚¨ä¹Ÿå¯ä»¥å°†å¤šä¸ª glob æ¨¡å¼ä¼ é€’ç»™ `@unocss/cli`ï¼š

```bash
unocss "site/snippets/**/*.php" "site/templates/**/*.php"
```

ç¤ºä¾‹åŒ…é…ç½®ï¼š

::: info
ç¡®ä¿åœ¨æ‚¨çš„ npm è„šæœ¬ glob æ¨¡å¼ä¸­æ·»åŠ è½¬ä¹‰å¼•å·ã€‚
:::

```json [package.json]
{
  "scripts": {
    "dev": "unocss \"site/{snippets,templates}/**/*.php\" --watch",
    "build": "unocss \"site/{snippets,templates}/**/*.php\""
  },
  "devDependencies": {
    "@unocss/cli": "latest"
  }
}
```

### å¼€å‘

æ·»åŠ  `--watch`ï¼ˆæˆ– `-w`ï¼‰æ ‡å¿—ä»¥å¯ç”¨æ–‡ä»¶æ›´æ”¹çš„ç›‘å¬ï¼š

```bash
unocss "site/{snippets,templates}/**/*.php" --watch
```

### ç”Ÿäº§

```bash
unocss "site/{snippets,templates}/**/*.php"
```

æœ€ç»ˆçš„ `uno.css` é»˜è®¤å°†ç”Ÿæˆåˆ°å½“å‰ç›®å½•ã€‚

## å†…ç½®åŠŸèƒ½

### é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `uno.config.js` æˆ– `uno.config.ts` é…ç½®æ–‡ä»¶ä»¥è‡ªå®šä¹‰ UnoCSSã€‚

::: tip
ä¸ºäº†å®ç°æ›´ç»†ç²’åº¦çš„é…ç½®ç®¡ç†ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨é…ç½®æ–‡ä»¶ã€‚å®ƒè¿˜æ”¯æŒå¯¹æ‰«æçš„æ–‡ä»¶è¿›è¡Œä¸åŒå±‚çº§çš„æ‰“åŒ…å’Œé‡å†™ã€‚
:::

```ts [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  cli: {
    entry: {}, // CliEntryItem | CliEntryItem[]
  },
  // ...
})

interface CliEntryItem {
  /**
   * åŒ¹é…æ–‡ä»¶çš„ glob æ¨¡å¼
   */
  patterns: string[]
  /**
   * ç”Ÿæˆçš„ UnoCSS æ–‡ä»¶çš„è¾“å‡ºæ–‡ä»¶å
   */
  outFile: string
  /**
   * æ˜¯å¦é‡å†™è½¬æ¢åçš„å·¥å…·ç±»ã€‚
   *
   * - å¯¹äº CSSï¼šå¦‚æœ rewrite ä¸º trueï¼Œå°†ä¸ç”Ÿæˆæ–°æ–‡ä»¶ï¼Œè€Œæ˜¯ç›´æ¥ä¿®æ”¹åŸæ–‡ä»¶å†…å®¹ã€‚
   * - å¯¹äºå…¶ä»–æ–‡ä»¶ï¼šå¦‚æœ rewrite ä¸º trueï¼Œåˆ™ç”¨è½¬æ¢åçš„å†…å®¹æ›¿æ¢åŸæ–‡ä»¶ã€‚
   *
   * @default false
   */
  rewrite?: boolean

  /**
   * æ˜¯å¦å°†ä»æ¨¡å¼æ‰«æåˆ°çš„ CSS æ–‡ä»¶è¾“å‡ºåˆ° outFile
   *
   * - falseï¼šä¸è¾“å‡º CSS æ–‡ä»¶
   * - trueï¼šè½¬æ¢å¹¶è¾“å‡ºæ‰«æçš„ CSS æ–‡ä»¶å†…å®¹åˆ° outFile
   * - 'multi'ï¼šåˆ†åˆ«è¾“å‡ºæ¯ä¸ª CSS æ–‡ä»¶ï¼Œæ–‡ä»¶åæ ¼å¼ä¸º `${originFile}-[hash]`
   * - 'single'ï¼šå°†å¤šä¸ª CSS æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªï¼Œè¾“å‡ºæ–‡ä»¶åä¸º `outFile-merged.css`
   *
   * @default true
   */
  splitCss?: boolean | 'multi' | 'single'
}
```

### é‡å†™æºæ–‡ä»¶

ä½¿ç”¨ `--rewrite` æ ‡å¿—å¯ä½¿ç”¨è½¬æ¢åçš„å·¥å…·ç±»æ›´æ–°æºæ–‡ä»¶ã€‚å½“æ‚¨å¸Œæœ›ç›´æ¥åœ¨ä»£ç ä¸Šåº”ç”¨è¯¸å¦‚[å˜ä½“ç»„](/transformers/variant-group)æˆ–[ç¼–è¯‘ç±»](/transformers/compile-class)ç­‰è½¬æ¢å™¨æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚

```bash
unocss "src/**/*.vue" --rewrite
```

### CSS æ‹†åˆ†

å½“å®šä¹‰çš„æ¨¡å¼ä¸­åŒ…å« CSS æ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `--split-css` æ ‡å¿—æ§åˆ¶ CSS çš„è¾“å‡ºã€‚

* falseï¼šä¸è¾“å‡º CSS æ–‡ä»¶
* trueï¼šè½¬æ¢å¹¶è¾“å‡ºæ‰«æçš„ CSS æ–‡ä»¶å†…å®¹åˆ° outFile
* 'multi'ï¼šåˆ†åˆ«è¾“å‡ºæ¯ä¸ª CSS æ–‡ä»¶ï¼Œæ–‡ä»¶åæ ¼å¼ä¸º `${originFile}-[hash]`
* 'single'ï¼šå°†å¤šä¸ª CSS æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªï¼Œè¾“å‡ºæ–‡ä»¶åä¸º `outFile-merged.css`

```bash
unocss "src/**/*.vue" --split-css true|false|multi|single
```

### é»˜è®¤é¢„è®¾

å¦‚æœæœªæ‰¾åˆ° `uno.config.ts` æ–‡ä»¶ï¼ŒCLI ä¼šä½¿ç”¨é»˜è®¤é¢„è®¾ã€‚æ‚¨å¯ä»¥é€šè¿‡ `--preset` æ ‡å¿—æŒ‡å®šä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„é»˜è®¤é¢„è®¾ã€‚

* `wind4`ï¼šä½¿ç”¨ `preset-wind4`
* `wind3`ï¼šä½¿ç”¨ `preset-wind3`

```bash
unocss "src/**/*.vue" --preset wind3|wind4
```

> æ³¨æ„ï¼šå¦‚æœå­˜åœ¨é…ç½®æ–‡ä»¶ï¼Œè¯¥é€‰é¡¹å°†è¢«å¿½ç•¥ã€‚

::: warning
ä»ç‰ˆæœ¬ `v66.6.0` èµ·ï¼Œ`@unocss/cli` ä¸å†æä¾›é»˜è®¤é¢„è®¾ã€‚ç”¨æˆ·éœ€è¦æ˜¾å¼æŒ‡å®š `--preset` é€‰é¡¹æˆ–åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®é¢„è®¾ã€‚
:::

æœ‰å…³é€‰é¡¹çš„åˆ—è¡¨ï¼Œè¯·æŸ¥çœ‹ [UnoCSS é…ç½®](/config/) æ–‡æ¡£ã€‚

## é€‰é¡¹

| é€‰é¡¹                        |                                                                                         |
| --------------------------- | --------------------------------------------------------------------------------------- |
| `-v, --version`             | æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬çš„ UnoCSS                                                                   |
| `-c, --config [file]`       | é…ç½®æ–‡ä»¶                                                                                |
| `-o, --out-file <file>`     | ç”Ÿæˆçš„ UnoCSS æ–‡ä»¶çš„è¾“å‡ºæ–‡ä»¶åã€‚é»˜è®¤ä¸ºå½“å‰å·¥ä½œç›®å½•ä¸­çš„ `uno.css`                        |
| `--stdout`                  | å°†ç”Ÿæˆçš„ UnoCSS æ–‡ä»¶å†™å…¥æ ‡å‡†è¾“å‡ºã€‚å°†å¯¼è‡´ `--watch` å’Œ `--out-file` è¢«å¿½ç•¥               |
| `-w, --watch`               | æŒ‡ç¤ºæ˜¯å¦åº”ç›‘å¬ glob æ¨¡å¼æ‰¾åˆ°çš„æ–‡ä»¶                                                      |
| `--preflights`              | å¯ç”¨é¢„æ£€æ ·å¼                                                                            |
| `--rewrite`                 | ä½¿ç”¨è½¬æ¢åçš„å·¥å…·ç±»æ›´æ–°æºæ–‡ä»¶                                                            |
| `--write-transformed`       | ä½¿ç”¨è½¬æ¢åçš„å·¥å…·ç±»æ›´æ–°æºæ–‡ä»¶ï¼ˆå·²å¼ƒç”¨ï¼Œè¯·ä½¿ç”¨ `--rewrite`ï¼‰                              |
| `-m, --minify`              | å‹ç¼©ç”Ÿæˆçš„ CSS                                                                          |
| `--debug`                   | å¯ç”¨è°ƒè¯•æ¨¡å¼                                                                            |
| `--split-css [mode]`        | æ˜¯å¦å°†ä»æ¨¡å¼ä¸­æ‰«æåˆ°çš„ CSS æ–‡ä»¶è¾“å‡ºåˆ° outFileã€‚é€‰é¡¹ï¼š`true`ã€`false`ã€`multi`ã€`single` |
| `--preset [default-preset]` | é€‰æ‹© `wind3` æˆ– `wind4` ä½œä¸ºé»˜è®¤é¢„è®¾ã€‚å¦‚æœå·²ç»é…ç½®äº† `uno.config`ï¼Œè¯¥é€‰é¡¹å°†è¢«å¿½ç•¥ã€‚     |
| `-h, --help`                | æ˜¾ç¤ºå¯ç”¨çš„ CLI é€‰é¡¹                                                                     |

---

---
url: 'https://unocss.zhcndoc.com/integrations/eslint.md'
description: UnoCSS çš„ ESLint é…ç½® (@unocss/eslint-config)ã€‚
---

# ESLint é…ç½®

UnoCSS çš„ ESLint é…ç½®ï¼š`@unocss/eslint-config`ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/eslint-config
```

```bash [yarn]
yarn add -D @unocss/eslint-config
```

```bash [npm]
npm install -D @unocss/eslint-config
```

```bash [bun]
bun add -D @unocss/eslint-config
```

:::

åœ¨ [æ‰å¹³é…ç½®æ ·å¼](https://eslint.org/docs/latest/use/configure/configuration-files-new) ä¸­ï¼š

```js [eslint.config.js]
import unocss from '@unocss/eslint-config/flat'

export default [
  unocss,
  // å…¶ä»–é…ç½®
]
```

åœ¨ä¼ ç»Ÿ `.eslintrc` æ ·å¼ä¸­ï¼š

```json [.eslintrc]
{
  "extends": [
    "@unocss"
  ]
}
```

## è§„åˆ™

* `@unocss/order` - å¼ºåˆ¶è§„å®šç±»é€‰æ‹©å™¨çš„ç‰¹å®šé¡ºåºã€‚
* `@unocss/order-attributify` - å¼ºåˆ¶è§„å®šå±æ€§åŒ–é€‰æ‹©å™¨çš„ç‰¹å®šé¡ºåºã€‚
* `@unocss/blocklist` - ä¸å…è®¸ç‰¹å®šç±»é€‰æ‹©å™¨ \[å¯é€‰]ã€‚
* `@unocss/enforce-class-compile` - å¼ºåˆ¶ç±»ç¼–è¯‘ \[å¯é€‰]ã€‚

### è§„åˆ™é€‰é¡¹

#### `@unocss/order`

* `unoFunctions` (string\[]) - æ ‡è®°åŒ¹é…åç§°çš„å‡½æ•°è°ƒç”¨ä»¥å¼ºåˆ¶æ‰§è¡Œæ­¤è§„åˆ™ã€‚è¿™äº›æ˜¯æ™®é€šåç§°ï¼Œè€Œä¸æ˜¯æ¨¡å¼ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚é»˜è®¤å€¼ï¼š`['clsx', 'classnames']`ã€‚
* `unoVariables` (string\[]) - æ ‡è®°åŒ¹é…åç§°çš„å˜é‡å£°æ˜ä»¥å¼ºåˆ¶æ‰§è¡Œæ­¤è§„åˆ™ã€‚è¿™äº›æ˜¯å¸¦æœ‰æ ‡å¿— `i` çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ã€‚é»˜è®¤å€¼ï¼š`['^cls', 'classNames?$']`ã€‚ä¾‹å¦‚ï¼Œå°†åŒ¹é…å˜é‡åç§° `clsButton` å’Œ `buttonClassNames`ã€‚

### å¯é€‰è§„åˆ™

è¿™äº›è§„åˆ™é»˜è®¤æƒ…å†µä¸‹æœªå¯ç”¨ã€‚è¦å¯ç”¨å®ƒï¼Œè¯·å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ°æ‚¨çš„ `.eslintrc`ï¼š

```json [.eslintrc]
{
  "extends": [
    "@unocss"
  ],
  "rules": {
    "@unocss/<rule-name>": "warn", // æˆ– "error",
    "@unocss/<another-rule-name>": ["warn" /* æˆ– "error" */, { /* é€‰é¡¹ */ }]
  }
}
```

#### `@unocss/blocklist`

å½“ä½¿ç”¨ `blocklist` ä¸­åˆ—å‡ºçš„å·¥å…·ç±»åŒ¹é…æ—¶ï¼Œå°†æŠ›å‡ºè­¦å‘Šæˆ–é”™è¯¯ã€‚

æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨å…ƒå¯¹è±¡çš„ `message` å±æ€§è‡ªå®šä¹‰è¢«é˜»æ­¢è§„åˆ™çš„æ¶ˆæ¯ï¼Œä½¿å…¶æ›´å…·ä¿¡æ¯æ€§å’Œä¸Šä¸‹æ–‡ç‰¹å¼‚æ€§ï¼š

```ts [unocss.config.ts]
export default defineConfig({
  blocklist: [
    ['bg-red-500', { message: 'è¯·æ”¹ç”¨ bg-red-600' }],
    [/-auto$/, { message: s => `è¯·æ”¹ç”¨ ${s.replace(/-auto$/, '-a')} ä»£æ›¿` }], // -> "my-auto" åœ¨é˜»æ­¢åˆ—è¡¨ä¸­: è¯·æ”¹ç”¨ "my-a" ä»£æ›¿
  ],
})
```

#### `@unocss/enforce-class-compile` :wrench:

*æ­¤è§„åˆ™æ—¨åœ¨ä¸ [ç¼–è¯‘ç±»è½¬æ¢å™¨](https://unocss.dev/transformers/compile-class) é…åˆä½¿ç”¨ã€‚*

å½“ç±»å±æ€§æˆ–æŒ‡ä»¤æœªä»¥ `:uno:` å¼€å¤´æ—¶ï¼Œå°†æŠ›å‡ºè­¦å‘Šæˆ–é”™è¯¯ã€‚

:wrench: å°†è‡ªåŠ¨ä¸ºæ‰€æœ‰ç±»å±æ€§å’ŒæŒ‡ä»¤æ·»åŠ å‰ç¼€ `:uno:`ã€‚

é€‰é¡¹ï¼š

* `prefix` (string) - å¯ä¸ [è‡ªå®šä¹‰å‰ç¼€](https://github.com/unocss/unocss/blob/main/packages-presets/transformer-compile-class/src/index.ts#L34) é…åˆä½¿ç”¨ã€‚é»˜è®¤å€¼ï¼š`:uno:`
* `enableFix` (boolean) - åœ¨ `false` æ—¶å¯ç”¨äºæ¸è¿›è¿ç§»ã€‚é»˜è®¤å€¼ï¼š`true`

**æ³¨æ„**ï¼šç›®å‰ä»…æ”¯æŒ Vueã€‚*å¦‚æœæ‚¨å¸Œæœ›åœ¨ JSX ä¸­ä½¿ç”¨ï¼Œè¯·è´¡çŒ®ä¸€ä¸ª PRã€‚* å¦‚æœæ‚¨åœ¨å¯»æ‰¾ Svelte ä¸­çš„æ­¤åŠŸèƒ½ï¼Œæ‚¨å¯èƒ½éœ€è¦ [`svelte-scoped`](https://unocss.dev/integrations/svelte-scoped) æ¨¡å¼ã€‚

## ç›¸å…³å·¥ä½œ

æ„Ÿè°¢ [@devunt](https://github.com/devunt) æä¾›çš„ [eslint-plugin-unocss](https://github.com/devunt/eslint-plugin-unocss)ã€‚

---

---
url: 'https://unocss.zhcndoc.com/integrations/lsp.md'
---

# LSP Support for UnoCSS

UnoCSS Language Server provides IDE-like support for UnoCSS in any editor that supports LSP (Neovim, VS Code, Emacs, etc).

:::info
Note: This is a **community-maintained language server, not officially maintained by the UnoCSS team**. Use at your own discretion. Report issues at [xna00/unocss-language-server](https://github.com/xna00/unocss-language-server).
:::

## Installation

```bash
npm install -g unocss-language-server
```

## Features

* Auto-completion for UnoCSS utilities
* Hover documentation with CSS previews

## Usage

Start the language server with:

```bash
unocss-language-server --stdio
```

Configure your editorâ€™s LSP client to connect to it.

## Bug Reports / Feature Requests

Report it at [Issue Tracker](https://github.com/xna00/unocss-language-server/issues)

---

---
url: 'https://unocss.zhcndoc.com/integrations/nuxt.md'
description: ç”¨äº UnoCSS çš„ Nuxt æ¨¡å—ã€‚
---

# Nuxt æ¨¡å—

UnoCSS çš„ Nuxt æ¨¡å—ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D unocss @unocss/nuxt
```

```bash [yarn]
yarn add -D unocss @unocss/nuxt
```

```bash [npm]
npm install -D unocss @unocss/nuxt
```

```bash [bun]
bun add -D unocss @unocss/nuxt
```

:::

å°† `@unocss/nuxt` æ·»åŠ åˆ°æ‚¨çš„ Nuxt é…ç½®æ–‡ä»¶ä¸­ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: [
    '@unocss/nuxt',
  ],
})
```

åˆ›å»ºä¸€ä¸ª `uno.config.ts` æ–‡ä»¶ï¼š

```ts [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  // ...UnoCSS é€‰é¡¹
})
```

`uno.css` å…¥å£å°†ç”±æ¨¡å—è‡ªåŠ¨æ³¨å…¥ã€‚

## æ”¯æŒçŠ¶æ€

|              | Nuxt 2 | Nuxt Bridge | Nuxt 3 |
| ------------ | :----- | :---------- | :----- |
| Webpack å¼€å‘ | âœ…     | âœ…          | ğŸš§     |
| Webpack æ„å»º | âœ…     | âœ…          | âœ…     |
| Vite å¼€å‘    | -      | âœ…          | âœ…     |
| Vite æ„å»º    | -      | âœ…          | âœ…     |

## é…ç½®

æˆ‘ä»¬å»ºè®®ä½¿ç”¨ä¸“ç”¨çš„ `uno.config.ts` æ–‡ä»¶è¿›è¡Œé…ç½®ã€‚æœ‰å…³æ›´å¤šç»†èŠ‚ï¼Œè¯·å‚è§ [é…ç½®æ–‡ä»¶](/guide/config-file)ã€‚

æ‚¨å¯ä»¥å¯ç”¨ `nuxtLayers` é€‰é¡¹ï¼Œè¿™æ · Nuxt å°†è‡ªåŠ¨åˆå¹¶æ¯ä¸ª Nuxt å±‚çš„ `uno.config` æ–‡ä»¶ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  // ...
  unocss: {
    nuxtLayers: true,
  },
})
```

ç„¶åæ‚¨å¯ä»¥åœ¨æ ¹é…ç½®æ–‡ä»¶ä¸­é‡æ–°å¯¼å‡ºç”Ÿæˆçš„é…ç½®ï¼š

```ts [uno.config.ts]
import config from './.nuxt/uno.config.mjs'

export default config
```

æˆ–è€…ä¿®æ”¹/æ‰©å±•å®ƒï¼š

```ts
import { mergeConfigs } from '@unocss/core'
import config from './.nuxt/uno.config.mjs'

export default mergeConfigs([config, {
  // ä½ çš„è¦†ç›–
}])
```

## è®¸å¯è¯

* MIT è®¸å¯è¯ Â© 2021-è‡³ä»Š [Anthony Fu](https://github.com/antfu)

---

---
url: 'https://unocss.zhcndoc.com/integrations/postcss.md'
---

# PostCSS æ’ä»¶

UnoCSS çš„ PostCSS æ’ä»¶ã€‚æ”¯æŒ `@apply`ã€`@screen` å’Œ `theme()` æŒ‡ä»¤ã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-integrations/postcss)

::: warning
æ­¤åŒ…ç›®å‰å¤„äºå®éªŒçŠ¶æ€ã€‚å®ƒä¸éµå¾ªè¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶ï¼Œå¹¶ä¸”å¯èƒ½åœ¨è¡¥ä¸ç‰ˆæœ¬ä¸­å¼•å…¥ç ´åæ€§æ›´æ”¹ã€‚
:::

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D unocss @unocss/postcss
```

```bash [yarn]
yarn add -D unocss @unocss/postcss
```

```bash [npm]
npm install -D unocss @unocss/postcss
```

```bash [bun]
bun add -D unocss @unocss/postcss
```

:::

```ts [postcss.config.mjs]
import UnoCSS from '@unocss/postcss'

export default {
  plugins: [
    UnoCSS(),
  ],
}
```

```ts [uno.config.ts]
import { defineConfig, presetWind3 } from 'unocss'

export default defineConfig({
  content: {
    filesystem: [
      '**/*.{html,js,ts,jsx,tsx,vue,svelte,astro,marko}',
    ],
  },
  presets: [
    presetWind3(),
  ],
})
```

```css [style.css]
@unocss;
```

## ä½¿ç”¨

### `@unocss`

`@unocss` å±æ€§æ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚å®ƒå°†è¢«ç”Ÿæˆçš„ CSS æ›¿æ¢ã€‚

æ‚¨ä¹Ÿå¯ä»¥å•ç‹¬æ³¨å…¥æ¯ä¸€å±‚ï¼š

```css [style.css]
@unocss preflights;
@unocss default;

/*
  å›é€€å±‚ã€‚å»ºè®®å§‹ç»ˆåŒ…æ‹¬ã€‚
  åªæœ‰æœªä½¿ç”¨çš„å±‚ä¼šåœ¨è¿™é‡Œæ³¨å…¥ã€‚
*/
@unocss;
```

å¦‚æœæ‚¨æƒ³è¦åŒ…å«æ‰€æœ‰å±‚ï¼Œæ— è®ºå®ƒä»¬ä¹‹å‰æ˜¯å¦è¢«åŒ…å«è¿‡ï¼Œå¯ä»¥ä½¿ç”¨ `@unocss all`ã€‚å¦‚æœæ‚¨æƒ³åœ¨å¤šä¸ªæ–‡ä»¶ä¸­åŒ…å«ç”Ÿæˆçš„ CSSï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚

```css
@unocss all;
```

æˆ–è€…ï¼Œå¦‚æœæ‚¨æƒ³æ’é™¤ç‰¹å®šå±‚ï¼Œå¯ä»¥ä½¿ç”¨ `@unocss !<layer>` æŒ‡ä»¤ï¼š

```css
@unocss !preflights, !<other-layer>;
```

### `@apply`

```css
.custom-div {
  @apply text-center my-0 font-medium;
}
```

å°†è¢«è½¬æ¢ä¸ºï¼š

```css
.custom-div {
  margin-top: 0rem;
  margin-bottom: 0rem;
  text-align: center;
  font-weight: 500;
}
```

### `@screen`

`@screen` æŒ‡ä»¤å…è®¸æ‚¨åˆ›å»ºåª’ä½“æŸ¥è¯¢ï¼ŒæŒ‰åç§°å¼•ç”¨æ‚¨çš„æ–­ç‚¹ï¼Œè¿™äº›åç§°æ¥è‡ª [`theme.breakpoints`](https://github.com/unocss/unocss/blob/main/README.md#extend-theme)ã€‚

```css
.grid {
  @apply grid grid-cols-2;
}
@screen xs {
  .grid {
    @apply grid-cols-1;
  }
}
@screen sm {
  .grid {
    @apply grid-cols-3;
  }
}
/* ... */
```

å°†è¢«è½¬æ¢ä¸ºï¼š

```css
.grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (min-width: 320px) {
  .grid {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
}
@media (min-width: 640px) {
  .grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
/* ... */
```

#### æ–­ç‚¹å˜ä½“æ”¯æŒ

`@screen` è¿˜æ”¯æŒ `lt`ã€`at` å˜ä½“

##### `@screen lt`

```css
.grid {
  @apply grid grid-cols-2;
}
@screen lt-xs {
  .grid {
    @apply grid-cols-1;
  }
}
@screen lt-sm {
  .grid {
    @apply grid-cols-3;
  }
}
/* ... */
```

å°†è¢«è½¬æ¢ä¸ºï¼š

```css
.grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (max-width: 319.9px) {
  .grid {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
}
@media (max-width: 639.9px) {
  .grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
/* ... */
```

##### `@screen at`

```css
.grid {
  @apply grid grid-cols-2;
}
@screen at-xs {
  .grid {
    @apply grid-cols-1;
  }
}
@screen at-xl {
  .grid {
    @apply grid-cols-3;
  }
}
@screen at-xxl {
  .grid {
    @apply grid-cols-4;
  }
}
/* ... */
```

å°†è¢«è½¬æ¢ä¸ºï¼š

```css
.grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (min-width: 320px) and (max-width: 639.9px) {
  .grid {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
}
@media (min-width: 1280px) and (max-width: 1535.9px) {
  .grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
@media (min-width: 1536px) {
  .grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}
/* ... */
```

### `theme()`

ä½¿ç”¨ `theme()` å‡½æ•°é€šè¿‡ç‚¹å·è®¿é—®æ‚¨çš„ä¸»é¢˜é…ç½®å€¼ã€‚

```css
.btn-blue {
  background-color: theme('colors.blue.500');
}
```

å°†è¢«ç¼–è¯‘ä¸ºï¼š

```css
.btn-blue {
  background-color: #3b82f6;
}
```

---

---
url: 'https://unocss.zhcndoc.com/integrations/svelte-scoped.md'
description: Svelte ä½œç”¨åŸŸ Vite æ’ä»¶å’Œ UnoCSS çš„ Svelte é¢„å¤„ç†å™¨ã€‚
---

# Svelte ä½œç”¨åŸŸ

ä¸ºæ¯ä¸ª Svelte ç»„ä»¶çš„å·¥å…·ç±»ç”Ÿæˆçš„ CSS ä¼šç›´æ¥æ”¾å…¥ Svelte ç»„ä»¶çš„ `<style>` å—ä¸­ï¼Œè€Œéç½®äºå…¨å±€ CSS æ–‡ä»¶ä¸­ã€‚

è¿™ä¸ªç»„ä»¶ï¼š

```svelte
<div class="mb-1" />
```

ä¼šè¢«è½¬åŒ–ä¸ºï¼š

```svelte
<div class="uno-ei382o" />

<style>
  :global(.uno-ei382o) {
    margin-bottom: 0.25rem;
  }
</style>
```

## ä½•æ—¶ä½¿ç”¨

| ä½¿ç”¨åœºæ™¯   |     | æè¿°                                                                                                                                  | ä½¿ç”¨çš„åŒ…                                                 |
| ---------- | --- | ------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- |
| è¾ƒå°çš„åº”ç”¨ | :x: | åªæœ‰ 1 ä¸ªå…¨å±€ CSS æ–‡ä»¶ä¼šæ›´æ–¹ä¾¿ã€‚ä¸º [Svelte](/integrations/vite#svelte)/[SvelteKit](/integrations/vite#sveltekit) ä½¿ç”¨å¸¸è§„ Vite æ’ä»¶ã€‚ | [unocss/vite](/integrations/vite#svelte)                 |
| è¾ƒå¤§çš„åº”ç”¨ | âœ…  | Svelte ä½œç”¨åŸŸå¯ä»¥å¸®åŠ©ä½ é¿å…å…¨å±€ CSS æ–‡ä»¶ä¸æ–­å¢é•¿ã€‚                                                                                    | [@unocss/svelte-scoped/vite](#vite-plugin)               |
| ç»„ä»¶åº“     | âœ…  | ç”Ÿæˆçš„æ ·å¼ç›´æ¥åµŒå…¥æ„å»ºçš„ç»„ä»¶ä¸­ï¼Œæ— éœ€åœ¨æ¶ˆè´¹åº”ç”¨çš„æ„å»ºæµç¨‹ä¸­ä½¿ç”¨ UnoCSSã€‚                                                               | [@unocss/svelte-scoped/preprocess](#svelte-preprocessor) |

## å·¥ä½œåŸç†

å¸¸è§„ UnoCSS/Tailwind CSS é…ç½®å°†å·¥å…·ç±»æ ·å¼æ”¾å…¥å…¨å±€ CSS æ–‡ä»¶ï¼Œå¹¶ä¿æŒæ­£ç¡®çš„é¡ºåºã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒSvelte ä½œç”¨åŸŸå°†æ ·å¼åˆ†æ•£è‡³å¤šä¸ªæ— åºçš„ Svelte ç»„ä»¶ CSS æ–‡ä»¶ä¸­ã€‚ä½†æ˜¯ï¼Œå®ƒå¿…é¡»ä¿æŒå·¥å…·ç±»æ ·å¼ä¸ºå…¨å±€æ ·å¼ï¼Œä»¥ä¾¿æ ¹æ®éœ€è¦æ”¯æŒå¦‚ä»å³åˆ°å·¦ç­‰ä¸Šä¸‹æ–‡æ„ŸçŸ¥åŠŸèƒ½ä»¥åŠä¸‹æ–‡æ‰€è¿°çš„å…¶ä»–[ç”¨ä¾‹](#context-aware)ã€‚è¿™ä¸€æŒ‘æˆ˜é€šè¿‡ä½¿ç”¨ Svelte çš„ `:global()` åŒ…è£¹å™¨å¾—ä»¥è§£å†³ï¼Œæ”¾å¼ƒé»˜è®¤çš„ Svelte CSS å“ˆå¸Œæ–¹æ³•ï¼Œæ”¹ä¸ºåŸºäºæ–‡ä»¶å + ç±»å(s) ç”Ÿæˆå“ˆå¸Œï¼Œç¼–è¯‘å‡ºå”¯ä¸€çš„ç±»åï¼Œè¿™æ ·å¯ä»¥å…¨å±€ä½¿ç”¨ä¸”é¿å…æ ·å¼å†²çªã€‚

## ç”¨æ³•

ç”±äº Svelte ä½œç”¨åŸŸä¼šé‡å†™ä½ çš„å·¥å…·ç±»åï¼Œæ‰€ä»¥ä½ åªèƒ½åœ¨ä»¥ä¸‹ä½ç½®ç¼–å†™å®ƒä»¬ï¼š

| æ”¯æŒçš„è¯­æ³•         | ç¤ºä¾‹                                                                                        |
| ------------------ | ------------------------------------------------------------------------------------------- |
| ç±»å±æ€§             | `<div class="mb-1" />`                                                                      |
| ç±»æŒ‡ä»¤             | `<div class:mb-1={condition} />`                                                            |
| ç±»æŒ‡ä»¤ç®€å†™         | `<div class:logo />`                                                                        |
| ç±»å±æ€§ï¼ˆPropï¼‰     | `<Button class="mb-1" />`                                                                   |
| ç±»ä¼¼ `clsx` çš„å†™æ³• | `<div class={["mb-1", { logo, 'font-bold': isBold() }, isUnderlined() && 'underline' ]} />` |

Svelte ä½œç”¨åŸŸè®¾è®¡æˆå¯æ— ç¼æ›¿ä»£ä½ å½“å‰ä½¿ç”¨å·¥å…·æ ·å¼çš„é¡¹ç›®ï¼Œå› æ­¤ç±»å±æ€§ä¸­çš„è¡¨è¾¾å¼ä¹Ÿè¢«æ”¯æŒï¼ˆä¾‹å¦‚ `<div class="mb-1 {foo ? 'mr-1' : 'mr-2'}" />`ï¼‰ï¼Œä½†æˆ‘ä»¬å»ºè®®ä½ ä»¥åä½¿ç”¨ `clsx` è¯­æ³•ã€‚æ³¨æ„ï¼Œå¦‚æœä½ ä»¥å…¶ä»–æ–¹å¼ä½¿ç”¨ç±»åï¼Œæ¯”å¦‚æ”¾åœ¨ `<script>` å—å†…æˆ–å¯ç”¨äº† attributify æ¨¡å¼ï¼Œåˆ™åœ¨ä½¿ç”¨ Svelte ä½œç”¨åŸŸå‰éœ€é‡‡å–é¢å¤–æªæ–½ã€‚ä½ å¯ä»¥ä½¿ç”¨ `safelist` é€‰é¡¹ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„[é¢„è®¾](#presets-support)éƒ¨åˆ†äº†è§£æ›´å¤šæŠ€å·§ã€‚

### ä¸Šä¸‹æ–‡æ„ŸçŸ¥

å°½ç®¡æ ·å¼åˆ†å¸ƒåœ¨åº”ç”¨ä¸­ä¸åŒçš„ Svelte ç»„ä»¶ï¼Œä½†å®ƒä»¬ä»æ˜¯å…¨å±€ç±»ï¼Œå¹¶èƒ½ç›¸äº’ä½œç”¨äºç»„ä»¶å¤–çš„å…ƒç´ ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š

#### ä¾èµ–çˆ¶å…ƒç´ 

ä¾èµ–çˆ¶ç»„ä»¶å±æ€§çš„ç±»ï¼š

```svelte
<div class="dark:mb-2 rtl:right-0"></div>
```

è½¬åŒ–ä¸ºï¼š

```svelte
<div class="uno-3hashz"></div>

<style>
  :global(.dark .uno-3hashz) {
    margin-bottom: 0.5rem;
  }
  :global([dir="rtl"] .uno-3hashz) {
    right: 0rem;
  }
</style>
```

#### å½±å“å­ç»„ä»¶

ä½ å¯ä»¥è®©ä¸‰ä¸ªå­å…ƒç´ ä¹‹é—´æœ‰æ°´å¹³é—´è·ï¼Œå…¶ä¸­æœ‰äº›å­å…ƒç´ åœ¨ä¸åŒç»„ä»¶ä¸­ï¼š

```svelte
<div class="space-x-1">
  <div>Status: online</div>
  <Button>FAQ</Button>
  <Button>Login</Button>
</div>
```

è½¬åŒ–ä¸ºï¼š

```svelte
<div class="uno-7haszz">
  <div>Status: online</div>
  <Button>FAQ</Button>
  <Button>Login</Button>
</div>

<style>
  :global(.uno-7haszz > :not([hidden]) ~ :not([hidden])) {
    --un-space-x-reverse: 0;
    margin-left: calc(0.25rem * calc(1 - var(--un-space-x-reverse)));
    margin-right: calc(0.25rem * var(--un-space-x-reverse));
  }
</style>
```

#### å‘å­ç»„ä»¶ä¼ é€’ç±»

ä½ å¯ä»¥ç»™ç»„ä»¶æ·»åŠ  `class` å±æ€§ï¼Œä»è€Œåœ¨ä½¿ç”¨ç»„ä»¶å¤„ä¼ é€’è‡ªå®šä¹‰ç±»ã€‚

```svelte
<Button class="px-2 py-1">Login</Button>
```

è½¬åŒ–ä¸ºï¼š

```svelte
<Button class="uno-4hshza">Login</Button>

<style>
  :global(.uno-4hshza) {
    padding-left:0.5rem;
    padding-right:0.5rem;
    padding-top:0.25rem;
    padding-bottom:0.25rem;
  }
</style>
```

å®ç°æ¥æ”¶ç»„ä»¶ä¸­ç±»çš„ç®€å•æ–¹æ³•æ˜¯å°†å…¶æ”¾åœ¨å…ƒç´ ä¸Šï¼Œä½¿ç”¨ `{$$props.class}`ï¼Œä¾‹å¦‚ `div class="{$$props.class} foo bar" />`ã€‚

### åº”ç”¨æŒ‡ä»¤

ä½ å¯ä»¥åœ¨ `<style>` å—ä¸­ä½¿ç”¨åº”ç”¨æŒ‡ä»¤ï¼Œæ”¯æŒ `--at-apply` æˆ– `@apply`ï¼Œæˆ–è€…é€šè¿‡ `applyVariables` é€‰é¡¹ä¼ å…¥è‡ªå®šä¹‰å€¼ã€‚

Svelte ä½œç”¨åŸŸç”šè‡³èƒ½å¤Ÿæ­£ç¡®å¤„ç†ä¸Šä¸‹æ–‡ç›¸å…³ç±»å¦‚ `dark:text-white`ï¼Œè€Œæ™®é€šçš„ [`@unocss/transformer-directives`](/transformers/directives) åŒ…å¤„ç†ä¸äº†ï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸“é—¨ä¸º Svelte æ ·å¼å—è®¾è®¡çš„ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ Svelte ä½œç”¨åŸŸï¼Œè¿™ä¸ªç»„ä»¶ï¼š

```svelte
<div />

<style>
  div {
    --at-apply: rtl:ml-2;
  }
</style>
```

å°†è¢«è½¬åŒ–ä¸ºï¼š

```svelte
<div />

<style>
  :global([dir=\\"rtl\\"]) div {
    margin-right: 0.5rem;
  }
</style>
```

ä¸ºä½¿ `rtl:ml-2` æ­£å¸¸å·¥ä½œï¼Œ`[dir="rtl"]` é€‰æ‹©å™¨è¢«åŒ…è£¹åœ¨ `:global()` ä¸­ï¼Œé˜²æ­¢ Svelte ç¼–è¯‘å™¨åœ¨å½“å‰ç»„ä»¶æ²¡æœ‰è¯¥å±æ€§çš„å…ƒç´ æ—¶è‡ªåŠ¨å‰¥ç¦»å®ƒã€‚ç„¶è€Œï¼Œ`div` ä¸èƒ½è¢«åŒ…å«åœ¨ `:global()` ä¸­ï¼Œå› ä¸ºè¯¥æ ·å¼å°†å½±å“ä½ åº”ç”¨ä¸­çš„æ‰€æœ‰ `div`ã€‚

### å…¶ä»–æ ·å¼å—æŒ‡ä»¤

æ”¯æŒä½¿ç”¨ [theme()](https://unocss.dev/transformers/directives#theme)ï¼Œä½† **ä¸æ”¯æŒ** [@screen](https://unocss.dev/transformers/directives#screen)ã€‚

## Vite æ’ä»¶

åœ¨ Svelte æˆ– SvelteKit åº”ç”¨ä¸­ï¼Œç”Ÿæˆçš„æ ·å¼ä¼šç›´æ¥æ³¨å…¥å„è‡ªçš„ Svelte ç»„ä»¶ï¼ŒåŒæ—¶åªæŠŠæœ€å°‘å¿…è¦çš„æ ·å¼æ”¾å…¥ä¸€ä¸ªå…¨å±€æ ·å¼è¡¨ã€‚æŸ¥çœ‹ Stackblitz ä¸­çš„ [SvelteKit ç¤ºä¾‹](https://github.com/unocss/unocss/tree/main/examples/sveltekit-scoped)ï¼š

[![åœ¨ StackBlitz ä¸­æ‰“å¼€](https://developer.stackblitz.com/img/open_in_stackblitz_small.svg)](https://stackblitz.com/fork/github/unocss/unocss/tree/main/examples/sveltekit-scoped)

### å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D unocss @unocss/svelte-scoped
```

```bash [yarn]
yarn add -D unocss @unocss/svelte-scoped
```

```bash [npm]
npm install -D unocss @unocss/svelte-scoped
```

```bash [bun]
bun add -D unocss @unocss/svelte-scoped
```

:::

#### æ·»åŠ æ’ä»¶

å°† `@unocss/svelte-scoped/vite` åŠ å…¥ä½ çš„ Vite é…ç½®ä¸­ï¼š

```ts [vite.config.ts]
import { sveltekit } from '@sveltejs/kit/vite'
import UnoCSS from '@unocss/svelte-scoped/vite'
import { defineConfig } from 'vite'

export default defineConfig({
  plugins: [
    UnoCSS({
      // injectReset: '@unocss/reset/normalize.css', // æŸ¥çœ‹ç±»å‹å®šä¹‰äº†è§£æ‰€æœ‰æ”¯æŒçš„é‡ç½®é€‰é¡¹æˆ–å¦‚ä½•ä¼ å…¥è‡ªå®šä¹‰é‡ç½®
      // ...å…¶ä»– Svelte ä½œç”¨åŸŸé€‰é¡¹
    }),
    sveltekit(),
  ],
})
```

#### æ·»åŠ é…ç½®æ–‡ä»¶

æŒ‰ç…§[ä¸‹æ–¹](#configuration)çš„è¯´æ˜è®¾ç½®ä½ çš„ `uno.config.ts` æ–‡ä»¶ã€‚

#### å…¨å±€æ ·å¼

è™½ç„¶å‡ ä¹æ‰€æœ‰æ ·å¼éƒ½æ”¾åœ¨å„ç»„ä»¶å†…ï¼Œä½†ä»æœ‰éƒ¨åˆ†æ ·å¼å¿…é¡»æ”¾ç½®å…¨å±€æ ·å¼è¡¨ï¼šé¢„é£è¡Œ (preflights)ã€å®‰å…¨åˆ—è¡¨ (safelist) ä»¥åŠå¯é€‰çš„é‡ç½®æ ·å¼ï¼ˆå¦‚æœä½ ä½¿ç”¨ `injectReset` é€‰é¡¹ï¼‰ã€‚

å°† `%unocss-svelte-scoped.global%` å ä½ç¬¦æ”¾å…¥ä½ çš„ `<head>` æ ‡ç­¾å†…ã€‚Svelte ä¸­é€šå¸¸åœ¨ `index.html`ï¼ŒSvelteKit ä¸­åˆ™æ˜¯åœ¨ `%sveltekit.head%` ä¹‹å‰çš„ `app.html` æ–‡ä»¶ä¸­ï¼š

```html [index.html]
<head>
  <!-- ... -->
  <title>ä½¿ç”¨ UnoCSS Svelte ä½œç”¨åŸŸçš„ SvelteKit</title>
  %unocss-svelte-scoped.global%
  %sveltekit.head%
</head>
```

## Svelte é¢„å¤„ç†å™¨

ä½¿ç”¨å·¥å…·ç±»æ„å»ºä¸€ä¸ªä¸ä¾èµ–å¤–éƒ¨ CSS æ–‡ä»¶çš„ç»„ä»¶åº“ï¼Œé€šè¿‡é¢„å¤„ç†å™¨å°†ç”Ÿæˆæ ·å¼ç›´æ¥åµŒå…¥æ„å»ºç»„ä»¶ä¸­ã€‚æŸ¥çœ‹ Stackblitz ä¸­çš„ [SvelteKit Library ç¤ºä¾‹](https://github.com/unocss/unocss/tree/main/examples/sveltekit-preprocess)ï¼š

[![åœ¨ StackBlitz ä¸­æ‰“å¼€](https://developer.stackblitz.com/img/open_in_stackblitz_small.svg)](https://stackblitz.com/fork/github/unocss/unocss/tree/main/examples/sveltekit-preprocess)

### å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D unocss @unocss/svelte-scoped
```

```bash [yarn]
yarn add -D unocss @unocss/svelte-scoped
```

```bash [npm]
npm install -D unocss @unocss/svelte-scoped
```

```bash [bun]
bun add -D unocss @unocss/svelte-scoped
```

:::

#### æ·»åŠ é¢„å¤„ç†å™¨

å°† `@unocss/svelte-scoped/preprocess` æ·»åŠ åˆ°ä½ çš„ Svelte é…ç½®ä¸­ï¼š

```ts [svelte.config.js]
import adapter from '@sveltejs/adapter-auto'
import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'
import UnoCSS from '@unocss/svelte-scoped/preprocess'

const config = {
  preprocess: [
    vitePreprocess(),
    UnoCSS({
      // ... é¢„å¤„ç†å™¨é€‰é¡¹
    }),
  ],
  // å…¶ä»– Svelte é…ç½®
}
```

#### å¼€å‘ç¯å¢ƒä¸­ç¦ç”¨ç±»åˆå¹¶

ä½¿ç”¨ Svelte ä½œç”¨åŸŸçš„ Vite æ’ä»¶æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨åŒºåˆ† `dev` ä¸ `build` ç¯å¢ƒã€‚å¼€å‘æ—¶ï¼Œç±»åä¿æŒåŒºåˆ†åº¦å¹¶ä¸”ä¼šæ ¹æ®ä½ç½®å“ˆå¸Œï¼Œæ–¹ä¾¿åœ¨æµè§ˆå™¨å¼€å‘å·¥å…·ä¸­å¯ç”¨æˆ–ç¦ç”¨ã€‚ä¸¾ä¾‹ï¼Œ`class="mb-1 mr-1"` ä¼šå˜æˆç±»ä¼¼ `class="_mb-1_9hwi32 _mr-1_84jfy4"`ã€‚ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿™äº›ä¼šè¢«ç¼–è¯‘æˆä¸€ä¸ªå•ä¸€çš„å“ˆå¸Œç±»åï¼Œé»˜è®¤å‰ç¼€ä¸º `uno-`ï¼Œæ ¹æ®æ–‡ä»¶å+ç±»åç”Ÿæˆï¼Œä¾‹å¦‚ `class="uno-84dke3"`ã€‚

å¦‚æœä½ å¸Œæœ›é¢„å¤„ç†å™¨åœ¨å¼€å‘æ—¶ä¹Ÿä¿æŒæ­¤è¡Œä¸ºï¼Œå¿…é¡»æ˜¾å¼æ ¹æ®ç¯å¢ƒè®¾ç½® `combine` é€‰é¡¹ã€‚ä¸€ä¸ªåšæ³•æ˜¯å®‰è£… [cross-env](https://www.npmjs.com/package/cross-env)ï¼Œå¹¶å°†å¼€å‘è„šæœ¬æ”¹ä¸ºï¼š

```json
{
  "dev": "cross-env NODE_ENV=development vite dev"
}
```

ç„¶åè°ƒæ•´ svelte.config.jsï¼š

```diff
+const prod = process.env.NODE_ENV !== 'development'
const config = {
  preprocess: [
    vitePreprocess(),
    UnoCSS({
+      combine: prod,
    }),
  ],
}
```

#### æ·»åŠ é…ç½®æ–‡ä»¶

è¯·æ ¹æ®[ä¸‹æ–¹](#configuration)è¯´æ˜è®¾ç½®ä½ çš„ `uno.config.ts` æ–‡ä»¶ã€‚

### é¢„é£è¡Œï¼ˆPreflightsï¼‰

ä½¿ç”¨é¢„å¤„ç†å™¨æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©åœ¨éœ€è¦çš„ç»„ä»¶é‡ŒåŒ…å«é¢„é£è¡Œæ ·å¼ï¼Œæ–¹æ³•æ˜¯åœ¨ `<style>` æ ‡ç­¾åŠ å…¥ `uno-preflights` å±æ€§ï¼š

```html
<style uno-preflights></style>
```

ä»»ä½•ä»¥å¥ç‚¹å¼€å¤´çš„ç‰¹æ®Šé¢„é£è¡Œæ ·å¼ï¼ˆå¦‚ `.prose :where(a):not(:where(.not-prose, .not-prose *))`ï¼‰ä¼šè¢«åŒ…è£¹åœ¨ `:global()` ä¸­ï¼Œä»¥é¿å…è¢« Svelte ç¼–è¯‘å™¨è‡ªåŠ¨ç§»é™¤ã€‚

*å¦‚æœä½ çš„ç±»ä¸ä¾èµ–é¢„é£è¡Œï¼Œæˆ–è€…ç»„ä»¶ä»…åœ¨åŒ…å«é¢„é£è¡Œçš„åº”ç”¨é‡Œè¢«æ¶ˆè´¹ï¼Œåˆ™ä¸å¿…ä¸ºå•ä¸ªç»„ä»¶é¢å¤–æ·»åŠ é¢„é£è¡Œã€‚*

### å®‰å…¨åˆ—è¡¨ï¼ˆSafelistï¼‰

ä½¿ç”¨é¢„å¤„ç†å™¨æ—¶ï¼Œå¯é€šè¿‡åŠ å…¥ `uno-safelist` æ ·å¼å±æ€§ï¼Œåœ¨ç»„ä»¶å†…åŒ…å«å®‰å…¨åˆ—è¡¨ç±»ï¼š

```html
<style uno-safelist></style>
```

å®‰å…¨åˆ—è¡¨æ ·å¼ä¼šè¢«åŒ…è£¹åœ¨ `:global()` ä¸­ï¼Œé¿å…è¢« Svelte ç¼–è¯‘å™¨è‡ªåŠ¨å‰¥ç¦»ã€‚

## é…ç½®

è¯·å°†ä½ çš„ UnoCSS é…ç½®å†™å…¥ `uno.config.ts` æ–‡ä»¶ä¸­ï¼š

```ts [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  // ...UnoCSS é…ç½®é€‰é¡¹
})
```

Extractors ä¸è¢«æ”¯æŒï¼Œå› ä¸ºå¸¸è§„ UnoCSS å…¨å±€ç”¨æ³•å’Œ Svelte ä½œç”¨åŸŸç”¨æ³•å­˜åœ¨å·®å¼‚ã€‚Presets å’Œ Transformers ä¼šæŒ‰ä¸‹è¿°ç« èŠ‚æ”¯æŒã€‚æ¬²äº†è§£å…¨éƒ¨è¯¦æƒ…ï¼Œè¯·æŸ¥çœ‹ [é…ç½®æ–‡ä»¶](/guide/config-file) å’Œ [é…ç½®å‚è€ƒ](/config/)ã€‚

### é¢„è®¾æ”¯æŒ

é‰´äºå…¨å±€æ ·å¼è¡¨ä¸­ä»…æœ‰å°‘é‡å¿…è¦æ ·å¼ï¼Œå…¶ä»–æ ·å¼å‡åˆ†å¸ƒåœ¨å„ç»„ä»¶ä¸­ï¼Œé¢„è®¾éœ€é€æ¡ˆå¤„ç†ï¼š

| é¢„è®¾                                                                                                                                                                                                                                                                                                                                                                        | æ”¯æŒ | å¤‡æ³¨                                                                                                                                                                                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--: | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ~~[@unocss/preset-uno](https://unocss.dev/presets/uno)~~, [@unocss/preset-mini](https://unocss.dev/presets/mini), [@unocss/preset-wind3](https://unocss.dev/presets/wind3), [@unocss/preset-icons](https://github.com/unocss/unocss/tree/main/packages-presets/preset-icons), [@unocss/web-fonts](https://github.com/unocss/unocss/tree/main/packages-presets/preset-icons) |  âœ…  | è¿™äº›é¢„è®¾å’Œæ‰€æœ‰ç¤¾åŒºæ’ä»¶ï¼ˆä¾‹å¦‚ [unocss-preset-forms](https://github.com/Julien-R44/unocss-preset-forms)ï¼‰ä»…ä¾èµ–è§„åˆ™/å˜ä½“/é¢„é£è¡Œæ ·å¼ï¼Œå› æ­¤å¯ä»¥æ­£å¸¸å·¥ä½œã€‚                                                                                   |
| [@unocss/preset-typography](https://github.com/unocss/unocss/tree/main/packages-presets/preset-typography)                                                                                                                                                                                                                                                                  |  âœ…  | ç”±äºè¯¥é¢„è®¾é€šè¿‡é¢„é£è¡Œæ ·å¼æ·»åŠ è§„åˆ™é›†ï¼Œä½¿ç”¨æ—¶å¿…é¡»å°† `prose` ç±»åŠ å…¥å®‰å…¨åˆ—è¡¨ï¼Œå¦åˆ™é¢„é£è¡Œæ ·å¼ä¸ä¼šè¢«è§¦å‘ã€‚æ¥è‡ªè¯¥é¢„è®¾çš„å…¶ä»–ç±»ï¼Œå¦‚ `prose-pink`ï¼Œå¯ä»¥è¢«ç»„ä»¶ä½œç”¨åŸŸã€‚ ä» `v66.5.0` èµ·ï¼Œ`prose` æ ·å¼è¢«é‡æ„ä¸ºè§„åˆ™ï¼Œä¸å†éœ€è¦å°†å…¶ç±»åŠ å…¥å®‰å…¨åˆ—è¡¨ã€‚ |
| [@unocss/preset-rem-to-px](https://github.com/unocss/unocss/tree/main/packages-presets/preset-rem-to-px)                                                                                                                                                                                                                                                                    |  âœ…  | è¯¥é¢„è®¾å’Œæ‰€æœ‰ä»…ä¿®æ”¹æ ·å¼è¾“å‡ºçš„é¢„è®¾å‡æ”¯æŒã€‚                                                                                                                                                                                                |
| [@unocss/preset-attributify](https://github.com/unocss/unocss/tree/main/packages-presets/preset-attributify)                                                                                                                                                                                                                                                                |  -   | è¯¥é¢„è®¾ä¸æ”¯æŒã€‚è¯·æ”¹ç”¨ [unplugin-attributify-to-class](https://github.com/MellowCo/unplugin-attributify-to-class) Vite æ’ä»¶ï¼Œå¹¶åœ¨ Svelte ä½œç”¨åŸŸæ’ä»¶å‰ä½¿ç”¨ï¼š`attributifyToClass({ include: [/\.svelte$/]})`ã€‚                              |
| [@unocss/preset-tagify](https://github.com/unocss/unocss/tree/main/packages-presets/preset-tagify)                                                                                                                                                                                                                                                                          |  -   | æ·»åŠ äº†è‡ªå®šä¹‰è§£æå™¨çš„é¢„è®¾ä¸æ”¯æŒã€‚è¯·å…ˆåˆ›å»ºé¢„å¤„ç†å™¨å°† `<text-red>Hi</text-red>` è½¬æ¢ä¸º `<span class="text-red">Hi</span>`ï¼Œç„¶åå¯è€ƒè™‘æäº¤ PR æ·»åŠ å¯¹åº”æ”¯æŒã€‚                                                                                |

å…¶ä»–é¢„è®¾å¦‚æœä¸ä¾èµ–ä¼ ç»Ÿçš„ `class="..."` ç”¨æ³•ï¼Œéœ€è¦å…ˆå°†ç±»åé¢„å¤„ç†æˆ `class="..."` å±æ€§ã€‚å¦‚æœå®ƒä»¬æ·»åŠ äº†ç±»ä¼¼ typography çš„ `.prose` ç±»ç­‰éœ€è¦é¢„è®¾è§¦å‘çš„å…ƒç´ ï¼Œåˆ™éœ€è¦å°†è§¦å‘é¢„è®¾çš„ç±»æ”¾åœ¨å®‰å…¨åˆ—è¡¨ä¸­ã€‚

### è½¬æ¢å™¨æ”¯æŒ

è½¬æ¢å™¨æ”¯æŒç”¨äº CSS æ–‡ä»¶ï¼ˆcss|postcss|sass|scss|less|stylus|stylï¼‰ï¼Œä½¿ç”¨æ—¶ï¼Œå¯åœ¨ `vite.config.ts` ä¸­å°†è½¬æ¢å™¨åŠ å…¥ `cssFileTransformers` é…ç½®é¡¹ï¼š

```ts [vite.config.ts]
import transformerDirectives from '@unocss/transformer-directives'

export default defineConfig({
  plugins: [
    UnoCSS({
      cssFileTransformers: [transformerDirectives()],
    }),
    sveltekit(),
  ],
})
```

::: info
ç”±äº Svelte ä½œç”¨åŸŸçš„å·¥ä½œæœºåˆ¶ï¼Œè½¬æ¢å™¨ä¸æ”¯æŒåœ¨ Svelte ç»„ä»¶ä¸­ä½¿ç”¨ã€‚
:::

## ä½œç”¨åŸŸå·¥å…·ç±»æ¿€å‘åˆ›é€ åŠ›

å…³äºä½•æ—¶è€ƒè™‘ä½¿ç”¨ä½œç”¨åŸŸæ ·å¼çš„å»ºè®®ï¼šåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå¦‚æœä½ æ¯æ¬¡ä½¿ç”¨ç±»ä¼¼ `.md:max-w-[50vw]` çš„ç±»æ—¶ï¼Œéƒ½åªç”¨ä¸€æ¬¡ï¼Œä½ å¯èƒ½ä¼šä¸å®‰ï¼Œå› ä¸ºè¿™è®©ä½ æ„Ÿè§‰å…¨å±€æ ·å¼è¡¨æŒç»­è†¨èƒ€ï¼Œè¯•è¯•è¿™ä¸ªåŒ…å§ã€‚å¯¹å·¥å…·ç±»çš„çŠ¹è±«é™åˆ¶äº†åˆ›é€ åŠ›ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥åœ¨æ ·å¼å—é‡Œç”¨ `--at-apply: md:max-w-[50vw]`ï¼Œä½†è¿™å¾ˆç¹çï¼Œè€Œä¸”ä¸Šä¸‹æ–‡ä¸­çš„æ ·å¼å¾ˆæœ‰ç”¨ã€‚æ­¤å¤–ï¼Œå¦‚æœæƒ³åœ¨é¡¹ç›®ä¸­åŒ…å«è®¸å¤šå›¾æ ‡ï¼Œæ„Ÿè§‰å°†å®ƒä»¬åŠ å…¥å…¨å±€æ ·å¼è¡¨å‹åŠ›å¾ˆå¤§ã€‚å°†æ ·å¼å’Œå›¾æ ‡éƒ½å†…ç½®äºç»„ä»¶ï¼Œå¯ä»¥è®©ä½ æ— éœ€åˆ†ææ¯ä¸ªæ–°åŠ å†…å®¹çš„æˆæœ¬æ”¶ç›Šï¼Œå°½æƒ…æ‰©å±•é¡¹ç›®ã€‚

## è®¸å¯è¯

* MIT è®¸å¯è¯ Â© 2022-PRESENT [Jacob Bowdoin](https://github.com/jacob-8)

---

---
url: 'https://unocss.zhcndoc.com/integrations/vite.md'
description: UnoCSS çš„ Vite æ’ä»¶ (@unocss/vite)ã€‚
---

# Vite æ’ä»¶

Vite æ’ä»¶éš `unocss` åŒ…ä¸€èµ·æä¾›ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D unocss
```

```bash [yarn]
yarn add -D unocss
```

```bash [npm]
npm install -D unocss
```

```bash [bun]
bun add -D unocss
```

:::

å®‰è£…æ’ä»¶ï¼š

```ts [vite.config.ts]
import UnoCSS from 'unocss/vite'
import { defineConfig } from 'vite'

export default defineConfig({
  plugins: [
    UnoCSS(),
  ],
})
```

åˆ›å»ºä¸€ä¸ª `uno.config.ts` æ–‡ä»¶ï¼š

```ts [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  // ...UnoCSS é€‰é¡¹
})
```

åœ¨ä½ çš„ä¸»å…¥å£ä¸­æ·»åŠ  `virtual:uno.css`ï¼š

```ts [main.ts]
import 'virtual:uno.css'
```

## æ¨¡å¼

Vite æ’ä»¶æä¾›äº†ä¸€ç»„æ¨¡å¼ä»¥å¯ç”¨ä¸åŒçš„è¡Œä¸ºã€‚

### `global`ï¼ˆé»˜è®¤ï¼‰

è¿™æ˜¯æ’ä»¶çš„é»˜è®¤æ¨¡å¼ï¼šåœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œä½ éœ€è¦åœ¨å…¥å£ç‚¹æ·»åŠ  `uno.css` çš„å¯¼å…¥ã€‚

æ­¤æ¨¡å¼å¯ç”¨äº†ä¸€ç»„ Vite æ’ä»¶ç”¨äº `build` å’Œ `dev`ï¼Œå¹¶æ”¯æŒ `HMR`ã€‚

ç”Ÿæˆçš„ `css` å°†æ˜¯æ³¨å…¥åˆ° `index.html` çš„å…¨å±€æ ·å¼è¡¨ã€‚

### `vue-scoped`

æ­¤æ¨¡å¼å°†ç”Ÿæˆçš„ CSS æ³¨å…¥åˆ° Vue å•æ–‡ä»¶ç»„ä»¶çš„ `<style scoped>` ä¸­ä»¥å®ç°éš”ç¦»ã€‚

### `svelte-scoped`

`svelte-scoped` æ¨¡å¼å·²è¢«ç§»è‡³å…¶è‡ªå·±çš„åŒ…ä¸­ï¼ŒæŸ¥çœ‹ [@unocss/svelte-scoped/vite](/integrations/svelte-scoped)ã€‚

### `shadow-dom`

ç”±äº `Web Components` ä½¿ç”¨ `Shadow DOM`ï¼Œæ— æ³•ç›´æ¥ä»å…¨å±€æ ·å¼è¡¨ä¸ºå†…å®¹è®¾å®šæ ·å¼ï¼ˆé™¤éä½ ä½¿ç”¨ `CSS è‡ªå®šä¹‰å±æ€§`ï¼Œè¿™äº›å±æ€§å°†æ¸—é€åˆ° `Shadow DOM` ä¸­ï¼‰ï¼Œä½ éœ€è¦å°†æ’ä»¶ç”Ÿæˆçš„ CSS å†…è”åˆ° `Shadow DOM` æ ·å¼ä¸­ã€‚

è¦å†…è”ç”Ÿæˆçš„ CSSï¼Œä½ åªéœ€å°†æ’ä»¶æ¨¡å¼é…ç½®ä¸º `shadow-dom` å¹¶åœ¨æ¯ä¸ª Web ç»„ä»¶æ ·å¼ CSS å—ä¸­åŒ…å« `@unocss-placeholder` é­”æ³•å ä½ç¬¦ã€‚å¦‚æœä½ åœ¨ Vue å•æ–‡ä»¶ç»„ä»¶ä¸­å®šä¹‰ Web ç»„ä»¶ï¼Œå¹¶å¸Œæœ›åœ¨ UnoCSS æ—è¾¹å®šä¹‰è‡ªå®šä¹‰æ ·å¼ï¼Œä½ å¯ä»¥å°†å ä½ç¬¦åŒ…è£¹åœ¨ CSS æ³¨é‡Šä¸­ï¼Œä»¥é¿å…ä½  IDE ä¸­çš„è¯­æ³•é”™è¯¯ã€‚

### `per-module`ï¼ˆå®éªŒæ€§ï¼‰

æ­¤æ¨¡å¼å°†ä¸ºæ¯ä¸ªæ¨¡å—ç”Ÿæˆä¸€ä¸ª CSS è¡¨ï¼Œå¯ä»¥æ˜¯ scopedã€‚

### `dist-chunk`ï¼ˆå®éªŒæ€§ï¼‰

æ­¤æ¨¡å¼å°†åœ¨æ„å»ºæ—¶ä¸ºæ¯ä¸ªä»£ç å—ç”Ÿæˆä¸€ä¸ª CSS è¡¨ï¼Œé€‚ç”¨äº MPAã€‚

## åœ¨å¼€å‘è€…å·¥å…·ä¸­ç¼–è¾‘ç±»

å› ä¸º "æŒ‰éœ€" çš„é™åˆ¶ï¼Œå¼€å‘è€…å·¥å…·ä¸çŸ¥é“ä½ å°šæœªåœ¨æºä»£ç ä¸­ä½¿ç”¨çš„ç±»ã€‚å› æ­¤ï¼Œå¦‚æœä½ æƒ³é€šè¿‡ç›´æ¥æ›´æ”¹å¼€å‘è€…å·¥å…·ä¸­çš„ç±»æ¥å°è¯•åŠŸèƒ½ï¼Œåªéœ€åœ¨ä¸»å…¥å£ä¸­æ·»åŠ ä»¥ä¸‹è¡Œã€‚

```ts
import 'uno.css'
import 'virtual:unocss-devtools'
```

::: warning
è¯·è°¨æ…ä½¿ç”¨ï¼Œåœ¨åº•å±‚æˆ‘ä»¬ä½¿ç”¨ [`MutationObserver`](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver) æ¥æ£€æµ‹ç±»çš„å˜åŒ–ã€‚è¿™æ„å‘³ç€ä¸ä»…ä½ æ‰‹åŠ¨çš„æ›´æ”¹ï¼Œä½†ä¹Ÿç”±ä½ çš„è„šæœ¬è¿›è¡Œçš„æ›´æ”¹å°†è¢«æ£€æµ‹å¹¶åŒ…å«åœ¨æ ·å¼è¡¨ä¸­ã€‚å½“ä½ æ ¹æ®æŸäº›é€»è¾‘åœ¨è„šæœ¬æ ‡ç­¾ä¸­æ·»åŠ åŠ¨æ€ç±»æ—¶ï¼Œè¿™å¯èƒ½å¯¼è‡´å¼€å‘ç‰ˆå’Œç”Ÿäº§æ„å»ºä¹‹é—´çš„æŸäº›ä¸ä¸€è‡´æ€§ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œæˆ‘ä»¬å»ºè®®å°†ä½ çš„åŠ¨æ€éƒ¨åˆ†æ·»åŠ åˆ° [safelist](https://github.com/unocss/unocss/issues/511) æˆ–ä¸ºä½ çš„ç”Ÿäº§æ„å»ºè®¾ç½® UI å›å½’æµ‹è¯•ã€‚
:::

## æ¡†æ¶

ä¸€äº› UI/App æ¡†æ¶æœ‰ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œå¿…é¡»è§£å†³æ‰èƒ½ä½¿å…¶æ­£å¸¸å·¥ä½œï¼Œå¦‚æœä½ ä½¿ç”¨ä»¥ä¸‹æ¡†æ¶ä¹‹ä¸€ï¼Œåªéœ€åº”ç”¨å»ºè®®ã€‚

### VanillaJS / TypeScript

ä½¿ç”¨ VanillaJS æˆ– TypeScript æ—¶ï¼Œä½ éœ€è¦æ·»åŠ  `js` å’Œ `ts` æ–‡ä»¶æ‰©å±•åï¼Œä»¥å…è®¸ UnoCSS é˜…è¯»å’Œè§£æå†…å®¹ï¼Œé»˜è®¤æƒ…å†µä¸‹ `js` å’Œ `ts` æ–‡ä»¶è¢«æ’é™¤ï¼ŒæŸ¥çœ‹ [ä»æ„å»ºå·¥å…·ç®¡é“æå–](/guide/extracting#extracting-from-build-tools-pipeline) éƒ¨åˆ†ã€‚

### React

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ `@vitejs/plugin-react`ï¼š

```ts [vite.config.ts]
import React from '@vitejs/plugin-react'
import UnoCSS from 'unocss/vite'

export default {
  plugins: [
    React(),
    UnoCSS(),
  ],
}
```

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ `@unocss/preset-attributify`ï¼Œä½ åº”è¯¥ä» `build` è„šæœ¬ä¸­åˆ é™¤ `tsc`ã€‚

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ `babel-plugin-react-compiler`ï¼Œæˆ–è€…åœ¨ä½¿ç”¨ `@vitejs/plugin-react` æ­é… `@unocss/preset-attributify`ï¼Œä½ å¿…é¡»åœ¨ `@vitejs/plugin-react` ä¹‹å‰æ·»åŠ è¯¥æ’ä»¶ã€‚

```ts [vite.config.ts]
import React from '@vitejs/plugin-react'
import UnoCSS from 'unocss/vite'

export default {
  plugins: [
    UnoCSS(),
    React(),
  ],
}
```

ä½ å¯ä»¥åœ¨ [examples/vite-react](https://github.com/unocss/unocss/tree/main/examples/vite-react) ç›®å½•ä¸­æŸ¥çœ‹ä¸€ä¸ªä½¿ç”¨è¿™ä¸¤ä¸ªæ’ä»¶çš„ `React` ç¤ºä¾‹é¡¹ç›®ï¼ŒæŸ¥çœ‹ `package.json` ä¸­çš„è„šæœ¬å’Œå…¶ Vite é…ç½®æ–‡ä»¶ã€‚

### Preact

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ `@preact/preset-vite`ï¼š

```ts [vite.config.ts]
import Preact from '@preact/preset-vite'
import UnoCSS from 'unocss/vite'

export default {
  plugins: [
    UnoCSS(),
    Preact(),
  ],
}
```

æˆ–è€…å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ `@prefresh/vite`ï¼š

```ts [vite.config.ts]
import Prefresh from '@prefresh/vite'
import UnoCSS from 'unocss/vite'

export default {
  plugins: [
    UnoCSS(),
    Prefresh(),
  ],
}
```

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ `@unocss/preset-attributify`ï¼Œä½ åº”è¯¥ä» `build` è„šæœ¬ä¸­åˆ é™¤ `tsc`ã€‚

ä½ å¯ä»¥åœ¨ [examples/vite-preact](https://github.com/unocss/unocss/tree/main/examples/vite-preact) ç›®å½•ä¸­æŸ¥çœ‹ä¸€ä¸ªä½¿ç”¨è¿™ä¸¤ä¸ªæ’ä»¶çš„ `Preact` ç¤ºä¾‹é¡¹ç›®ï¼ŒæŸ¥çœ‹ `package.json` ä¸­çš„è„šæœ¬å’Œå…¶ Vite é…ç½®æ–‡ä»¶ã€‚

### Svelte

ä½ å¿…é¡»åœ¨ `@sveltejs/vite-plugin-svelte` ä¹‹å‰æ·»åŠ æ’ä»¶ã€‚

è¦æ”¯æŒ `class:foo` å’Œ `class:foo={bar}`ï¼Œè¯·æ·»åŠ æ’ä»¶å¹¶åœ¨ `extractors` é€‰é¡¹ä¸Šé…ç½® `extractorSvelte`ã€‚

ä½ å¯ä»¥ä½¿ç”¨å¸¦æœ‰ `class:` çš„ç®€å•è§„åˆ™ï¼Œä¾‹å¦‚ `class:bg-red-500={foo}`ï¼Œæˆ–ä½¿ç”¨ `shortcuts` åŒ…å«å¤šä¸ªè§„åˆ™ï¼ŒæŸ¥çœ‹ä¸‹é¢é“¾æ¥çš„ç¤ºä¾‹é¡¹ç›®ä¸­çš„ `src/App.svelte`ã€‚

```ts [vite.config.ts]
import { svelte } from '@sveltejs/vite-plugin-svelte'
import extractorSvelte from '@unocss/extractor-svelte'
import UnoCSS from 'unocss/vite'

export default {
  plugins: [
    UnoCSS({
      extractors: [
        extractorSvelte(),
      ],
      /* æ›´å¤šé€‰é¡¹ */
    }),
    svelte(),
  ],
}
```

### Sveltekit

è¦æ”¯æŒ `class:foo` å’Œ `class:foo={bar}`ï¼Œè¯·æ·»åŠ æ’ä»¶å¹¶åœ¨ `extractors` é€‰é¡¹ä¸Šé…ç½® `extractorSvelte`ã€‚

ä½ å¯ä»¥ä½¿ç”¨å¸¦æœ‰ `class:` çš„ç®€å•è§„åˆ™ï¼Œä¾‹å¦‚ `class:bg-red-500={foo}`ï¼Œæˆ–ä½¿ç”¨ `shortcuts` åŒ…å«å¤šä¸ªè§„åˆ™ï¼ŒæŸ¥çœ‹ä¸‹é¢é“¾æ¥çš„ç¤ºä¾‹é¡¹ç›®ä¸­çš„ `src/routes/+layout.svelte`ã€‚

```ts [vite.config.ts]
import { sveltekit } from '@sveltejs/kit/vite'
import extractorSvelte from '@unocss/extractor-svelte'
import UnoCSS from 'unocss/vite'
import { defineConfig } from 'vite'

export default defineConfig({
  plugins: [
    UnoCSS({
      extractors: [
        extractorSvelte(),
      ],
      /* æ›´å¤šé€‰é¡¹ */
    }),
    sveltekit(),
  ],
})
```

### Web Components

è¦ä¸ Web ç»„ä»¶ä¸€èµ·å·¥ä½œï¼Œä½ éœ€è¦åœ¨æ’ä»¶ä¸Šå¯ç”¨ `shadow-dom` æ¨¡å¼ã€‚

ä¸è¦å¿˜è®°ç§»é™¤ `uno.css` çš„å¯¼å…¥ï¼Œå› ä¸º `shadow-dom` æ¨¡å¼ä¸ä¼šæš´éœ²å®ƒï¼Œç¨‹åºå°†æ— æ³•å·¥ä½œã€‚

```ts [vite.config.ts]
import UnoCSS from 'unocss/vite'

export default {
  plugins: [
    UnoCSS({
      mode: 'shadow-dom',
      /* æ›´å¤šé€‰é¡¹ */
    }),
  ],
}
```

åœ¨æ¯ä¸ª `web component` ä¸­ï¼Œåªéœ€åœ¨å…¶æ ·å¼ CSS å—ä¸­æ·»åŠ  `@unocss-placeholder`ï¼š

```ts
const template = document.createElement('template')
template.innerHTML = `
<style>
:host {...}
@unocss-placeholder
</style>
<div class="m-1em">
...
</div>
`
```

å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ [Lit](https://lit.dev/)ï¼š

```ts
@customElement('my-element')
export class MyElement extends LitElement {
  static styles = css`
    :host {...}
    @unocss-placeholder
  `
  // ...
}
```

ä½ å¯ä»¥åœ¨ [examples/vite-lit](https://github.com/unocss/unocss/tree/main/examples/vite-lit) ç›®å½•ä¸­æŸ¥çœ‹ä¸€ä¸ª `Web Components` ç¤ºä¾‹é¡¹ç›®ã€‚

#### `::part` å†…ç½®æ”¯æŒ

ä½ å¯ä»¥ä½¿ç”¨ `::part`ï¼Œå› ä¸ºæ’ä»¶é€šè¿‡ `shortcuts` å’Œä½¿ç”¨æ¥è‡ª `preset-mini` çš„ `part-[<part-name>]:<rule|shortcut>` è§„åˆ™æ”¯æŒå®ƒï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨ç®€å•è§„åˆ™å¦‚ `part-[<part-name>]:bg-green-500` æˆ–ä½¿ç”¨ä¸€äº› `shortcut`ï¼šæŸ¥çœ‹ä»¥ä¸‹é“¾æ¥ç¤ºä¾‹é¡¹ç›®ä¸­çš„ `src/my-element.ts`ã€‚

`part-[<part-name>]:<rule|shortcut>` ä»…åœ¨ä½¿ç”¨ `shadow-dom` æ¨¡å¼æ—¶ä¸æ­¤æ’ä»¶ä¸€èµ·å·¥ä½œã€‚

è¯¥æ’ä»¶ä½¿ç”¨ `nth-of-type` æ¥é¿å…åœ¨ç›¸åŒ Web ç»„ä»¶ä¸­çš„å¤šä¸ªéƒ¨åˆ†ä¹‹é—´çš„ç¢°æ’ï¼Œå¯¹äºä¸åŒ Web ç»„ä»¶ä¸­çš„ç›¸åŒéƒ¨åˆ†ï¼Œä½ ä¸å¿…æ‹…å¿ƒï¼Œæ’ä»¶ä¼šä¸ºä½ å¤„ç†ã€‚

```ts [vite.config.ts]
import UnoCSS from 'unocss/vite'

export default {
  plugins: [
    UnoCSS({
      mode: 'shadow-dom',
      shortcuts: [
        { 'cool-blue': 'bg-blue-500 text-white' },
        { 'cool-green': 'bg-green-500 text-black' },
      ],
      /* æ›´å¤šé€‰é¡¹ */
    }),
  ],
}
```

ç„¶ååœ¨ä½ çš„ Web ç»„ä»¶ä¸­ï¼š

```ts
// my-container-wc.ts
const template = document.createElement('template')
template.innerHTML = `
<style>
@unocss-placeholder
</style>
<my-wc-with-parts class="part-[cool-part]:cool-blue part-[another-cool-part]:cool-green">...</my-wc-with-parts>
`
```

```ts
// my-wc-with-parts.ts
const template = document.createElement('template')
template.innerHTML = `
<style>
@unocss-placeholder
</style>
<div>
  <div part="cool-part">...</div>
  <div part="another-cool-part">...</div>
</div>
`
```

### Solid

ä½ éœ€è¦åœ¨ UnoCSS çš„æ’ä»¶ä¹‹åæ·»åŠ  `vite-plugin-solid` æ’ä»¶ã€‚

```ts [vite.config.ts]
import UnoCSS from 'unocss/vite'
import solidPlugin from 'vite-plugin-solid'

export default {
  plugins: [
    UnoCSS({
      /* é€‰é¡¹ */
    }),
    solidPlugin(),
  ],
}
```

### Elm

ä½ éœ€è¦åœ¨ UnoCSS çš„æ’ä»¶ä¹‹å‰æ·»åŠ  `vite-plugin-elm` æ’ä»¶ã€‚

```ts [vite.config.ts]
import UnoCSS from 'unocss/vite'
import { defineConfig } from 'vite'
import Elm from 'vite-plugin-elm'

export default defineConfig({
  plugins: [
    Elm(),
    UnoCSS(),
  ],
})
```

### Marko

ä½ éœ€è¦åœ¨ UnoCSS çš„æ’ä»¶ä¹‹å‰æ·»åŠ  `@marko/vite` æˆ– `@marko/run/vite`ã€‚

```ts [vite.config.ts]
import marko from '@marko/run/vite'
import UnoCSS from 'unocss/vite'
import { defineConfig } from 'vite'

export default defineConfig({
  plugins: [
    marko(),
    UnoCSS(),
  ],
})
```

## ä¼ ç»Ÿ

å¦‚æœ `@vitejs/plugin-legacy` çš„ `renderModernChunks` è®¾ç½®ä¸º `false`ï¼Œä½ éœ€è¦å°†å…¶æ·»åŠ åˆ° `unocss` é€‰é¡¹ä¸­ã€‚

```ts
import legacy from '@vitejs/plugin-legacy'
import vue from '@vitejs/plugin-vue'
import { presetWind3 } from 'unocss'
import Unocss from 'unocss/vite'
import { defineConfig } from 'vite'

export default defineConfig({
  plugins: [
    vue(),
    Unocss({
      presets: [presetWind3()],
      legacy: {
        renderModernChunks: false,
      },
    }),
    legacy({
      targets: ['defaults', 'not IE 11'],
      renderModernChunks: false,
    }),
  ],
})
```

## è®¸å¯è¯

* MIT è®¸å¯è¯ Â© 2021-PRESENT [Anthony Fu](https://github.com/antfu)

---

---
url: 'https://unocss.zhcndoc.com/integrations/vscode.md'
description: UnoCSS çš„ VS Code æ‰©å±•ã€‚
---

# VS Code æ‰©å±•

[åœ¨å¸‚åœºä¸­å®‰è£…](https://marketplace.visualstudio.com/items?itemName=antfu.unocss)

* åŒ¹é…å·¥å…·ç±»çš„è£…é¥°å’Œæç¤º
* è‡ªåŠ¨åŠ è½½é…ç½®
* åŒ¹é…å·¥å…·ç±»çš„è®¡æ•°

## å‘½ä»¤

| å‘½ä»¤                            | è¯´æ˜                                              |
| ------------------------------- | ------------------------------------------------- |
| `unocss.reload`                 | UnoCSSï¼šé‡æ–°åŠ è½½ UnoCSS                           |
| `unocss.insert-skip-annotation` | UnoCSSï¼šä¸ºé€‰ä¸­å†…å®¹æ’å…¥ `@unocss-skip` æ³¨é‡Š         |

## é…ç½®é¡¹

| é”®                             | è¯´æ˜                                                     | ç±»å‹            | é»˜è®¤å€¼       |
| ------------------------------- | -------------------------------------------------------- | -------------- | ---------- |
| `unocss.disable`                | ç¦ç”¨ UnoCSS æ‰©å±•                                         | `boolean`      | `false`    |
| `unocss.languageIds`            |                                                          | `array`        | ``        |
| `unocss.root`                   | åŒ…å« UnoCSS é…ç½®æ–‡ä»¶çš„é¡¹ç›®æ ¹ç›®å½•                         | `array,string` |``         |
| `unocss.include`                | éœ€è¦æ£€æµ‹çš„æ–‡ä»¶ç›®å½•                                       | `array,string` | ``        |
| `unocss.exclude`                | ä¸éœ€è¦æ£€æµ‹çš„æ–‡ä»¶ç›®å½•                                     | `array,string` |``         |
| `unocss.underline`              | å¯ç”¨/ç¦ç”¨ç±»åçš„ä¸‹åˆ’çº¿è£…é¥°                               | `boolean`      | `true`     |
| `unocss.colorPreview`           | å¯ç”¨/ç¦ç”¨é¢œè‰²é¢„è§ˆè£…é¥°                                   | `boolean`      | `true`     |
| `unocss.colorPreviewRadius`     | é¢œè‰²é¢„è§ˆçš„åœ†è§’åŠå¾„                                      | `string`       | `"50%"`    |
| `unocss.remToPxPreview`         | å¯ç”¨/ç¦ç”¨ hover æç¤ºä¸­çš„ rem è½¬ px                      | `boolean`      | `true`     |
| `unocss.remToPxRatio`           | rem è½¬ px æ¯”ä¾‹                                          | `number`       | `16`       |
| `unocss.selectionStyle`         | å¯ç”¨/ç¦ç”¨é€‰ä¸­æ ·å¼è£…é¥°                                   | `boolean`      | `true`     |
| `unocss.strictAnnotationMatch`  | ä¸¥æ ¼æ§åˆ¶æ³¨é‡Šæ˜¾ç¤ºçš„ä½ç½®                                  | `boolean`      | `false`    |
| `unocss.autocomplete.matchType` | è‡ªåŠ¨è¡¥å…¨çš„åŒ¹é…ç±»å‹                                     | `string`       | `"prefix"` |
| `unocss.autocomplete.strict`    | ä¸¥æ ¼æ§åˆ¶è‡ªåŠ¨è¡¥å…¨æ˜¾ç¤ºçš„ä½ç½®                              | `boolean`      | `false`    |
| `unocss.autocomplete.maxItems`  | è‡ªåŠ¨è¡¥å…¨æ˜¾ç¤ºçš„æœ€å¤§é¡¹æ•°                                 | `number`       | `1000`     |

## é…ç½®

ä¸ºäº†è·å¾—æœ€ä½³çš„ IDE ä½“éªŒï¼Œå»ºè®®æ‚¨[ä½¿ç”¨å•ç‹¬çš„ `uno.config.ts` æ–‡ä»¶](/guide/config-file) æ¥é…ç½® UnoCSSã€‚

æ‰©å±•ä¼šå°è¯•åœ¨æ‚¨çš„é¡¹ç›®ä¸­æŸ¥æ‰¾ UnoCSS é…ç½®æ–‡ä»¶ã€‚å¦‚æœæœªæ‰¾åˆ°é…ç½®ï¼Œæ‰©å±•å°†è¢«ç¦ç”¨ã€‚

## å›¾æ ‡é¢„è®¾

å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨[å›¾æ ‡é¢„è®¾](/presets/icons)ï¼Œè¿˜å¯ä»¥å®‰è£…[Iconify IntelliSense](https://marketplace.visualstudio.com/items?itemName=antfu.iconify)ï¼Œä»¥è·å¾—å›¾æ ‡çš„å†…è”é¢„è§ˆã€è‡ªåŠ¨è¡¥å…¨å’Œæ‚¬åœæç¤ºä¿¡æ¯ã€‚

---

---
url: 'https://unocss.zhcndoc.com/integrations/webpack.md'
description: UnoCSS çš„ webpack æ’ä»¶ (@unocss/webpack)ã€‚
---

# Webpack æ’ä»¶

UnoCSS çš„ webpack æ’ä»¶ï¼š`@unocss/webpack`ã€‚å½“å‰ï¼Œæ­¤æ’ä»¶ä»…æ”¯æŒ [`global` æ¨¡å¼](https://github.com/unocss/unocss/blob/main/packages-integrations/vite/src/types.ts#L11-L21)ã€‚

::: info
æ­¤æ’ä»¶ä¸å¸¦ä»»ä½•é»˜è®¤é¢„è®¾ã€‚
:::

## å…ˆå†³æ¡ä»¶

`@unocss/webpack` éœ€è¦ `style-loader` å’Œ `css-loader` æ¥å¤„ç† CSS æ–‡ä»¶ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/webpack
```

```bash [yarn]
yarn add -D @unocss/webpack
```

```bash [npm]
npm install -D @unocss/webpack
```

```bash [bun]
bun add -D @unocss/webpack
```

:::

ä» UnoCSS ç‰ˆæœ¬ `v0.59.0` å¼€å§‹ï¼ŒUnoCSS è¿ç§»è‡³ä»…æ”¯æŒ ESMï¼Œä½ éœ€è¦é€šè¿‡åŠ¨æ€å¯¼å…¥åŠ è½½ä½ çš„é…ç½®ï¼š

::: code-group

```ts [webpack 5]
// webpack.config.js
module.exports = function () {
  return import('@unocss/webpack').then(({ default: UnoCSS }) => ({
    plugins: [
      UnoCSS()
    ],
    optimization: {
      realContentHash: true
    }
  }))
}
```

```js [webpack 4]
// webpack.config.js
module.exports = function () {
  return import('@unocss/webpack').then(({ default: UnoCSS }) => ({
    plugins: [
      UnoCSS()
    ],
    css: {
      extract: {
        filename: '[name].[hash:9].css'
      },
    },
  }))
}
```

:::

å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ—§ç‰ˆæœ¬çš„ UnoCSSï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š

::: code-group

```ts [webpack 5]
// webpack.config.js
const UnoCSS = require('@unocss/webpack').default

module.exports = {
  plugins: [
    UnoCSS()
  ],
  optimization: {
    realContentHash: true
  }
}
```

```js [webpack 4]
// webpack.config.js
const UnoCSS = require('@unocss/webpack').default

module.exports = {
  plugins: [
    UnoCSS()
  ],
  css: {
    extract: {
      filename: '[name].[hash:9].css'
    }
  }
}
```

:::

åˆ›å»ºä¸€ä¸ª `uno.config.ts` æ–‡ä»¶ï¼š

```ts [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  // ...UnoCSS é€‰é¡¹
})
```

::: warning
å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ webpack@4.xï¼Œ`optimization.realContentHash` é…ç½®ä¸è¢«æ”¯æŒï¼Œä½ åº”è¯¥ä½¿ç”¨ `css.extract.filename` æ¥è‡ªå®šä¹‰ CSS æ–‡ä»¶åï¼ˆæˆ‘ä»¬ä½¿ç”¨å“ˆå¸Œä»£ç çš„å‰ 9 ä¸ªå­—æ¯ä½œä¸ºç¤ºä¾‹ï¼‰ã€‚è¯·æ³¨æ„æ­¤ [å·²çŸ¥é—®é¢˜](https://github.com/unocss/unocss/issues/1728) å’Œ [webpack#9520](https://github.com/webpack/webpack/issues/9520#issuecomment-749534245)ã€‚
:::

## ä½¿ç”¨æ–¹æ³•

å°† `uno.css` æ·»åŠ åˆ°ä½ çš„ä¸»å…¥å£æ–‡ä»¶ï¼š

```ts [main.ts]
import 'uno.css'
```

## æ¡†æ¶

### Vue + Vue CLI

å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ [Vue CLI](https://cli.vuejs.org/) å¹¶æ­é… webpack 4/5 å’Œ UnoCSS `v0.59.0`ï¼Œä½ éœ€è¦ä½¿ç”¨æœ€æ–°çš„ [Vue CLI Service](https://cli.vuejs.org/guide/cli-service.html) `v5.0.8` æ¥é€šè¿‡åŠ¨æ€å¯¼å…¥åŠ è½½ä½ çš„é…ç½®ï¼š

::: code-group

```ts [webpack 5]
// vue.config.js
const process = require('node:process')

module.exports = function () {
  return import('@unocss/webpack').then(({ default: UnoCSS }) => ({
    configureWebpack: {
      devtool: 'inline-source-map',
      plugins: [
        UnoCSS()
      ],
      optimization: {
        realContentHash: true
      }
    },
    chainWebpack(config) {
      config.module.rule('vue').uses.delete('cache-loader')
      config.module.rule('tsx').uses.delete('cache-loader')
      config.merge({
        cache: false
      })
    },
    css: {
      extract: process.env.NODE_ENV === 'development'
        ? {
            filename: 'css/[name].css',
            chunkFilename: 'css/[name].css'
          }
        : true
    }
  }))
}
```

```ts [webpack 4]
// vue.config.js
const process = require('node:process')

module.exports = function () {
  return import('@unocss/webpack').then(({ default: UnoCSS }) => ({
    configureWebpack: {
      plugins: [
        UnoCSS({})
      ]
    },
    chainWebpack(config) {
      config.module.rule('vue').uses.delete('cache-loader')
      config.module.rule('tsx').uses.delete('cache-loader')
      config.merge({
        cache: false
      })
    },
    css: {
      extract: process.env.NODE_ENV === 'development'
        ? {
            filename: '[name].css',
            chunkFilename: '[name].[hash:9].css'
          }
        : true
    }
  }))
}
```

:::

å¦‚æœä½¿ç”¨æ—§ç‰ˆæœ¬çš„ UnoCSSï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç ï¼š

::: code-group

```ts [webpack 5]
// vue.config.js
const process = require('node:process')
const UnoCSS = require('@unocss/webpack').default

module.exports = {
  configureWebpack: {
    devtool: 'inline-source-map',
    plugins: [
      UnoCSS()
    ],
    optimization: {
      realContentHash: true
    }
  },
  chainWebpack(config) {
    config.module.rule('vue').uses.delete('cache-loader')
    config.module.rule('tsx').uses.delete('cache-loader')
    config.merge({
      cache: false
    })
  },
  css: {
    extract: process.env.NODE_ENV === 'development'
      ? {
          filename: 'css/[name].css',
          chunkFilename: 'css/[name].css'
        }
      : true
  },
}
```

```ts [webpack 4]
// vue.config.js
const process = require('node:process')
const UnoCSS = require('@unocss/webpack').default

module.exports = {
  configureWebpack: {
    plugins: [
      UnoCSS({}),
    ]
  },
  chainWebpack(config) {
    config.module.rule('vue').uses.delete('cache-loader')
    config.module.rule('tsx').uses.delete('cache-loader')
    config.merge({
      cache: false,
    })
  },
  css: {
    extract: process.env.NODE_ENV === 'development'
      ? {
          filename: '[name].css',
          chunkFilename: '[name].[hash:9].css',
        }
      : true,
  },
}
```

:::

---

---
url: 'https://unocss.zhcndoc.com/integrations/jetbrains.md'
---

# JetBrains IDEs æ’ä»¶

ä¸€ä¸ªç¤¾åŒº [æ’ä»¶](https://github.com/re-ovo/unocss-intellij)ï¼Œä¸º JetBrains IDEs æä¾›å¯¹ UnoCSS çš„æ”¯æŒã€‚

:::info
æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ª **ç¤¾åŒºç»´æŠ¤çš„æ’ä»¶ï¼Œå¹¶ä¸æ˜¯ UnoCSS å›¢é˜Ÿå®¡æ ¸æˆ–ç»´æŠ¤çš„**ã€‚ä½¿ç”¨ä¹‹å‰è¯·è‡ªè¡Œç ”ç©¶ã€‚å¦‚æœæ‚¨åœ¨ä½¿ç”¨æ­¤æ’ä»¶æ—¶é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·å‘ [re-ovo/unocss-intellij](https://github.com/re-ovo/unocss-intellij) æŠ¥å‘Šã€‚
:::

## å®‰è£…

[JetBrains å¸‚åœº](https://plugins.jetbrains.com/plugin/22204-unocss)

## ç‰¹æ€§

* UnoCSS ç±»çš„è‡ªåŠ¨è¡¥å…¨
* UnoCSS ç±»çš„æ‚¬åœæ–‡æ¡£
* ä»£ç æŠ˜å 
* é¢œè‰²/å›¾æ ‡é¢„è§ˆ

## é”™è¯¯æŠ¥å‘Š / åŠŸèƒ½è¯·æ±‚

è¯·åœ¨ [é—®é¢˜è¿½è¸ªå™¨](https://github.com/re-ovo/unocss-intellij/issues) æäº¤ã€‚

---

---
url: 'https://unocss.zhcndoc.com/integrations/zed.md'
---

# Zed æ‰©å±•

ä¸€ä¸ªç¤¾åŒº[æ‰©å±•](https://github.com/bajrangCoder/zed-unocss)ï¼Œä¸º Zed æä¾›å¯¹ UnoCSS çš„æ”¯æŒã€‚

:::info
æ³¨æ„ï¼šè¿™æ˜¯ä¸€ä¸ª**ç¤¾åŒºç»´æŠ¤çš„æ‰©å±•ï¼Œæœªç”± UnoCSS å›¢é˜Ÿå®¡æ ¸æˆ–ç»´æŠ¤**ã€‚è¯·åœ¨ä½¿ç”¨å‰è‡ªè¡Œè¿›è¡Œè°ƒç ”ã€‚å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¯¥æ‰©å±•æ—¶é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·å‘ [bajrangCoder/zed-unocss](https://github.com/bajrangCoder/zed-unocss) åé¦ˆã€‚
:::

## å®‰è£…

é€šè¿‡ Zed æ‰©å±•ç®¡ç†å™¨å®‰è£… unocss æ‰©å±•ï¼Œhttps://zed.dev/extensions/unocss

## Bug æŠ¥å‘Š / åŠŸèƒ½è¯·æ±‚

è¯·åœ¨ [é—®é¢˜è¿½è¸ªå™¨](https://github.com/bajrangCoder/zed-unocss/issues) ä¸­æäº¤ã€‚

---

---
url: 'https://unocss.zhcndoc.com/presets/web-fonts.md'
description: UnoCSS çš„ Web å­—ä½“æ”¯æŒ (@unocss/preset-web-fonts)ã€‚
---

# Web å­—ä½“é¢„è®¾

é€šè¿‡ç®€å•åœ°æä¾›å­—ä½“åç§°æ¥ä½¿ç”¨æ¥è‡ª [Google Fonts](https://fonts.google.com/) å’Œ [FontShare](https://www.fontshare.com/) çš„ Web å­—ä½“ã€‚

æŸ¥çœ‹ [æ‰€æœ‰æ”¯æŒçš„æä¾›è€…](#providers)ã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-web-fonts)

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-web-fonts
```

```bash [yarn]
yarn add -D @unocss/preset-web-fonts
```

```bash [npm]
npm install -D @unocss/preset-web-fonts
```

```bash [bun]
bun add -D @unocss/preset-web-fonts
```

:::

```ts [uno.config.ts]
import presetWebFonts from '@unocss/preset-web-fonts'
import presetWind3 from '@unocss/preset-wind3'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    presetWind3(),
    presetWebFonts({ /* options */ }),
  ],
})
```

::: tip
æ­¤é¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä»é‚£é‡Œå¯¼å…¥å®ƒï¼š

```ts
import { presetWebFonts } from 'unocss'
```

:::

## æä¾›è€…

å½“å‰æ”¯æŒçš„æä¾›è€…ï¼š

* `none` - ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼Œå°†å­—ä½“è§†ä¸ºç³»ç»Ÿå­—ä½“
* `google` - [Google Fonts](https://fonts.google.com/)
* `bunny` - [éšç§å‹å¥½çš„ Google Fonts](https://fonts.bunny.net/)
* `fontshare` - [ITF æä¾›çš„ä¼˜è´¨å­—ä½“æœåŠ¡](https://www.fontshare.com/)
* `fontsource` - [è‡ªæ‰˜ç®¡å¼€æºå­—ä½“ï¼Œæ•´é½æ‰“åŒ…çš„ NPM åŒ…](https://fontsource.org/)
* `coollabs` - [éšç§å‹å¥½çš„ Google Fonts æ›¿ä»£å“](https://fonts.coollabs.io/)

::: info
æ¬¢è¿æäº¤ PR ä»¥æ·»åŠ æ›´å¤šæä¾›è€…ã€‚ğŸ™Œ
:::

### è‡ªå®šä¹‰è·å–å‡½æ•°

ä½¿ç”¨æ‚¨è‡ªå·±çš„å‡½æ•°è·å–å­—ä½“æºã€‚

```ts [uno.config.ts]
import presetWebFonts from '@unocss/preset-web-fonts'
import presetWind3 from '@unocss/preset-wind3'
import axios from 'axios'
import ProxyAgent from 'proxy-agent'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    presetWind3(),
    presetWebFonts({
      // ä½¿ç”¨å¸¦æœ‰ https ä»£ç†çš„ axios
      customFetch: (url: string) => axios.get(url, { httpsAgent: new ProxyAgent('https://localhost:7890') }).then(it => it.data),
      provider: 'google',
      fonts: {
        sans: 'Roboto',
        mono: ['Fira Code', 'Fira Mono:400,700'],
      },
    }),
  ],
})
```

## é€‰é¡¹

### provider

* **ç±»å‹:** `WebFontsProviders`
* **é»˜è®¤:** `google`

Web å­—ä½“çš„æä¾›è€…æœåŠ¡ã€‚

```ts
type WebFontsProviders = 'google' | 'bunny' | 'fontshare' | 'fontsource' | 'coollabs' | 'none'
```

### fonts

* **ç±»å‹:** `Record<string, WebFontMeta | string | (WebFontMeta | string)[]>`

å­—ä½“ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ [ç¤ºä¾‹](#example)ã€‚

```ts
interface WebFontMeta {
  name: string
  weights?: (string | number)[]
  italic?: boolean
  /**
   * è¦†ç›–æä¾›è€…
   * @default <åŒ¹é…æ ¹é…ç½®>
   */
  provider?: WebFontsProviders
}
```

### extendTheme

* **ç±»å‹:** `boolean`
* **é»˜è®¤:** `true`

æ‰©å±•ä¸»é¢˜å¯¹è±¡ã€‚

### themeKey

* **ç±»å‹:** `string`
* **é»˜è®¤:** `fontFamily`

ä¸»é¢˜å¯¹è±¡çš„é”®ã€‚

### inlineImports

* **ç±»å‹:** `boolean`
* **é»˜è®¤:** `true`

å†…è” CSS `@import()`ã€‚

### customFetch

* **ç±»å‹:** `(url: string) => Promise<string>`
* **é»˜è®¤:** `undefined`

ä½¿ç”¨æ‚¨è‡ªå·±çš„å‡½æ•°è·å–å­—ä½“æºã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ [è‡ªå®šä¹‰è·å–å‡½æ•°](#custom-fetch-function)ã€‚

## ç¤ºä¾‹

```ts
presetWebFonts({
  provider: 'google', // é»˜è®¤æä¾›è€…
  fonts: {
    // è¿™äº›å°†æ‰©å±•é»˜è®¤ä¸»é¢˜
    sans: 'Roboto',
    mono: ['Fira Code', 'Fira Mono:400,700'],
    // è‡ªå®šä¹‰å­—ä½“
    lobster: 'Lobster',
    lato: [
      {
        name: 'Lato',
        weights: ['400', '700'],
        italic: true,
      },
      {
        name: 'sans-serif',
        provider: 'none',
      },
    ],
  },
})
```

å°†è‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹ CSSï¼š

```css
@import url('https://fonts.googleapis.com/css2?family=Roboto&family=Fira+Code&family=Fira+Mono:wght@400;700&family=Lobster&family=Lato:ital,wght@0,400;0,700;1,400;1,700&display=swap');

/* layer: default */
.font-lato {
  font-family: "Lato", sans-serif;
}
.font-lobster {
  font-family: "Lobster";
}
.font-mono {
  font-family: "Fira Code", "Fira Mono", ui-monospace, SFMono-Regular, Menlo,
    Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
.font-sans {
  font-family: "Roboto", ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans",
    sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji";
}
```

## æœ¬åœ°æœåŠ¡å­—ä½“

é»˜è®¤æƒ…å†µä¸‹ï¼Œé¢„è®¾å°†ä»æä¾›è€…çš„ CDN ä¸­è·å–å­—ä½“ã€‚å¦‚æœæ‚¨æƒ³è¦åœ¨æœ¬åœ°æä¾›å­—ä½“ï¼Œå¯ä»¥ä¸‹è½½å­—ä½“å¹¶ä½¿ç”¨ `@unocss/preset-web-fonts/local` ä¸­çš„å¤„ç†å™¨ä»æ‚¨è‡ªå·±çš„æœåŠ¡å™¨æä¾›å®ƒä»¬ã€‚

```ts
import presetWebFonts from '@unocss/preset-web-fonts'
import { createLocalFontProcessor } from '@unocss/preset-web-fonts/local'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    presetWebFonts({
      provider: 'none',
      fonts: {
        sans: 'Roboto',
        mono: 'Fira Code',
      },
      // è¿™å°†ä¸‹è½½å­—ä½“å¹¶åœ¨æœ¬åœ°æä¾›
      processors: createLocalFontProcessor({
        // ç¼“å­˜å­—ä½“çš„ç›®å½•
        cacheDir: 'node_modules/.cache/unocss/fonts',

        // ä¿å­˜å­—ä½“èµ„äº§çš„ç›®å½•
        fontAssetsDir: 'public/assets/fonts',

        // å®¢æˆ·ç«¯æä¾›å­—ä½“çš„åŸºæœ¬ URL
        fontServeBaseUrl: '/assets/fonts',

        // Custom fetch function to download the fonts
        fetch: async url => axios.get(url)
      })
    }),
  ],
})
```

è¿™å°†æŠŠå­—ä½“èµ„äº§ä¸‹è½½åˆ° `public/assets/fonts` å¹¶ä»å®¢æˆ·ç«¯çš„ `/assets/fonts` æä¾›å®ƒä»¬ã€‚åœ¨æ‰§è¡Œæ­¤æ“ä½œæ—¶ï¼Œè¯·ç¡®ä¿å­—ä½“çš„è®¸å¯è¯å…è®¸æ‚¨å¦‚æ­¤é‡æ–°åˆ†å‘ï¼Œå·¥å…·ä¸å¯¹ä»»ä½•æ³•å¾‹é—®é¢˜è´Ÿè´£ã€‚

::: info

æ­¤åŠŸèƒ½ç‰¹å®šäº Node.jsï¼Œæ— æ³•åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚

:::

---

---
url: 'https://unocss.zhcndoc.com/presets/wind3.md'
description: UnoCSS çš„ Tailwind CSS / Windi CSS ç´§å‡‘é¢„è®¾ (@unocss/preset-wind3)ã€‚
---

# Wind3 é¢„è®¾

UnoCSS çš„ Tailwind CSS / Windi CSS ç´§å‡‘é¢„è®¾ã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-wind3)

::: info
`@unocss/preset-wind` å’Œ `@unocss/preset-uno` å·²è¢«å¼ƒç”¨å¹¶é‡å‘½åä¸º `@unocss/preset-wind3`ã€‚è¯¥é¢„è®¾ç»§æ‰¿è‡ª [`@unocss/preset-mini`](/presets/mini)ã€‚
:::

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-wind3
```

```bash [yarn]
yarn add -D @unocss/preset-wind3
```

```bash [npm]
npm install -D @unocss/preset-wind3
```

```bash [bun]
bun add -D @unocss/preset-wind3
```

:::

```ts [uno.config.ts]
import presetWind3 from '@unocss/preset-wind3'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    presetWind3(),
  ],
})
```

::: tip
è¯¥é¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä»é‚£é‡Œå¯¼å…¥ï¼š

```ts
import { presetWind3 } from 'unocss'
```

:::

## è§„åˆ™

è¯¥é¢„è®¾çš„ä¸»è¦ç›®æ ‡æ˜¯æä¾›ä¸ [Tailwind CSS](https://tailwindcss.com/) å’Œ [Windi CSS](https://windicss.org/) çš„å…¼å®¹æ€§ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ— æ³•ä¿è¯å®Œå…¨å…¼å®¹ã€‚è¯·å‚è€ƒä»–ä»¬çš„ [æ–‡æ¡£](https://tailwindcss.com/docs) ä»¥è·å–è¯¦ç»†ç”¨æ³•ã€‚

æœ‰å…³è¯¥é¢„è®¾ä¸­åŒ…å«çš„æ‰€æœ‰è§„åˆ™å’Œé¢„è®¾ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„ äº¤äº’å¼æ–‡æ¡£ æˆ–ç›´æ¥æŸ¥çœ‹ [æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-wind3)ã€‚

## ç‰¹æ€§

### æš—é»‘æ¨¡å¼

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥é¢„è®¾ç”ŸæˆåŸºäºç±»çš„æš—é»‘æ¨¡å¼ï¼Œä½¿ç”¨ `dark:` å˜ä½“ã€‚

```html
<div class="dark:bg-red:10" />
```

å°†ç”Ÿæˆï¼š

```css
.dark .dark\:bg-red\:10 {
  background-color: rgb(248 113 113 / 0.1);
}
```

#### åŸºäºåª’ä½“æŸ¥è¯¢çš„æš—é»‘æ¨¡å¼

è¦åœ¨å…¨å±€ä½¿ç”¨åŸºäºåª’ä½“æŸ¥è¯¢çš„æš—é»‘æ¨¡å¼ï¼Œæ‚¨å¯ä»¥æ›´æ”¹ `dark:` å˜ä½“çš„é…ç½®ï¼š

```ts
presetWind3({
  dark: 'media'
})
```

ç°åœ¨

```html
<div class="dark:bg-red:10" />
```

å°†ç”Ÿæˆï¼š

```css
@media (prefers-color-scheme: dark) {
  .dark\:bg-red\:10 {
    background-color: rgb(248 113 113 / 0.1);
  }
}
```

#### å¯é€‰çš„åŸºäºåª’ä½“æŸ¥è¯¢çš„æš—é»‘æ¨¡å¼

è¦ä½¿ç”¨å¯é€‰çš„åŸºäºåª’ä½“æŸ¥è¯¢çš„æš—é»‘æ¨¡å¼ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `@dark:` å˜ä½“ï¼š

```html
<div class="@dark:bg-red:10" />
```

```css
@media (prefers-color-scheme: dark) {
  .\@dark\:bg-red\:10 {
    background-color: rgb(248 113 113 / 0.1);
  }
}
```

## ä¸ Tailwind CSS çš„åŒºåˆ«

### å¼•å·

åœ¨æ¨¡æ¿ï¼ˆç”¨äºå¤„ç†çš„æ–‡ä»¶ï¼‰ä¸­ä½¿ç”¨å¼•å·æ˜¯ä¸æ”¯æŒçš„ï¼ŒåŸå› åœ¨äºæå–å™¨çš„å·¥ä½œæ–¹å¼ã€‚ä¾‹å¦‚ï¼Œæ‚¨å°†æ— æ³•å†™ `before:content-['']`ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥è€ƒè™‘å¼•å…¥ä¸€ä¸ªæ–°å·¥å…·ï¼Œä»¥ä¾¿å¯ä»¥æ˜ç¡®è®¾ç½®ï¼Œä¾‹å¦‚ `class="before:content-empty"`ã€‚

### èƒŒæ™¯ä½ç½®ä¸ä»»æ„å€¼

Tailwind [å…è®¸](https://tailwindcss.com/docs/background-position#using-custom-values) ä½¿ç”¨è£¸è¯­æ³•ä¸º `background-position` ä½¿ç”¨è‡ªå®šä¹‰å€¼ï¼š

```html
<div class="bg-[center_top_1rem]"></div>
```

Wind é¢„è®¾å°†è§£è¯» `center_top_1rem` ä¸ºé¢œè‰²ã€‚ä½¿ç”¨ `position:` å‰ç¼€å¯ä»¥å®ç°åŒæ ·çš„æ•ˆæœï¼š

```html
<div class="bg-[position:center_top_1rem]"></div>
```

### åŠ¨ç”»

Tailwind CSS å†…ç½®çš„åŠ¨ç”»è¾ƒå°‘ï¼Œæˆ‘ä»¬å®Œå…¨æ”¯æŒå…¶åŠ¨ç”»è§„åˆ™ï¼Œå¹¶å†…éƒ¨æ•´åˆäº† [Animate.css](https://github.com/animate-css/animate.css) ä»¥æä¾›æ›´å¤šåŠ¨ç”»æ•ˆæœã€‚

æ‚¨å¯ä»¥ä½¿ç”¨ `animate-` å‰ç¼€æ¥å¼•å¯¼ IntelliSense å¿«é€Ÿæ‰¾åˆ°æ‚¨éœ€è¦çš„åŠ¨ç”»ã€‚

:::tip
æˆ‘ä»¬ä¸ä¼šåˆå¹¶ Tailwind å’Œ Animate.css ä¸­å†²çªçš„åŠ¨ç”»åç§°ã€‚å¦‚æœæ‚¨éœ€è¦ä½¿ç”¨ Animate.css çš„åŠ¨ç”»åç§°ï¼Œè¯·ä½¿ç”¨ `animate-<name>-alt`ã€‚
:::

ä¾‹å¦‚

|                                                                                                                                         Tailwind CSS                                                                                                                                          |                                                                                                                                            Animate.css                                                                                                                                            |
| :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: | :-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|                                                                                                                                       `animate-bounce`                                                                                                                                        |                                                                                                                                       `animate-bounce-alt`                                                                                                                                        |
|  |  |

å¦‚æœæ‚¨æƒ³è‡ªå®šä¹‰æˆ–ä¿®æ”¹åŠ¨ç”»æ•ˆæœï¼Œæˆ‘ä»¬æä¾›é«˜åº¦å¯å®šåˆ¶çš„é…ç½®é¡¹ã€‚æ‚¨å¯ä»¥é€šè¿‡é…ç½®é¡¹ä¿®æ”¹åŠ¨ç”»çš„æŒç»­æ—¶é—´ã€å»¶è¿Ÿã€é€Ÿåº¦æ›²çº¿ç­‰ã€‚

```ts [uno.config.ts]
export default defineConfig({
  theme: {
    animation: {
      keyframes: {
        custom: '{0%, 100% { transform: scale(0.5); } 50% { transform: scale(1); }}',
      },
      durations: {
        custom: '1s',
      },
      timingFns: {
        custom: 'cubic-bezier(0.4,0,.6,1)',
      },
      properties: {
        custom: { 'transform-origin': 'center' },
      },
      counts: {
        custom: 'infinite',
      },
    }
  }
})
```

é¢„è§ˆè‡ªå®šä¹‰åŠ¨ç”»ï¼š

:::tip
æ‚¨è¿˜å¯ä»¥æ·»åŠ  `category` æ¥å¯¹åŠ¨ç”»è¿›è¡Œåˆ†ç»„ä»¥ä¾¿äºç®¡ç†ã€‚è¿™å°†ä½¿ä¸‹æ¸¸å·¥å…·æ›´å®¹æ˜“ä½¿ç”¨åŠ¨ç”»æ•ˆæœã€‚

```ts [uno.config.ts] {9}
export default defineConfig({
  theme: {
    animation: {
      keyframes: {
        custom: '{0%, 100% { transform: scale(0.5); } 50% { transform: scale(1); }}',
      },
      // ...
      category: {
        custom: 'Zooming',
      },
    }
  }
})
```

:::

## ä¸ Windi CSS çš„åŒºåˆ«

### æ–­ç‚¹

| Windi CSS | UnoCSS      |
| :-------- | :---------- |
| `<sm:p-1` | `lt-sm:p-1` |
| `@lg:p-1` | `at-lg:p-1` |
| `>xl:p-1` | `xl:p-1`    |

### æ‹¬å·è¯­æ³•ç©ºæ ¼

è¯¥é¢„è®¾ä½¿ç”¨ `_` ä»£æ›¿ `,` æ¥ä¿ç•™æ‹¬å·è¯­æ³•ä¸­çš„ç©ºæ ¼ã€‚

| Windi CSS                          | UnoCSS                             |
| :--------------------------------- | :--------------------------------- |
| `grid-cols-[1fr,10px,max-content]` | `grid-cols-[1fr_10px_max-content]` |

ç”±äºæŸäº› CSS è§„åˆ™è¦æ±‚ `,` ä½œä¸ºå€¼çš„ä¸€éƒ¨åˆ†ï¼Œä¾‹å¦‚ `grid-cols-[repeat(3,auto)]`

## å®éªŒç‰¹æ€§

::: warning
è¯¥é¢„è®¾åŒ…å«å®éªŒç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§å¯èƒ½åœ¨ä»»ä½•æ—¶å€™å‘ç”Ÿé‡å¤§å˜åŒ–ã€‚
:::

### åª’ä½“æ‚¬åœ

åª’ä½“æ‚¬åœè§£å†³äº† [ç²˜æ€§æ‚¬åœ](https://css-tricks.com/solving-sticky-hover-states-with-media-hover-hover/) é—®é¢˜ï¼Œå…¶ä¸­åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šç‚¹å‡»åŒ…æ‹¬æ‚¬åœæ ·å¼çš„ç›®æ ‡ä¼šæŒç»­ä¿æŒè¯¥æ‚¬åœæ ·å¼ï¼Œç›´åˆ°ç‚¹å‡»å…¶ä»–ä½ç½®ã€‚

ç”±äºå¸¸è§„ `:hover` æ ·å¼é€šå¸¸ä¼šè¢«å¹¿æ³›ä½¿ç”¨ï¼Œå› æ­¤è¯¥å˜ä½“ä½¿ç”¨ `@hover` è¯­æ³•æ¥å°†å…¶ä¸å¸¸è§„ `hover` ä¼ªç±»åŒºåˆ†å¼€ã€‚

å˜ä½“ `@hover-text-red` å°†è¾“å‡ºï¼š

```css
@media (hover: hover) and (pointer: fine) {
  .\@hover-text-red:hover {
    --un-text-opacity: 1;
    color: rgb(248 113 113 / var(--un-text-opacity));
  }
}
```

## é€‰é¡¹

::: info
è¯¥é¢„è®¾é€‰é¡¹ç»§æ‰¿è‡ª [`@unocss/preset-mini`](/presets/mini#options)ã€‚
:::

### important

* **ç±»å‹ï¼š** `boolean | string`
* **é»˜è®¤å€¼ï¼š** `false`

`important` é€‰é¡¹è®©æ‚¨æ§åˆ¶ UnoCSS çš„å®ç”¨å·¥å…·æ˜¯å¦åº”è¯¥æ ‡è®°ä¸º `!important`ã€‚åœ¨ä½¿ç”¨å¸¦æœ‰é«˜ç‰¹å¼‚æ€§é€‰æ‹©å™¨çš„ç°æœ‰ CSS æ—¶ï¼Œè¿™å¯èƒ½éå¸¸æœ‰ç”¨ã€‚

::: warning
ä½¿ç”¨æ­¤é€‰é¡¹å°†ä½¿ UnoCSS ç”Ÿæˆçš„æ‰€æœ‰å®ç”¨å·¥å…·å‡åº”ç”¨ `!important`ã€‚å¦‚æœæ‚¨åªæƒ³å°†å…¶åº”ç”¨äºç‰¹å®šçš„å®ç”¨å·¥å…·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `important:` å˜ä½“ã€‚
:::

ç„¶è€Œï¼Œå°† `important` è®¾ç½®ä¸º `true` å¯èƒ½ä¼šåœ¨åˆå¹¶ç¬¬ä¸‰æ–¹ JS åº“æ—¶å¼•å…¥ä¸€äº›é—®é¢˜ï¼Œè¿™äº›åº“ä¼šå‘æ‚¨çš„å…ƒç´ æ·»åŠ å†…è”æ ·å¼ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼ŒUnoCSS çš„ `!important` å®ç”¨å·¥å…·ä¼šè¦†ç›–å†…è”æ ·å¼ï¼Œä»è€Œå¯èƒ½ç ´åæ‚¨æƒ³è¦çš„è®¾è®¡ã€‚

ä¸ºäº†ç»•è¿‡è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨å¯ä»¥å°† important è®¾ç½®ä¸º ID é€‰æ‹©å™¨ï¼Œä¾‹å¦‚ `#app` ï¼š

```ts [uno.config.ts]
import presetWind3 from '@unocss/preset-wind'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    presetWind3({
      important: '#app',
    }),
  ],
})
```

æ­¤é…ç½®å°†ä¸ºæ‚¨æ‰€æœ‰çš„å®ç”¨å·¥å…·æ·»åŠ ç»™å®šé€‰æ‹©å™¨çš„å‰ç¼€ï¼Œä»è€Œæœ‰æ•ˆåœ°æé«˜å®ƒä»¬çš„ç‰¹å¼‚æ€§ï¼Œè€Œæ— éœ€å®é™…å°†å®ƒä»¬è®¾ç½®ä¸º `!important`ã€‚

å®ç”¨å·¥å…· `dark:bg-blue` å°†è¾“å‡ºï¼š

```css
#app :is(.dark .dark\:bg-blue) {
  --un-bg-opacity: 1;
  background-color: rgb(96 165 250 / var(--un-bg-opacity));
}
```

---

---
url: 'https://unocss.zhcndoc.com/presets/wind4.md'
description: ç”¨äº UnoCSS çš„ Tailwind4 CSS ç´§å‡‘é¢„è®¾ï¼ˆ@unocss/preset-wind4ï¼‰ã€‚
---

# Wind4 é¢„è®¾

ç”¨äº UnoCSS çš„ Tailwind4 CSS ç´§å‡‘é¢„è®¾ã€‚å®ƒä¸ PresetWind3 çš„æ‰€æœ‰åŠŸèƒ½å…¼å®¹ï¼Œå¹¶è¿›ä¸€æ­¥å¢å¼ºã€‚

[æºç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-wind4)

::: tip
æ‚¨å¯ä»¥èŠ±ä¸€ç‚¹æ—¶é—´é˜…è¯»æœ¬æ–‡æ¡£ä»¥äº†è§£æ›´æ”¹
:::

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-wind4
```

```bash [yarn]
yarn add -D @unocss/preset-wind4
```

```bash [npm]
npm install -D @unocss/preset-wind4
```

```bash [bun]
bun add -D @unocss/preset-wind4
```

:::

```ts twoslash [uno.config.ts]
import { defineConfig, presetWind4 } from 'unocss'

export default defineConfig({
  presets: [
    presetWind4(),
    //  ^?
  ],
})
```

## å…¼å®¹æ€§

è¯·å‚è€ƒ [Tailwind å…¼å®¹æ€§](https://tailwindcss.com/docs/compatibility) äº†è§£æµè§ˆå™¨æ”¯æŒå’Œå…¼å®¹æ€§ã€‚

## ä¸»é¢˜

`PresetWind4` çš„ä¸»é¢˜å‡ ä¹ä¸ `PresetWind3` çš„ä¸»é¢˜ç›¸åŒï¼Œä½†æŸäº›ä¸»é¢˜é”®å·²è¿›è¡Œäº†è°ƒæ•´ã€‚

::: warning
è¯·æ³¨æ„åœ¨åˆ‡æ¢åˆ° PresetWind4 æ—¶ï¼Œå‚é˜…ä¸‹è¡¨æ£€æŸ¥æ‚¨çš„ä¸»é¢˜é”®é…ç½®å¹¶è¿›è¡Œé€‚å½“çš„è°ƒæ•´ã€‚
:::

|                                            PresetWind3                                            |                          PresetWind4                          |
| :-----------------------------------------------------------------------------------------------: | :-----------------------------------------------------------: |
|                                           `fontFamily`                                            |                            `font`                             |
|                                            `fontSize`                                             |            ç§»è‡³ `text` ä¸­çš„ `fontSize` å±æ€§                    |
|                                           `lineHeight`                                            |   ç§»è‡³ `text` ä¸­çš„ `lineHeight` å±æ€§æˆ–ä½¿ç”¨ `leading`         |
|                                          `letterSpacing`                                          | ç§»è‡³ `text` ä¸­çš„ `letterSpacing` å±æ€§æˆ–ä½¿ç”¨ `tracking`      |
|                                          `borderRadius`                                           |                           `radius`                            |
|                                             `easing`                                              |                            `ease`                             |
|                                           `breakpoints`                                           |                         `breakpoint`                          |
|                                       `verticalBreakpoints`                                       |                     `verticalBreakpoint`                      |
|                                            `boxShadow`                                            |                           `shadow`                            |
|                                                 -                                                 |                         `insetShadow`                         |
|     åƒ `width`, `height`, `maxWidth`, `maxHeight`, `minWidth`, `minHeight` è¿™æ ·çš„å°ºå¯¸å±æ€§      |                   ç»Ÿä¸€ä¸ºä½¿ç”¨ `spacing`                        |
|                                       `transitionProperty`                                        |                          `property`                           |
| `gridAutoColumn`, `gridAutoRow`, `gridColumn`, `gridRow`, `gridTemplateColumn`, `gridTemplateRow` |                               -                               |
|                                       `container.maxWidth`                                        |                     `containers.maxWidth`                     |
|                                                 -                                                 |                          `defaults`                           |

### `Theme.defaults`

`Theme.defaults` æ˜¯ä¸€ä¸ªå…¨å±€é»˜è®¤ä¸»é¢˜é…ç½®ï¼Œå°†åº”ç”¨äº `reset` æ ·å¼æˆ–ä½œä¸ºæŸäº›è§„åˆ™çš„é»˜è®¤å€¼ã€‚

ä»¥ä¸‹æ˜¯ `Theme.defaults` çš„é»˜è®¤å€¼ï¼Œæ‚¨å¯ä»¥åœ¨ä¸»é¢˜é…ç½®ä¸­è¦†ç›–å®ƒä»¬ã€‚

```ts twoslash [uno.config.ts]
import type { Theme } from '@unocss/preset-wind4/theme'

export const defaults: Theme['default'] = {
  transition: {
    duration: '150ms',
    timingFunction: 'cubic-bezier(0.4, 0, 0.2, 1)',
  },
  font: {
    family: 'var(--font-sans)',
    featureSettings: 'var(--font-sans--font-feature-settings)',
    variationSettings: 'var(--font-sans--font-variation-settings)',
  },
  monoFont: {
    family: 'var(--font-mono)',
    featureSettings: 'var(--font-mono--font-feature-settings)',
    variationSettings: 'var(--font-mono--font-variation-settings)',
  },
}
```

## é€‰é¡¹

PresetWind4 çš„åŸºæœ¬é…ç½®ä¸ [PresetWind3](/presets/wind3#options) ç±»ä¼¼ï¼Œä½†æœ‰ä»¥ä¸‹é‡è¦æ›´æ”¹ã€‚

### Preflights

æˆ‘ä»¬åœ¨ `PresetWind4` ä¸­æ·»åŠ äº† `preflights` é…ç½®é€‰é¡¹ï¼Œä»¥æ§åˆ¶æ˜¯å¦å¯ç”¨é¢„è®¾æ ·å¼ã€‚

#### Reset

åœ¨ PresetWind4 ä¸­ï¼Œæˆ‘ä»¬ä½¿é‡ç½®æ ·å¼ä¸ tailwind4 å¯¹é½å¹¶è¿›è¡Œäº†å†…éƒ¨é›†æˆã€‚æ‚¨æ— éœ€å®‰è£…ä»»ä½•é¢å¤–çš„ CSS é‡ç½®åŒ…ï¼Œå¦‚ `@unocss/reset` æˆ– `normalize.css`ã€‚

```ts [main.ts]
import '@unocss/reset/tailwind.css' // [!code --]
import '@unocss/reset/tailwind-compat.css' // [!code --]
```

æ‚¨åªéœ€é€šè¿‡å¼€å…³æ§åˆ¶æ˜¯å¦å¯ç”¨é‡ç½®æ ·å¼ï¼š

```ts twoslash [uno.config.ts]
import { defineConfig, presetWind4 } from 'unocss'

export default defineConfig({
  presets: [
    presetWind4({
      preflights: { // [!code ++]
        reset: true, // [!code ++]
      } // [!code ++]
    }),
  ],
})
```

#### ä¸»é¢˜

é€‰æ‹©å¦‚ä½•ç”Ÿæˆä¸»é¢˜ CSS å˜é‡ã€‚

##### æ¨¡å¼

å®‰è£…äº† `presetWind4` çš„ UnoCSS å¼•æ“ä¼šåœ¨è§£æå·¥å…·æ—¶è‡ªåŠ¨æ”¶é›†ä¸»é¢˜çš„ä¾èµ–å…³ç³»ï¼Œå¹¶åœ¨æœ€åç”Ÿæˆ CSS å˜é‡ã€‚

* `true`: å®Œå…¨ç”Ÿæˆä¸»é¢˜é”®ã€‚
* `false`: ç¦ç”¨ä¸»é¢˜é”®ã€‚ (ä¸æ¨è âš ï¸)
* `'on-demand'`: ä»…åœ¨ä½¿ç”¨æ—¶ç”Ÿæˆä¸»é¢˜é”®ã€‚-> âœ… **(é»˜è®¤)**

```ts twoslash [uno.config.ts]
import { defineConfig, presetWind4 } from 'unocss'

export default defineConfig({
  presets: [
    presetWind4({
      preflights: { // [!code ++]
        theme: true, // [!code ++]
      }, // [!code ++]
    }),
  ],
})
```

##### å¤„ç†

æ‚¨å¯ä»¥è¿›ä¸€æ­¥æ§åˆ¶ä¸»é¢˜å˜é‡çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³å°† `rem` è½¬æ¢ä¸º `px` çš„ä¸»é¢˜å˜é‡ï¼Œæˆ‘ä»¬æä¾›äº† `createRemToPxProcessor` å‡½æ•°æ¥å¤„ç†æ‚¨çš„ä¸»é¢˜å˜é‡ã€‚

```ts twoslash [uno.config.ts]
import { createRemToPxProcessor } from '@unocss/preset-wind4/utils' // [!code ++]
import { defineConfig, presetWind4 } from 'unocss'

export default defineConfig({
  presets: [
    presetWind4({
      preflights: { // [!code ++]
        theme: { // [!code ++]
          mode: 'on-demand', // é»˜è®¤ä¸º 'on-demand' // [!code ++]
          process: createRemToPxProcessor(), // [!code ++]
        } // [!code ++]
      }, // [!code ++]
    }),
  ],
})
```

é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¦‚æœæ‚¨æƒ³ä½¿ç”¨ `presetRemToPx` é¢„è®¾å°† `rem` è½¬æ¢ä¸º `px`ï¼Œæ‚¨ä¸å†éœ€è¦å•ç‹¬å¯¼å…¥è¿™ä¸ªé¢„è®¾ï¼Œå› ä¸º `presetWind4` å·²ç»åœ¨å†…éƒ¨æä¾›äº†è¿™ä¸ªåŠŸèƒ½ã€‚

```ts twoslash [uno.config.ts]
import { createRemToPxProcessor } from '@unocss/preset-wind4/utils' // [!code ++]
import { defineConfig, presetWind4 } from 'unocss'

export default defineConfig({
  presets: [
    presetWind4({
      preflights: { // [!code ++]
        theme: { // [!code ++]
          process: createRemToPxProcessor(), // [!code ++]
        } // [!code ++]
      }, // [!code ++]
    }),
  ],
  postprocess: [createRemToPxProcessor()], // [!code ++]
})
```

#### å±æ€§

æ§åˆ¶åœ¨ `properties` å±‚ä¸­ç”Ÿæˆ `@property` CSS è§„åˆ™ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒPresetWind4 ä½¿ç”¨ `@property` æ¥å®šä¹‰ CSS è‡ªå®šä¹‰å±æ€§ï¼Œä»¥å®ç°æ›´å¥½çš„æµè§ˆå™¨ä¼˜åŒ–ã€‚è¿™äº›å±æ€§ä¼šæ ¹æ®ä½ å¯¹å·¥å…·ç±»çš„ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆï¼Œå¹¶åŒ…è£¹åœ¨ `@supports` æŸ¥è¯¢ä¸­ï¼Œä»¥å®ç°æ¸è¿›å¢å¼ºã€‚

```ts twoslash [uno.config.ts]
import { defineConfig, presetWind4 } from 'unocss'

export default defineConfig({
  presets: [
    presetWind4({
      preflights: {
        property: true, // Enable (default) | `false` to disable [!code ++]
      },
    }),
  ],
})
```

##### çˆ¶çº§å’Œé€‰æ‹©å™¨

æ‚¨å¯ä»¥è‡ªå®šä¹‰çˆ¶çº§åŒ…è£…å™¨å’Œé€‰æ‹©å™¨ï¼š

```ts twoslash [uno.config.ts]
import { defineConfig, presetWind4 } from 'unocss'

export default defineConfig({
  presets: [
    presetWind4({
      preflights: {
        property: {
          // Custom parent selector (e.g., use @layer instead of @supports)
          parent: '@layer custom-properties',
          // Custom selector for applying properties
          selector: ':where(*, ::before, ::after)',
        },
      },
    }),
  ],
})
```

å¦‚æœä½ ä¸æƒ³è¦ `@supports` åŒ…è£¹ï¼Œå¹¶å¸Œæœ›å±æ€§è¢«ç›´æ¥åº”ç”¨ï¼š

```ts twoslash [uno.config.ts]
import { defineConfig, presetWind4 } from 'unocss'

export default defineConfig({
  presets: [
    presetWind4({
      preflights: {
        property: {
          parent: false, // No parent wrapper
        },
      },
    }),
  ],
})
```

**é»˜è®¤è¾“å‡ºï¼š**

```css
@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or
  ((-moz-orient: inline) and (not (color: rgb(from red r g b)))) {
  *,
  ::before,
  ::after,
  ::backdrop {
    --un-text-opacity: 100%;
    /* ... */
  }
}
```

**ä½¿ç”¨ `parent: false`ï¼š**

```css
*,
::before,
::after,
::backdrop {
  --un-text-opacity: 100%;
  /* ... */
}
```

## ç”Ÿæˆçš„ CSS

åœ¨ PresetWind4 çš„è¾“å‡ºä¸­ï¼Œæ–°å¢äº†ä¸‰ä¸ªå±‚ï¼š`base`ã€`theme` å’Œ `properties`ã€‚

|  å±‚åç§°  |              æè¿°              | é¡ºåº |
| :----------: | :-----------------------------------: | :---: |
| `properties` | ç”± `@property` å®šä¹‰çš„ CSS å±æ€§ | -200  |
|   `theme`    |      ä¸»é¢˜ç›¸å…³çš„ CSS å˜é‡      | -150  |
|    `base`    |      åŸºç¡€é¢„è®¾/é‡ç½®æ ·å¼       | -100  |

### `properties` å±‚

æˆ‘ä»¬åœ¨è®¸å¤šè§„åˆ™ä¸­ä½¿ç”¨ `@property` æ¥å®šä¹‰ CSS å±æ€§ï¼Œä»¥å®ç°æ›´å¥½çš„æ€§èƒ½å’Œæ›´å°çš„ä½“ç§¯ã€‚

ä¾‹å¦‚ï¼Œå¸¸ç”¨çš„å®ç”¨ç¨‹åºå¦‚ `text-op-xx`ã€`bg-op-xx` ç­‰ã€‚

```css
@property --un-text-opacity {
  syntax: '<percentage>';
  inherits: false;
  initial-value: 100%;
}
```

### `theme` å±‚

æˆ‘ä»¬å°†ä¸ä¸»é¢˜ç›¸å…³çš„ CSS å˜é‡æ”¾åœ¨ `theme` å±‚ä¸­ï¼Œä»¥ä¾¿æ‚¨æ›´å®¹æ˜“è¦†ç›–å’Œç›´æ¥ä½¿ç”¨ã€‚
å®ƒå¯ä»¥æ˜¯å…¨é¢çš„æˆ–æŒ‰éœ€çš„ã€‚å®ƒå§‹ç»ˆæ¥è‡ªæ‚¨çš„ä¸»é¢˜é…ç½®ã€‚

::: info
ç”Ÿæˆçš„é”®åç§°å¯èƒ½ä¸ `Tailwind4` çš„ä¸å®Œå…¨ç›¸åŒã€‚æˆ‘ä»¬å°½é‡é¿å…åœ¨ä¸»é¢˜ä¸­å¯¹é”®åç§°è¿›è¡Œé‡å¤§æ›´æ”¹ï¼Œä»¥å°Šé‡ä» `presetWind3` è¿ç§»çš„ç”¨æˆ·ã€‚
æ‚¨è¿˜å¯ä»¥åœ¨ [Preflights ä¸»é¢˜å¤„ç†](#process) ä¸­è‡ªå®šä¹‰æƒ³è¦çš„è¾“å‡ºã€‚
:::

```css
:root,
:host {
  --spacing: 0.25rem;
  --font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
    'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  --font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  --colors-black: #000;
  --colors-white: #fff;
  /* ... */
}
```

## ä¸å…¶ä»–é¢„è®¾çš„å…¼å®¹æ€§

`PresetWind4` åœ¨å¢å¼ºå’Œå…¼å®¹ `PresetWind3` çš„åŸºç¡€ä¸Šè¿›è¡Œã€‚ç”±äºå…¶ä»–åŒ…æœ€åˆæ˜¯ä¸º `PresetWind3` å¼€å‘çš„ï¼Œåœ¨ä¸€èµ·ä½¿ç”¨æ—¶å¯èƒ½ä¼šå‡ºç°ä¸€äº›é—®é¢˜ã€‚å·²çŸ¥é—®é¢˜åŒ…æ‹¬ï¼š

### presetRemToPx

åœ¨ `PresetWind4` ä¸­ï¼Œä¸å†éœ€è¦ `presetRemToPx`ï¼Œå› ä¸ºå®ƒå·²åœ¨å†…éƒ¨åŒ…å«ã€‚æ‚¨å¯ä»¥å°†å…¶ä»é…ç½®ä¸­åˆ é™¤ã€‚

è¯·å‚é˜…é€‰é¡¹ä¸­çš„ [`process`](#process) é€‰é¡¹ã€‚

### presetLegacyCompat

åœ¨ `presetWind4` ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `oklch` é¢œè‰²æ¨¡å‹ä»¥æ”¯æŒæ›´å¥½çš„é¢œè‰²å¯¹æ¯”å’Œé¢œè‰²æ„ŸçŸ¥ã€‚å› æ­¤ï¼Œå®ƒä¸ `presetLegacyCompat` ä¸å…¼å®¹ï¼Œä¸æ¨èä¸€èµ·ä½¿ç”¨ã€‚

è¯·å‚é˜… [å…¼å®¹æ€§](#compatibility) éƒ¨åˆ†ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚

---

---
url: 'https://unocss.zhcndoc.com/guide/why.md'
---

# ä¸ºä»€ä¹ˆé€‰æ‹© UnoCSSï¼Ÿ

## åŠ¨æœº

æˆ‘ä»¬å»ºè®®æ‚¨é˜…è¯»ç”± UnoCSS çš„åˆ›å»ºè€… [Anthony Fu](https://antfu.me/) æ’°å†™çš„åšå®¢æ–‡ç«  [é‡æ–°æ„æƒ³åŸå­ CSS](https://antfu.me/posts/reimagine-atomic-css)ï¼Œä»¥æ›´å¥½åœ°ç†è§£ UnoCSS èƒŒåçš„åŠ¨æœºã€‚

## UnoCSS ä¸ X çš„ä¸åŒä¹‹å¤„

### Windi CSS

UnoCSS æ˜¯ç”± [Windi CSS](https://windicss.org/) çš„ä¸€ä½å›¢é˜Ÿæˆå‘˜å‘èµ·çš„ï¼Œè®¸å¤šçµæ„Ÿæ¥è‡ªäºæˆ‘ä»¬åœ¨ Windi CSS ä¸­æ‰€åšçš„å·¥ä½œã€‚å°½ç®¡ Windi CSS åœ¨ 2023 å¹´ 3 æœˆä¹‹åä¸å†ç§¯æç»´æŠ¤ï¼Œä½†æ‚¨å¯ä»¥å°† UnoCSS è§†ä¸º Windi CSS çš„ *â€œç²¾ç¥ç»§æ‰¿è€…â€*ã€‚

UnoCSS ç»§æ‰¿äº† Windi CSS çš„æŒ‰éœ€ç‰¹æ€§ã€[å±æ€§åŒ–æ¨¡å¼](/presets/attributify)ã€[å¿«æ·æ–¹å¼](/config/shortcuts)ã€[å˜ä½“ç»„](/transformers/variant-group)ã€[ç¼–è¯‘æ¨¡å¼](/transformers/compile-class)ç­‰è¯¸å¤šåŠŸèƒ½ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒUnoCSS ä»å¤´å¼€å§‹æ„å»ºï¼Œæœ€å¤§é™åº¦åœ°è€ƒè™‘äº†å¯æ‰©å±•æ€§å’Œæ€§èƒ½ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå¼•å…¥æ–°çš„åŠŸèƒ½ï¼Œå¦‚ [çº¯ CSS å›¾æ ‡](/presets/icons)ã€[æ— å€¼å±æ€§åŒ–](/presets/attributify#valueless-attributify)ã€[æ ‡ç­¾åŒ–](/presets/tagify)ã€[ç½‘é¡µå­—ä½“](/presets/web-fonts) ç­‰ç­‰ã€‚

æœ€é‡è¦çš„æ˜¯ï¼ŒUnoCSS è¢«æå–ä¸ºä¸€ä¸ªåŸå­ CSS å¼•æ“ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥è½»æ¾åˆ›å»ºæ‚¨è‡ªå·±çš„çº¦å®šã€è‡ªå·±çš„è®¾è®¡ç³»ç»Ÿå’Œè‡ªå·±çš„é¢„è®¾ - ç»“åˆæ‚¨æƒ³è¦çš„åŠŸèƒ½ã€‚

### Tailwind CSS

Windi CSS å’Œ UnoCSS å‡å—åˆ° [Tailwind CSS](https://tailwindcss.com/) çš„å¯å‘ã€‚ç”±äº UnoCSS ä»å¤´å¼€å§‹æ„å»ºï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾ˆå¥½åœ°æ¦‚è¿°åŸå­ CSS å¦‚ä½•é€šè¿‡å…ˆå‰çš„è‰ºæœ¯è¿›è¡Œè®¾è®¡å¹¶æŠ½è±¡æˆä¼˜é›…è€Œå¼ºå¤§çš„ APIã€‚ç”±äºè®¾è®¡ç›®æ ‡çš„ä¸åŒï¼Œå¾ˆéš¾ä¸ Tailwind CSS è¿›è¡Œç›´æ¥æ¯”è¾ƒã€‚ä½†æˆ‘ä»¬ä¼šå°è¯•åˆ—å‡ºä¸€äº›ä¸åŒä¹‹å¤„ã€‚

Tailwind CSS æ˜¯ä¸€ä¸ª PostCSS æ’ä»¶ï¼Œè€Œ UnoCSS æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€ç³»åˆ—ä¸€æµé›†æˆçš„åŒæ„å¼•æ“ï¼ˆåŒ…æ‹¬ [PostCSS æ’ä»¶](/integrations/postcss)ï¼‰ã€‚è¿™æ„å‘³ç€ UnoCSS åœ¨ä¸åŒåœ°æ–¹ä½¿ç”¨æ—¶çµæ´»æ€§æ›´é«˜ï¼ˆä¾‹å¦‚ï¼Œ[CDN è¿è¡Œæ—¶](/integrations/runtime)ï¼Œå¯ä»¥åŠ¨æ€ç”Ÿæˆ CSSï¼‰å¹¶ä¸æ„å»ºå·¥å…·æ·±åº¦é›†æˆï¼Œä»¥æä¾›æ›´å¥½çš„ HMRã€æ€§èƒ½å’Œå¼€å‘è€…ä½“éªŒï¼ˆä¾‹å¦‚ï¼Œ[æ£€æŸ¥å™¨](/tools/inspector)ï¼‰ã€‚

æŠ›å¼€æŠ€æœ¯æƒè¡¡ä¸è°ˆï¼ŒUnoCSS ä¹Ÿè¢«è®¾è®¡ä¸ºå®Œå…¨å¯æ‰©å±•å’Œå¯å®šåˆ¶ï¼Œè€Œ Tailwind CSS æ›´åŠ è§„èŒƒã€‚åŸºäº Tailwind CSS æ„å»ºè‡ªå®šä¹‰è®¾è®¡ç³»ç»Ÿï¼ˆæˆ–è®¾è®¡ä»¤ç‰Œï¼‰å¯èƒ½æ¯”è¾ƒå›°éš¾ï¼Œæ‚¨æ— æ³•çœŸæ­£è„±ç¦» Tailwind CSS çš„çº¦å®šã€‚è€Œä½¿ç”¨ UnoCSSï¼Œæ‚¨å‡ ä¹å¯ä»¥ç”¨å®Œå…¨çš„æ§åˆ¶æ„å»ºä»»ä½•æ‚¨æƒ³è¦çš„ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨ [ä¸€ä¸ªå•ä¸€é¢„è®¾](/presets/wind3) ä¸­å®ç°äº†æ•´ä¸ª Tailwind CSS å…¼å®¹çš„å®ç”¨å·¥å…·ï¼Œå¹¶ä¸”è¿˜æœ‰è®¸å¤šé‡‡ç”¨å…¶ä»–æœ‰è¶£ç†å¿µçš„ [ä¼˜ç§€ç¤¾åŒºé¢„è®¾](/presets/community)ã€‚

å¾—ç›Šäº UnoCSS æä¾›çš„çµæ´»æ€§ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨å…¶åŸºç¡€ä¸Šå®éªŒè®¸å¤šåˆ›æ–°åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š

* [çº¯ CSS å›¾æ ‡](/presets/icons)
* [å±æ€§åŒ–æ¨¡å¼](/presets/attributify)
* [å˜ä½“ç»„](/transformers/variant-group)
* [å¿«æ·æ–¹å¼](/config/shortcuts)
* [æ ‡ç­¾åŒ–](/presets/tagify)
* [ç½‘é¡µå­—ä½“](/presets/web-fonts)
* [CDN è¿è¡Œæ—¶](/integrations/runtime)
* [æ£€æŸ¥å™¨](/tools/inspector)

ç”±äºä¸ Tailwind CSS çš„è®¾è®¡ç›®æ ‡ä¸åŒï¼ŒUnoCSS ä¸æ”¯æŒ Tailwind CSS çš„æ’ä»¶ç³»ç»Ÿæˆ–é…ç½®ï¼Œè¿™æ„å‘³ç€ä»ä¸€ä¸ª heavily customized çš„ Tailwind CSS é¡¹ç›®è¿ç§»å¯èƒ½ä¼šæ›´åŠ å›°éš¾ã€‚è¿™æ˜¯ä¸ºäº†ä½¿ UnoCSS åœ¨æ€§èƒ½å’Œå¯æ‰©å±•æ€§ä¸Šè¾¾åˆ°é«˜æ ‡å‡†è€Œåšå‡ºçš„æœ‰æ„å†³ç­–ï¼Œæˆ‘ä»¬ç›¸ä¿¡è¿™ä¸ªæƒè¡¡æ˜¯å€¼å¾—çš„ã€‚

---

---
url: 'https://unocss.zhcndoc.com/config/theme.md'
description: UnoCSS è¿˜æ”¯æŒæ‚¨å¯èƒ½ç†Ÿæ‚‰çš„ä¸»é¢˜ç³»ç»Ÿï¼Œå°±åƒåœ¨ Tailwind CSS / Windi CSS ä¸­ä¸€æ ·ã€‚
---

# ä¸»é¢˜

UnoCSS è¿˜æ”¯æŒæ‚¨å¯èƒ½ç†Ÿæ‚‰çš„ä¸»é¢˜ç³»ç»Ÿï¼Œå°±åƒåœ¨ Tailwind CSS / Windi CSS ä¸­ä¸€æ ·ã€‚åœ¨ç”¨æˆ·çº§åˆ«ï¼Œæ‚¨å¯ä»¥åœ¨é…ç½®ä¸­æŒ‡å®š `theme` å±æ€§ï¼Œå®ƒå°†è¢«æ·±åº¦åˆå¹¶åˆ°é»˜è®¤ä¸»é¢˜ä¸­ã€‚

## ä½¿ç”¨

```ts
theme: {
  // ...
  colors: {
    veryCool: '#0000ff', // class="text-very-cool"
    brand: {
      primary: 'hsl(var(--hue, 217) 78% 51%)', //class="bg-brand-primary"
      DEFAULT: '#942192' //class="bg-brand"
    },
  },
}
```

::: tip
åœ¨è§£æè¿‡ç¨‹ä¸­ï¼Œ`theme` å°†å§‹ç»ˆå­˜åœ¨äº `context` ä¸­ã€‚
:::

### åœ¨ `rules` ä¸­ä½¿ç”¨

è¦åœ¨è§„åˆ™ä¸­ä½¿ç”¨ä¸»é¢˜ï¼š

```ts
rules: [
  [/^text-(.*)$/, ([, c], { theme }) => {
    if (theme.colors[c])
      return { color: theme.colors[c] }
  }],
]
```

### åœ¨ `variants` ä¸­ä½¿ç”¨

è¦åœ¨å˜ä½“ä¸­ä½¿ç”¨ä¸»é¢˜ï¼š

```ts
variants: [
  {
    name: 'variant-name',
    match(matcher, { theme }) {
      // ...
    },
  },
]
```

### åœ¨ `shortcuts` ä¸­ä½¿ç”¨

è¦åœ¨åŠ¨æ€çŸ­è¯­ä¸­ä½¿ç”¨ä¸»é¢˜ï¼š

```ts
shortcuts: [
  [/^badge-(.*)$/, ([, c], { theme }) => {
    if (Object.keys(theme.colors).includes(c))
      return `bg-${c}4:10 text-${c}5 rounded`
  }],
]
```

## çª—å£æ–­ç‚¹

::: warning
å½“æä¾›è‡ªå®šä¹‰ `breakpoints` å¯¹è±¡æ—¶ï¼Œé»˜è®¤å€¼å°†è¢«è¦†ç›–ï¼Œè€Œä¸æ˜¯åˆå¹¶ã€‚
:::

é€šè¿‡ä»¥ä¸‹ç¤ºä¾‹ï¼Œæ‚¨å°†åªèƒ½ä½¿ç”¨ `sm:` å’Œ `md:` æ–­ç‚¹å˜ä½“ï¼š

```ts
theme: {
  // ...
  breakpoints: {
    sm: '320px',
    md: '640px',
  },
}
```

::: tip
åœ¨ `presetWind4` ä¸­ï¼Œé”®åå·²æ›´æ”¹ä¸º `breakpoint`ã€‚

æœ‰å…³ `presetWind4` ä¸»é¢˜æ–‡æ¡£ï¼Œè¯·å‚è§ https://unocss.dev/presets/wind4#themeã€‚
:::

å¦‚æœæ‚¨æƒ³ç»§æ‰¿ `original` ä¸»é¢˜æ–­ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ `extendTheme`ï¼š

```ts
extendTheme: (theme) => {
  return {
    ...theme,
    breakpoints: {
      ...theme.breakpoints,
      sm: '320px',
      md: '640px',
    },
  }
}
```

::: info
`verticalBreakpoints` ä¸ `breakpoints` ç›¸åŒï¼Œä½†ç”¨äºå‚ç›´å¸ƒå±€ã€‚
:::

å¦å¤–ï¼Œæˆ‘ä»¬å°†æŒ‰å¤§å°ï¼ˆç›¸åŒå•ä½ï¼‰å¯¹å±å¹•æ–­ç‚¹è¿›è¡Œæ’åºã€‚å¯¹äºä¸åŒå•ä½çš„å±å¹•æ–­ç‚¹ï¼Œä¸ºé¿å…å‡ºç°é”™è¯¯ï¼Œè¯·åœ¨é…ç½®ä¸­ä½¿ç”¨ç»Ÿä¸€å•ä½ã€‚

```ts
theme: {
  // ...
  breakpoints: {
    sm: '320px',
    // å› ä¸º uno ä¸æ”¯æŒä¸åŒå•ä½å¤§å°çš„æ¯”è¾ƒæ’åºï¼Œè¯·è½¬æ¢ä¸ºç›¸åŒå•ä½ã€‚
    // md: '40rem',
    md: `${40 * 16}px`,
    lg: '960px',
  },
}
```

## ExtendTheme

`ExtendTheme` å…è®¸æ‚¨ç¼–è¾‘ **æ·±åº¦åˆå¹¶çš„ä¸»é¢˜** æ¥è·å–å®Œæ•´çš„ä¸»é¢˜å¯¹è±¡ã€‚

è‡ªå®šä¹‰å‡½æ•°ä¼šä¿®æ”¹ä¸»é¢˜å¯¹è±¡ã€‚

```ts
extendTheme: (theme) => {
  theme.colors.veryCool = '#0000ff' // class="text-very-cool"
  theme.colors.brand = {
    primary: 'hsl(var(--hue, 217) 78% 51%)', // class="bg-brand-primary"
  }
}
```

ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„ä¸»é¢˜å¯¹è±¡ä»¥å®Œå…¨æ›¿æ¢åŸå§‹å¯¹è±¡ã€‚

```ts
extendTheme: (theme) => {
  return {
    ...theme,
    colors: {
      ...theme.colors,
      veryCool: '#0000ff', // class="text-very-cool"
      brand: {
        primary: 'hsl(var(--hue, 217) 78% 51%)', // class="bg-brand-primary"
      },
    },
  }
}
```

---

---
url: 'https://unocss.zhcndoc.com/extractors/arbitrary-variants.md'
---

# ä»»æ„å˜ä½“æå–å™¨

ä¸€ä¸ªæ›´å¤æ‚çš„æå–å™¨ï¼Œä»¥æ”¯æŒå®ç”¨å·¥å…·çš„ä»»æ„å˜ä½“ã€‚

```html
<div class="[&>*]:m-1 [&[open]]:p-2"></div>
```

å°†ä¼šæ•è· `[&>*]:m-1` å’Œ `[&[open]]:p-2` ä½œä¸ºå˜ä½“ã€‚

è¯¥æå–å™¨è¢«åŒ…æ‹¬åœ¨ [`@unocss/preset-mini`](/presets/mini) ä¸­ï¼Œä½œä¸ºé»˜è®¤æå–å™¨ã€‚é€šå¸¸ä½ ä¸éœ€è¦æ‰‹åŠ¨å®‰è£…è¿™ä¸ªåŒ…ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/extractor-arbitrary-variants
```

```bash [yarn]
yarn add -D @unocss/extractor-arbitrary-variants
```

```bash [npm]
npm install -D @unocss/extractor-arbitrary-variants
```

```bash [bun]
bun add -D @unocss/extractor-arbitrary-variants
```

:::

```ts [uno.config.ts]
import extractorArbitrary from '@unocss/extractor-arbitrary-variants'
import { defineConfig } from 'unocss'

export default defineConfig({
  extractors: [
    extractorArbitrary(),
  ],
})
```

---

---
url: 'https://unocss.zhcndoc.com/presets/legacy-compat.md'
description: ä¼ ç»Ÿå…¼å®¹å·¥å…·é›†åˆã€‚
---

# ä¼ ç»Ÿå…¼å®¹é¢„è®¾

ä¼ ç»Ÿå…¼å®¹å·¥å…·çš„é›†åˆã€‚

æ­¤é¢„è®¾ä¸åŒ…å«ä»»ä½•è§„åˆ™ï¼Œ å®ƒå¯¹æ¥è‡ªå…¶ä»–é¢„è®¾ç”Ÿæˆçš„ CSS è¿›è¡Œåå¤„ç†ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ²¡æœ‰é€‰é¡¹å¯ç”¨ï¼Œæ‚¨éœ€è¦æ˜ç¡®é€‰æ‹©æ¯ä¸ªé€‰é¡¹ã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-legacy-compat)

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-legacy-compat
```

```bash [yarn]
yarn add -D @unocss/preset-legacy-compat
```

```bash [npm]
npm install -D @unocss/preset-legacy-compat
```

```bash [bun]
bun add -D @unocss/preset-legacy-compat
```

:::

```ts [uno.config.ts]
import presetLegacyCompat from '@unocss/preset-legacy-compat'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    // ...å…¶ä»–é¢„è®¾
    presetLegacyCompat({
      // é€‰é¡¹
      commaStyleColorFunction: true,
      legacyColorSpace: true
    }),
  ],
})
```

## é€‰é¡¹

### `commaStyleColorFunction`

* **ç±»å‹:** `boolean`
* **é»˜è®¤:** `false`

å°†é¢œè‰²å‡½æ•°ï¼ˆ`rgb()` å’Œ `hsl()`ï¼‰ä»ç©ºæ ¼åˆ†éš”è½¬æ¢ä¸ºé€—å·åˆ†éš”ï¼Œä»¥æ›´å¥½åœ°å…¼å®¹ä¼ ç»Ÿæµè§ˆå™¨ã€‚æ¢å¤ UnoCSS v0.57.0 ä¹‹å‰çš„æ—§è¡Œä¸ºï¼Œè¯¥è¡Œä¸ºåœ¨ [#3221](https://github.com/unocss/unocss/pull/3221) ä¸­æ›´æ”¹ä¸ºç©ºæ ¼åˆ†éš”ï¼Œä»¥ä¸ Tailwind CSS å¯¹é½ã€‚

ç¤ºä¾‹ï¼š

* `rgb(255 0 0)` -> `rgb(255, 0, 0)`
* `rgb(255 0 0 / 50%)` -> `rgba(255, 0, 0, 50%)`
* `hsl(0 100% 50% / 50%)` -> `hsla(0, 100%, 50%, 50%)`

### `legacyColorSpace`

* **ç±»å‹:** `boolean`
* **é»˜è®¤:** `false`

ä»ç”Ÿæˆçš„æ ·å¼ä¸­ç§»é™¤é¢œè‰²ç©ºé—´å…³é”®å­—ï¼Œå¦‚ `in oklch` å’Œ `in oklab`ã€‚è¿™å¯¹äºç¡®ä¿ä¸ä¸æ”¯æŒè¿™äº›ç°ä»£é¢œè‰²ç©ºé—´çš„ä¼ ç»Ÿæµè§ˆå™¨çš„å…¼å®¹æ€§éå¸¸æœ‰ç”¨ã€‚

è¦å¯ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·å°† `legacyColorSpace` é€‰é¡¹è®¾ç½®ä¸º `true`ã€‚

---

---
url: 'https://unocss.zhcndoc.com/guide/packages.md'
description: UnoCSS åŒ…ï¼šå¯ç”¨åŒ…åŠå…¶åŒ…å«å’Œå¯ç”¨çš„å†…å®¹ã€‚
---

# åŒ…

UnoCSS æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªåŒ…çš„å•ä½“ä»“åº“ã€‚æ­¤é¡µé¢åˆ—å‡ºäº†æ‰€æœ‰åŒ…åŠå…¶åœ¨ `unocss` åŒ…ä¸­çš„åŒ…å«æƒ…å†µï¼š

| åŒ…                                                                   | æè¿°                                | åŒ…å«åœ¨ `unocss` | å¯ç”¨ |
| -------------------------------------------------------------------- | ----------------------------------- | --------------- | ---- |
| [@unocss/core](/tools/core)                                          | æ²¡æœ‰é¢„è®¾çš„æ ¸å¿ƒåº“                    | âœ…              | -    |
| [@unocss/cli](/integrations/cli)                                     | UnoCSS çš„å‘½ä»¤è¡Œæ¥å£                 | âœ…              | -    |
| [@unocss/preset-mini](/presets/mini)                                 | æœ€å°ä½†å¿…è¦çš„è§„åˆ™å’Œå˜ä½“              | âœ…              | âœ…   |
| [@unocss/preset-wind3](/presets/wind3)                               | Tailwind CSS / Windi CSS ç²¾ç®€é¢„è®¾   | âœ…              | âœ…   |
| [@unocss/preset-wind4](/presets/wind4)                               | Tailwind4 CSS ç²¾ç®€é¢„è®¾              | âœ…              | âœ…   |
| [@unocss/preset-attributify](/presets/attributify)                   | å¯ç”¨ Attributify æ¨¡å¼ä»¥æ”¯æŒå…¶ä»–è§„åˆ™ | âœ…              | å¦   |
| [@unocss/preset-tagify](/presets/tagify)                             | å¯ç”¨ Tagify æ¨¡å¼ä»¥æ”¯æŒå…¶ä»–è§„åˆ™      | âœ…              | å¦   |
| [@unocss/preset-icons](/presets/icons)                               | åŸºäº Iconify çš„çº¯ CSS å›¾æ ‡è§£å†³æ–¹æ¡ˆ  | âœ…              | å¦   |
| [@unocss/preset-web-fonts](/presets/web-fonts)                       | æ”¯æŒç½‘é¡µå­—ä½“ï¼ˆGoogle å­—ä½“ç­‰ï¼‰       | âœ…              | å¦   |
| [@unocss/preset-typography](/presets/typography)                     | æ’ç‰ˆé¢„è®¾                            | âœ…              | å¦   |
| [@unocss/preset-rem-to-px](/presets/rem-to-px)                       | å°† rem è½¬æ¢ä¸º px ç”¨äºå®ç”¨å·¥å…·       | å¦              | å¦   |
| [@unocss/preset-legacy-compat](/presets/legacy-compat)               | ç”¨äºæ—§ç‰ˆå…¼å®¹æ€§çš„å·¥å…·é›†åˆ            | å¦              | å¦   |
| [@unocss/transformer-variant-group](/transformers/variant-group)     | Windi CSS çš„å˜ä½“ç»„åŠŸèƒ½çš„è½¬æ¢å™¨      | âœ…              | å¦   |
| [@unocss/transformer-directives](/transformers/directives)           | ç”¨äº CSS æŒ‡ä»¤å¦‚ `@apply` çš„è½¬æ¢å™¨   | âœ…              | å¦   |
| [@unocss/transformer-compile-class](/transformers/compile-class)     | å°†ä¸€ç»„ç±»ç¼–è¯‘æˆä¸€ä¸ªç±»                | âœ…              | å¦   |
| [@unocss/transformer-attributify-jsx](/transformers/attributify-jsx) | æ”¯æŒåœ¨ JSX/TSX ä¸­ä½¿ç”¨æ— å€¼çš„å±æ€§     | âœ…              | å¦   |
| [@unocss/extractor-pug](/extractors/pug)                             | Pug çš„æå–å™¨                        | å¦              | -    |
| [@unocss/extractor-svelte](/extractors/svelte)                       | Svelte çš„æå–å™¨                     | å¦              | -    |
| [@unocss/autocomplete](/tools/autocomplete)                          | è‡ªåŠ¨è¡¥å…¨å·¥å…·                        | å¦              | -    |
| [@unocss/config](/guide/config-file)                                 | é…ç½®æ–‡ä»¶åŠ è½½å™¨                      | âœ…              | -    |
| [@unocss/reset](/guide/style-reset)                                  | å¸¸è§ CSS é‡ç½®çš„é›†åˆ                 | âœ…              | å¦   |
| [@unocss/vite](/integrations/vite)                                   | Vite æ’ä»¶                           | âœ…              | -    |
| [@unocss/inspector](/tools/inspector)                                | UnoCSS çš„æ£€æŸ¥å™¨ UI                  | âœ…              | -    |
| [@unocss/astro](/integrations/astro)                                 | Astro é›†æˆ                          | âœ…              | -    |
| [@unocss/webpack](/integrations/webpack)                             | Webpack æ’ä»¶                        | å¦              | -    |
| [@unocss/nuxt](/integrations/nuxt)                                   | Nuxt æ¨¡å—                           | å¦              | -    |
| [@unocss/svelte-scoped](/integrations/svelte-scoped)                 | Svelte Scoped Vite æ’ä»¶ + é¢„å¤„ç†å™¨  | å¦              | -    |
| [@unocss/next](/integrations/next)                                   | Next.js æ’ä»¶                        | å¦              | -    |
| [@unocss/runtime](/integrations/runtime)                             | UnoCSS çš„ CSS-in-JS è¿è¡Œæ—¶          | å¦              | -    |
| [@unocss/eslint-plugin](/integrations/eslint)                        | ESLint æ’ä»¶                         | å¦              | -    |
| [@unocss/eslint-config](/integrations/eslint)                        | ESLint é…ç½®                         | å¦              | -    |
| [@unocss/postcss](/integrations/postcss)                             | PostCSS æ’ä»¶                        | å¦              | -    |
| [VS Code æ‰©å±•](/integrations/vscode)                                 | UnoCSS çš„ VS Code æ‰©å±•              | -               | -    |

---

---
url: 'https://unocss.zhcndoc.com/config/variants.md'
description: å˜ä½“å…è®¸æ‚¨å¯¹ç°æœ‰è§„åˆ™åº”ç”¨ä¸€äº›å˜æ›´ã€‚
---

# å˜ä½“

[å˜ä½“](https://windicss.org/utilities/general/variants.html) å…è®¸æ‚¨å¯¹ç°æœ‰è§„åˆ™åº”ç”¨ä¸€äº›å˜æ›´ï¼Œä¾‹å¦‚ Tailwind CSS çš„ `hover:` å˜ä½“ã€‚

## ç¤ºä¾‹

```ts
variants: [
  // hover:
  (matcher) => {
    if (!matcher.startsWith('hover:'))
      return matcher
    return {
      // åˆ‡æ‰ `hover:` å‰ç¼€å¹¶ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå˜ä½“å’Œè§„åˆ™
      matcher: matcher.slice(6),
      selector: s => `${s}:hover`,
    }
  },
],
rules: [
  [/^m-(\d)$/, ([, d]) => ({ margin: `${d / 4}rem` })],
]
```

* `matcher` æ§åˆ¶å˜ä½“ä½•æ—¶å¯ç”¨ã€‚å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒå°†è¢«ç”¨ä½œåŒ¹é…è§„åˆ™çš„é€‰æ‹©å™¨ã€‚
* `selector` æä¾›äº†è‡ªå®šä¹‰ç”Ÿæˆçš„ CSS é€‰æ‹©å™¨çš„å¯èƒ½æ€§ã€‚

## å†…éƒ¨åŸç†

è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹åŒ¹é… `hover:m-2` æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼š

* `hover:m-2` ä»ç”¨æˆ·ä½¿ç”¨ä¸­æå–å‡ºæ¥
* `hover:m-2` å‘é€åˆ°æ‰€æœ‰å˜ä½“è¿›è¡ŒåŒ¹é…
* `hover:m-2` è¢«æˆ‘ä»¬çš„å˜ä½“åŒ¹é…å¹¶è¿”å› `m-2`
* ç»“æœ `m-2` å°†ç”¨äºä¸‹ä¸€è½®å˜ä½“åŒ¹é…
* å¦‚æœæ²¡æœ‰å…¶ä»–å˜ä½“åŒ¹é…ï¼Œ`m-2` å°†ç»§ç»­åŒ¹é…è§„åˆ™
* æˆ‘ä»¬çš„ç¬¬ä¸€æ¡è§„åˆ™åŒ¹é…å¹¶ç”Ÿæˆ `.m-2 { margin: 0.5rem; }`
* æœ€åï¼Œæˆ‘ä»¬å°†å˜ä½“çš„è½¬æ¢åº”ç”¨äºç”Ÿæˆçš„ CSSã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨ `selector` é’©å­å‰æ·»åŠ äº† `:hover`

å› æ­¤ï¼Œå°†ç”Ÿæˆä»¥ä¸‹ CSSï¼š

```css
.hover\:m-2:hover { margin: 0.5rem; }
```

è¿™æ ·ï¼Œåªæœ‰å½“ç”¨æˆ·æ‚¬åœåœ¨å…ƒç´ ä¸Šæ—¶ï¼Œæ‰ä¼šåº”ç”¨ `m-2`ã€‚

## è¿›ä¸€æ­¥æ¢ç´¢

å˜ä½“ç³»ç»Ÿéå¸¸å¼ºå¤§ï¼Œè¿™ä¸€æŒ‡å—æ— æ³•å…¨é¢è¦†ç›–ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹ [é»˜è®¤é¢„è®¾çš„å®ç°](https://github.com/unocss/unocss/tree/main/packages-presets/preset-mini/src/_variants) ä»¥äº†è§£æ›´å¤šé«˜çº§ç”¨æ³•ã€‚

---

---
url: 'https://unocss.zhcndoc.com/transformers/variant-group.md'
description: å¯ç”¨ UnoCSS çš„ Windi CSS çš„å˜ä½“ç»„åŠŸèƒ½ (@unocss/transformer-variant-group)
---

# å˜ä½“ç»„è½¬æ¢å™¨

å¯ç”¨ [Windi CSS çš„å˜ä½“ç»„åŠŸèƒ½](https://windicss.org/features/variant-groups.html) ä¾› UnoCSS ä½¿ç”¨ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/transformer-variant-group
```

```bash [yarn]
yarn add -D @unocss/transformer-variant-group
```

```bash [npm]
npm install -D @unocss/transformer-variant-group
```

```bash [bun]
bun add -D @unocss/transformer-variant-group
```

:::

```ts [uno.config.ts]
import transformerVariantGroup from '@unocss/transformer-variant-group'
import { defineConfig } from 'unocss'

export default defineConfig({
  // ...
  transformers: [
    transformerVariantGroup(),
  ],
})
```

::: tip
æ­¤é¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ä»é‚£é‡Œå¯¼å…¥ï¼š

```ts
import { transformerVariantGroup } from 'unocss'
```

:::

## ä½¿ç”¨

```html
<div class="hover:(bg-gray-400 font-medium) font-(light mono)" />
```

å°†è¢«è½¬æ¢ä¸ºï¼š

```html
<div class="hover:bg-gray-400 hover:font-medium font-light font-mono" />
```

## è®¸å¯è¯

* MIT è®¸å¯è¯ Â© 2021-è‡³ä»Š [Anthony Fu](https://github.com/antfu)

---

---
url: 'https://unocss.zhcndoc.com/presets/icons.md'
description: ä½¿ç”¨çº¯ CSS åœ¨ UnoCSS ä¸­ä½¿ç”¨ä»»ä½•å›¾æ ‡ (@unocss/preset-icons)ã€‚
---

# å›¾æ ‡é¢„è®¾

ä½¿ç”¨çº¯ CSS åœ¨ UnoCSS ä¸­ä½¿ç”¨ä»»ä½•å›¾æ ‡ã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-icons)

::: tip
æ¨èé˜…è¯»ï¼š[çº¯ CSS ä¸­çš„å›¾æ ‡](https://antfu.me/posts/icons-in-pure-css)
:::

éµå¾ªä»¥ä¸‹çº¦å®šä»¥ä½¿ç”¨å›¾æ ‡

* `<prefix><collection>-<icon>`
* `<prefix><collection>:<icon>`

ä¾‹å¦‚ï¼š

```html
<!-- æ¥è‡ª Phosphor å›¾æ ‡çš„åŸºæœ¬é”šç‚¹å›¾æ ‡ -->
<div class="i-ph-anchor-simple-thin" />
<!-- æ¥è‡ª Material Design å›¾æ ‡çš„æ©™è‰²è­¦æŠ¥ -->
<div class="i-mdi-alarm text-orange-400" />
<!-- å¤§å‹ Vue å¾½æ ‡ -->
<div class="i-logos-vue text-3xl" />
<!-- å…‰æ¨¡å¼ä¸‹çš„å¤ªé˜³ï¼Œæš—æ¨¡å¼ä¸‹çš„æœˆäº®ï¼Œæ¥è‡ª Carbon -->
<button class="i-carbon-sun dark:i-carbon-moon" />
<!-- å¾®ç¬‘çš„ Twemojiï¼Œæ‚¬åœæ—¶å˜æˆæµæ³ª -->
<div class="i-twemoji-grinning-face-with-smiling-eyes hover:i-twemoji-face-with-tears-of-joy" />
```

æ£€æŸ¥ [æ‰€æœ‰å¯ç”¨å›¾æ ‡](https://icones.js.org/)ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-icons @iconify-json/[ä½ æƒ³è¦çš„é›†åˆ]
```

```bash [yarn]
yarn add -D @unocss/preset-icons @iconify-json/[ä½ æƒ³è¦çš„é›†åˆ]
```

```bash [npm]
npm install -D @unocss/preset-icons @iconify-json/[ä½ æƒ³è¦çš„é›†åˆ]
```

```bash [bun]
bun add -D @unocss/preset-icons @iconify-json/[ä½ æƒ³è¦çš„é›†åˆ]
```

:::

æˆ‘ä»¬ä½¿ç”¨ [Iconify](https://iconify.design) ä½œä¸ºæˆ‘ä»¬çš„å›¾æ ‡æ•°æ®æºã€‚ä½ éœ€è¦é€šè¿‡éµå¾ª `@iconify-json/*` æ¨¡å¼åœ¨ `devDependencies` ä¸­å®‰è£…ç›¸åº”çš„å›¾æ ‡é›†ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ `@iconify-json/mdi` æ¥è·å– [Material Design Icons](https://materialdesignicons.com/)ï¼Œä½¿ç”¨ `@iconify-json/tabler` æ¥è·å– [Tabler](https://tabler-icons.io/)ã€‚ä½ å¯ä»¥å‚è€ƒ [IcÃ´nes](https://icones.js.org/) æˆ– [Iconify](https://icon-sets.iconify.design/) è·å–æ‰€æœ‰å¯ç”¨çš„é›†åˆã€‚

```ts [uno.config.ts]
import presetIcons from '@unocss/preset-icons'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    presetIcons({ /* é€‰é¡¹ */ }),
    // ...å…¶ä»–é¢„è®¾
  ],
})
```

::: tip
è¿™ä¸ªé¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ä»é‚£é‡Œå¯¼å…¥å®ƒï¼š

```ts
import { presetIcons } from 'unocss'
```

:::

::: info
ä½ ä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨è¿™ä¸ªé¢„è®¾æ¥è¡¥å……ä½ ç°æœ‰çš„ UI æ¡†æ¶ï¼Œä»¥è·å¾—çº¯ CSS å›¾æ ‡ï¼
:::

å¦‚æœä½ å¸Œæœ›ä¸€æ¬¡å®‰è£… Iconify ä¸Šæ‰€æœ‰å¯ç”¨çš„å›¾æ ‡é›†ï¼ˆ~130MBï¼‰ï¼š

::: code-group

```bash [pnpm]
pnpm add -D @iconify/json
```

```bash [yarn]
yarn add -D @iconify/json
```

```bash [npm]
npm install -D @iconify/json
```

```bash [bun]
bun add -D @iconify/json
```

:::

### é¢å¤–å±æ€§

ä½ å¯ä»¥æä¾›é¢å¤–çš„ CSS å±æ€§æ¥æ§åˆ¶å›¾æ ‡çš„é»˜è®¤è¡Œä¸ºã€‚ä»¥ä¸‹æ˜¯å°†å›¾æ ‡é»˜è®¤è®¾ç½®ä¸ºå†…è”çš„ç¤ºä¾‹ï¼š

```ts
presetIcons({
  extraProperties: {
    'display': 'inline-block',
    'vertical-align': 'middle',
    // ...
  },
})
```

## æ¨¡å¼è¦†ç›–

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤é¢„è®¾å°†æ ¹æ®å›¾æ ‡çš„ç‰¹æ€§è‡ªåŠ¨é€‰æ‹©æ¯ä¸ªå›¾æ ‡çš„æ¸²æŸ“æ¨¡å¼ã€‚ä½ å¯ä»¥åœ¨è¿™ç¯‡ [åšå®¢æ–‡ç« ](https://antfu.me/posts/icons-in-pure-css) ä¸­äº†è§£æ›´å¤šã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½å¸Œæœ›æ˜¾å¼è®¾ç½®æ¯ä¸ªå›¾æ ‡çš„æ¸²æŸ“æ¨¡å¼ã€‚

* `?bg` è¡¨ç¤º `background-img` - å°†å›¾æ ‡æ¸²æŸ“ä¸ºèƒŒæ™¯å›¾åƒ
* `?mask` è¡¨ç¤º `mask` - å°†å›¾æ ‡æ¸²æŸ“ä¸ºè’™ç‰ˆå›¾åƒ

ä¾‹å¦‚ï¼Œ`vscode-icons:file-type-light-pnpm` æ˜¯ä¸€ä¸ªå¸¦æœ‰é¢œè‰²çš„å›¾æ ‡ï¼ˆ`svg` ä¸åŒ…å« `currentColor`ï¼‰ï¼Œå°†ä½œä¸ºèƒŒæ™¯å›¾åƒæ¸²æŸ“ã€‚ä½¿ç”¨ `vscode-icons:file-type-light-pnpm?mask` æ¥å°†å…¶æ¸²æŸ“ä¸ºè’™ç‰ˆå›¾åƒå¹¶å¿½ç•¥å…¶é¢œè‰²ã€‚

```html
<div class="w-full flex items-center justify-center gap-x-4 text-4xl p-2 mt-4">
  <div class="i-vscode-icons:file-type-light-pnpm" />
  <div class="i-vscode-icons:file-type-light-pnpm?mask text-red-300" />
</div>
```

## é…ç½®é›†åˆå’Œå›¾æ ‡è§£æå™¨

ä½ å¯ä»¥é€šè¿‡ `@iconify-json/[ä½ æƒ³è¦çš„é›†åˆ]`ã€`@iconify/json` æˆ–ä½¿ç”¨è‡ªå®šä¹‰çš„å›¾æ ‡è§£æå™¨ï¼Œé€šè¿‡åœ¨ `UnoCSS` é…ç½®ä¸­çš„ `collections` é€‰é¡¹æä¾›é›†åˆã€‚

### æµè§ˆå™¨

è¦åŠ è½½ `iconify` é›†åˆï¼Œä½ åº”è¯¥ä½¿ç”¨ `@iconify-json/[ä½ æƒ³è¦çš„é›†åˆ]` è€Œä¸æ˜¯ `@iconify/json` å› ä¸º `json` æ–‡ä»¶éå¸¸å¤§ã€‚

#### æ‰“åŒ…å·¥å…·

ä½¿ç”¨æ‰“åŒ…å·¥å…·æ—¶ï¼Œå¯ä»¥é€šè¿‡ `åŠ¨æ€å¯¼å…¥` æä¾›é›†åˆï¼Œè¿™æ ·å®ƒä»¬å°†ä½œä¸ºå¼‚æ­¥å—è¿›è¡Œæ‰“åŒ…å¹¶æŒ‰éœ€åŠ è½½ã€‚

```ts
import presetIcons from '@unocss/preset-icons/browser'

export default defineConfig({
  presets: [
    presetIcons({
      collections: {
        carbon: () => import('@iconify-json/carbon/icons.json').then(i => i.default),
        mdi: () => import('@iconify-json/mdi/icons.json').then(i => i.default),
        logos: () => import('@iconify-json/logos/icons.json').then(i => i.default),
      }
    })
  ]
})
```

#### CDN

æˆ–è€…ï¼Œå¦‚æœä½ æ›´æ„¿æ„ä» CDN è·å–å®ƒä»¬ï¼Œä½ å¯ä»¥æŒ‡å®š `cdn` é€‰é¡¹ï¼Œè‡ª v0.32.10 ç‰ˆæœ¬å¼€å§‹ã€‚æˆ‘ä»¬æ¨èä½¿ç”¨ [esm.sh](https://esm.sh/) ä½œä¸º CDN ä¾›åº”å•†ã€‚

```ts
presetIcons({
  cdn: 'https://esm.sh/'
})
```

#### è‡ªå®šä¹‰

ä½ è¿˜å¯ä»¥ä½¿ç”¨ [CustomIconLoader](https://github.com/iconify/iconify/blob/master/packages/utils/src/loader/types.ts#L17) æˆ– [InlineCollection](https://github.com/iconify/iconify/blob/master/packages/utils/src/loader/types.ts#L86) æä¾›ä½ è‡ªå·±çš„è‡ªå®šä¹‰é›†åˆï¼Œä¾‹å¦‚ä½¿ç”¨ `InlineCollection`ï¼š

```ts
presetIcons({
  collections: {
    custom: {
      circle: '<svg viewBox="0 0 120 120"><circle cx="60" cy="60" r="50"></circle></svg>',
      /* ... */
    },
    carbon: () => import('@iconify-json/carbon/icons.json').then(i => i.default as any),
    /* ... */
  }
})
```

ç„¶åï¼Œä½ å¯ä»¥åœ¨ä½ çš„ HTML ä¸­ä½¿ç”¨å®ƒï¼š`<span class="i-custom:circle"></span>`

### Node.js

åœ¨ `Node.js` ä¸­ï¼Œè¯¥é¢„è®¾ä¼šè‡ªåŠ¨æœç´¢å·²å®‰è£…çš„ iconify æ•°æ®é›†ï¼Œå› æ­¤ä½ æ— éœ€æ³¨å†Œ `iconify` é›†åˆã€‚

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ [CustomIconLoader](https://github.com/iconify/iconify/blob/master/packages/utils/src/loader/types.ts#L24) æˆ– [InlineCollection](https://github.com/iconify/iconify/blob/master/packages/utils/src/loader/types.ts#L100) æä¾›ä½ è‡ªå·±çš„è‡ªå®šä¹‰é›†åˆã€‚

#### FileSystemIconLoader

æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ [FileSystemIconLoader](https://github.com/iconify/iconify/blob/master/packages/utils/src/loader/node-loaders.ts#L9) ä»æ–‡ä»¶ç³»ç»ŸåŠ è½½è‡ªå®šä¹‰å›¾æ ‡ã€‚ä½ éœ€è¦å°† `@iconify/utils` åŒ…å®‰è£…ä¸ºå¼€å‘ä¾èµ–ã€‚

```ts [unocss.config.ts]
import fs from 'node:fs/promises'
// åŠ è½½å™¨åŠ©æ‰‹
import { FileSystemIconLoader } from '@iconify/utils/lib/loader/node-loaders'
import { defineConfig, presetIcons } from 'unocss'

export default defineConfig({
  presets: [
    presetIcons({
      collections: {
        // key ä½œä¸ºé›†åˆåç§°
        'my-icons': {
          account: '<svg><!-- ... --></svg>',
          // æ‡’åŠ è½½ä½ çš„è‡ªå®šä¹‰å›¾æ ‡
          settings: () => fs.readFile('./path/to/my-icon.svg', 'utf-8'),
          /* ... */
        },
        'my-other-icons': async (iconName) => {
          // ä½ çš„è‡ªå®šä¹‰åŠ è½½å™¨ã€‚éšä½ æ‰€æ„¿ã€‚
          // ä¾‹å¦‚ï¼Œä»è¿œç¨‹æœåŠ¡å™¨è·å–ï¼š
          return await fetch(`https://example.com/icons/${iconName}.svg`).then(res => res.text())
        },
        // ä»æ–‡ä»¶ç³»ç»ŸåŠ è½½å›¾æ ‡çš„åŠ©æ‰‹
        // `./assets/icons` ç›®å½•ä¸‹çš„æ–‡ä»¶å°†ä½œä¸ºå…¶æ–‡ä»¶ååŠ è½½ï¼Œä¸”ä»…é™ `.svg` æ‰©å±•å
        // ä½ ä¹Ÿå¯ä»¥æä¾›ä¸€ä¸ªè½¬æ¢å›è°ƒæ¥æ›´æ”¹æ¯ä¸ªå›¾æ ‡ï¼ˆå¯é€‰ï¼‰
        'my-yet-other-icons': FileSystemIconLoader(
          './assets/icons',
          svg => svg.replace(/#fff/, 'currentColor')
        )
      }
    })
  ]
})
```

#### ExternalPackageIconLoader

ä» `@iconify/utils v2.1.20` å¼€å§‹ï¼Œä½ å¯ä»¥ä½¿ç”¨å…¶ä»–åŒ…é€šè¿‡æ–°çš„ [createExternalPackageIconLoader](https://github.com/iconify/iconify/blob/main/packages/utils/src/loader/external-pkg.ts#L13) åŠ©æ‰‹ä»å…¶ä»–ä½œè€…åŠ è½½å›¾æ ‡ã€‚

::: warning è­¦å‘Š
å¤–éƒ¨åŒ…å¿…é¡»åŒ…å« `icons.json` æ–‡ä»¶ï¼Œå¹¶å°†å›¾æ ‡æ•°æ®ä»¥ `IconifyJSON` æ ¼å¼ä¿å­˜ï¼Œå…·ä½“å¯ä½¿ç”¨ Iconify Tools å¯¼å‡ºã€‚è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ [å¯¼å‡ºå›¾æ ‡é›†ä¸º JSON åŒ…](https://iconify.design/docs/libraries/tools/export/json-package.html)ã€‚
:::

ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ `an-awesome-collection` æˆ– `@my-awesome-collections/some-collection` åŠ è½½ä½ çš„è‡ªå®šä¹‰æˆ–ç¬¬ä¸‰æ–¹å›¾æ ‡ï¼š

```ts [unocss.config.ts]
import { createExternalPackageIconLoader } from '@iconify/utils/lib/loader/external-pkg'
import { defineConfig, presetIcons } from 'unocss'

export default defineConfig({
  presets: [
    presetIcons({
      collections: createExternalPackageIconLoader('an-awesome-collection')
    })
  ]
})
```

ä½ è¿˜å¯ä»¥å°†å…¶ä¸å…¶ä»–è‡ªå®šä¹‰å›¾æ ‡åŠ è½½å™¨ç»“åˆä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š

```ts [unocss.config.ts]
import { createExternalPackageIconLoader } from '@iconify/utils/lib/loader/external-pkg'
import { defineConfig, presetIcons } from 'unocss'
import { FileSystemIconLoader } from 'unplugin-icons/loaders'

export default defineConfig({
  presets: [
    presetIcons({
      collections: {
        ...createExternalPackageIconLoader('other-awesome-collection'),
        ...createExternalPackageIconLoader('@my-awesome-collections/some-collection'),
        ...createExternalPackageIconLoader('@my-awesome-collections/some-other-collection'),
        'my-yet-other-icons': FileSystemIconLoader(
          './assets/icons',
          svg => svg.replace(/^<svg /, '<svg fill="currentColor" ')
        )
      }
    })
  ]
})
```

## å›¾æ ‡è‡ªå®šä¹‰

ä½ å¯ä»¥ä½¿ç”¨ `customizations` é…ç½®é€‰é¡¹è‡ªå®šä¹‰æ‰€æœ‰å›¾æ ‡ã€‚

å¯ç”¨çš„è‡ªå®šä¹‰å‡½æ•°ï¼š

* `transform`: è½¬æ¢åŸå§‹ `svg`ï¼Œä»…åœ¨ä½¿ç”¨ `custom` å›¾æ ‡é›†åˆæ—¶åº”ç”¨ï¼ˆä¸åŒ…æ‹¬ iconify é›†åˆï¼‰ã€‚
* `customize`: æ›´æ”¹é»˜è®¤å›¾æ ‡è‡ªå®šä¹‰å€¼ã€‚
* `iconCustomizer`: æ›´æ”¹é»˜è®¤å›¾æ ‡è‡ªå®šä¹‰å€¼ã€‚

å¯¹æ¯ä¸ªåŠ è½½çš„å›¾æ ‡ï¼Œè‡ªå®šä¹‰å°†æŒ‰æ­¤é¡ºåºåº”ç”¨ï¼š

* å¦‚æœæä¾›äº† `transform`ï¼Œåˆ™å¯¹åŸå§‹ `svg` åº”ç”¨è½¬æ¢ï¼ˆä½¿ç”¨è‡ªå®šä¹‰å›¾æ ‡é›†åˆæ—¶ï¼‰
* å¦‚æœæä¾›äº† `customize`ï¼Œåˆ™ä½¿ç”¨é»˜è®¤è‡ªå®šä¹‰å€¼
* å¦‚æœæä¾›äº† `iconCustomizer`ï¼Œåˆ™ä½¿ç”¨ `customize` è‡ªå®šä¹‰å€¼

### å…¨å±€è‡ªå®šä¹‰å›¾æ ‡è½¬æ¢

åŠ è½½è‡ªå®šä¹‰å›¾æ ‡æ—¶ï¼Œä½ å¯ä»¥å¯¹å…¶è¿›è¡Œè½¬æ¢ï¼Œä¾‹å¦‚æ·»åŠ  `fill` å±æ€§å¹¶è®¾ç½®ä¸º `currentColor`ï¼š

```ts
presetIcons({
  customizations: {
    transform(svg) {
      return svg.replace(/#fff/, 'currentColor')
    }
  }
})
```

ä»ç‰ˆæœ¬ `0.30.8` å¼€å§‹ï¼Œ`transform` æä¾› `collection` å’Œ `icon` åç§°ï¼š

```ts
presetIcons({
  customizations: {
    transform(svg, collection, icon) {
      // ä¸å¯¹è¯¥é›†åˆä¸­çš„æ­¤å›¾æ ‡åº”ç”¨å¡«å……
      if (collection === 'custom' && icon === 'my-icon')
        return svg
      return svg.replace(/#fff/, 'currentColor')
    }
  }
})
```

### å…¨å±€å›¾æ ‡è‡ªå®šä¹‰

åœ¨åŠ è½½ä»»ä½•å›¾æ ‡æ—¶ï¼Œä½ å¯ä»¥ä¸ºæ‰€æœ‰å›¾æ ‡è‡ªå®šä¹‰é€šç”¨å±æ€§ï¼Œä¾‹å¦‚é…ç½®ç›¸åŒçš„å¤§å°ï¼š

```ts
presetIcons({
  customizations: {
    customize(props) {
      props.width = '2em'
      props.height = '2em'
      return props
    }
  }
})
```

### å›¾æ ‡/é›†åˆè‡ªå®šä¹‰

ä½ å¯ä»¥ä½¿ç”¨ `iconCustomizer` é…ç½®é€‰é¡¹è‡ªå®šä¹‰æ¯ä¸ªå›¾æ ‡ã€‚

`iconCustomizer` å°†ä¼˜å…ˆäºé…ç½®ã€‚

`iconCustomizer` å°†åº”ç”¨äºä»»ä½•é›†åˆï¼Œå³ä»è‡ªå®šä¹‰åŠ è½½å™¨ã€åœ¨è‡ªå®šä¹‰é›†åˆä¸­çš„å†…è”å›¾æ ‡æˆ–æ¥è‡ª `@iconify` çš„å›¾æ ‡ã€‚

ä¾‹å¦‚ï¼Œä½ å¯ä»¥é…ç½® `iconCustomizer` æ¥æ›´æ”¹ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å›¾æ ‡æˆ–é›†åˆä¸­çš„ä¸ªåˆ«å›¾æ ‡ï¼š

```ts
presetIcons({
  customizations: {
    iconCustomizer(collection, icon, props) {
      // è‡ªå®šä¹‰æ­¤é›†åˆä¸­çš„æ‰€æœ‰å›¾æ ‡
      if (collection === 'my-other-icons') {
        props.width = '4em'
        props.height = '4em'
      }
      // è‡ªå®šä¹‰æ­¤é›†åˆä¸­çš„æ­¤å›¾æ ‡
      if (collection === 'my-icons' && icon === 'account') {
        props.width = '6em'
        props.height = '6em'
      }
      // è‡ªå®šä¹‰æ­¤é›†åˆä¸­çš„æ­¤ @iconify å›¾æ ‡
      if (collection === 'mdi' && icon === 'account') {
        props.width = '2em'
        props.height = '2em'
      }
    }
  }
})
```

## æŒ‡ä»¤

ä½ å¯ä»¥åœ¨ CSS ä¸­ä½¿ç”¨ `icon()` æŒ‡ä»¤è·å–å›¾æ ‡çš„å…ƒæ•°æ®ã€‚

```css
.icon {
  background-image: icon('i-carbon-sun');
}
```

::: warning
`icon()` ä¾èµ–äº `@unocss/preset-icons`ï¼Œå¹¶å°†ä½¿ç”¨é…ç½®ï¼Œç¡®ä¿ä½ å·²æ·»åŠ è¯¥é¢„è®¾ã€‚
:::

å…³äº `icon()` æŒ‡ä»¤çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [æŒ‡ä»¤](/transformers/directives#icon)ã€‚

## é€‰é¡¹

### scale

* ç±»å‹ï¼š`number`
* é»˜è®¤å€¼ï¼š`1`

ä¸å½“å‰å­—ä½“å¤§å° (1em) ç›¸å…³çš„ç¼©æ”¾å€¼ã€‚

### mode

* ç±»å‹ï¼š`'mask' | 'bg' | 'auto'`
* é»˜è®¤å€¼ï¼š`'auto'`
* å‚è§ï¼šhttps://antfu.me/posts/icons-in-pure-css

ç”Ÿæˆçš„ CSS å›¾æ ‡çš„æ¨¡å¼ã€‚

:::tip

* `mask` - ä½¿ç”¨èƒŒæ™¯é¢œè‰²å’Œ `mask` å±æ€§é€‚ç”¨äºå•è‰²å›¾æ ‡
* `bg` - ä½¿ç”¨èƒŒæ™¯å›¾åƒä½œä¸ºå›¾æ ‡ï¼Œé¢œè‰²æ˜¯é™æ€çš„
* `auto` - æ ¹æ®æ¯ä¸ªå›¾æ ‡çš„æ ·å¼æ™ºèƒ½åœ°å†³å®š `mask` å’Œ `bg` æ¨¡å¼

:::

### prefix

* ç±»å‹ï¼š`string | string[]`
* é»˜è®¤å€¼ï¼š`'i-'`

åŒ¹é…å›¾æ ‡è§„åˆ™çš„ç±»å‰ç¼€ã€‚

### extraProperties

* ç±»å‹ï¼š`Record<string, string>`
* é»˜è®¤å€¼ï¼š`{}`

åº”ç”¨äºç”Ÿæˆ CSS çš„é¢å¤– CSS å±æ€§ã€‚

### warn

* ç±»å‹ï¼š`boolean`
* é»˜è®¤å€¼ï¼š`false`

åœ¨ç¼ºå°‘åŒ¹é…å›¾æ ‡æ—¶å‘å‡ºè­¦å‘Šã€‚

### iconifyCollectionsNames

* ç±»å‹ï¼š`string[]`
* é»˜è®¤å€¼ï¼š`undefined`

è¦ä½¿ç”¨çš„é¢å¤– `@iconify-json` é›†åˆã€‚æ­¤é€‰é¡¹åº”åœ¨æ–° `@iconify-json` é›†åˆæœªåˆ—å…¥é»˜è®¤å›¾æ ‡é¢„è®¾é›†åˆåç§°æ—¶ä½¿ç”¨ã€‚

### collections

* ç±»å‹ï¼š`Record<string, (() => Awaitable<IconifyJSON>) | undefined | CustomIconLoader | InlineCollection>`
* é»˜è®¤å€¼ï¼š`undefined`

åœ¨ Node.js ç¯å¢ƒä¸­ï¼Œé¢„è®¾å°†è‡ªåŠ¨æœç´¢å·²å®‰è£…çš„ iconify æ•°æ®é›†ã€‚åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨æ—¶ï¼Œæ­¤é€‰é¡¹ç”¨äºæä¾›å…·æœ‰è‡ªå®šä¹‰åŠ è½½æœºåˆ¶çš„æ•°æ®é›†ã€‚

### layer

* ç±»å‹ï¼š`string`
* é»˜è®¤å€¼ï¼š`'icons'`

è§„åˆ™å±‚ã€‚

### customizations

* ç±»å‹ï¼š`Omit<IconCustomizations, 'additionalProps' | 'trimCustomSvg'>`
* é»˜è®¤å€¼ï¼š`undefined`

è‡ªå®šä¹‰å›¾æ ‡è‡ªå®šä¹‰ã€‚

### autoInstall

* ç±»å‹ï¼š`boolean`
* é»˜è®¤å€¼ï¼š`false`

å½“æ£€æµ‹åˆ°ä½¿ç”¨æ—¶è‡ªåŠ¨å®‰è£…å›¾æ ‡æºåŒ…ã€‚

:::warning
ä»…åœ¨ `node` ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œæµè§ˆå™¨ä¸­å°†å¿½ç•¥æ­¤é€‰é¡¹ã€‚
:::

### unit

* ç±»å‹ï¼š`string`
* é»˜è®¤å€¼ï¼š`'em'`

è‡ªå®šä¹‰å›¾æ ‡å•ä½ã€‚

### cdn

* ç±»å‹ï¼š`string`
* é»˜è®¤å€¼ï¼š`undefined`

ä» CDN åŠ è½½å›¾æ ‡ã€‚åº”ä»¥ `https://` å¼€å¤´å¹¶ä»¥ `/` ç»“å°¾ã€‚

æ¨èï¼š

* `https://esm.sh/`
* `https://cdn.skypack.dev/`

### customFetch

* ç±»å‹ï¼š`(url: string) => Promise<any>`
* é»˜è®¤å€¼ï¼š`undefined`

é¢„è®¾ä½¿ç”¨ [`ofetch`](https://github.com/unjs/ofetch) ä½œä¸ºé»˜è®¤è·å–å™¨ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è·å–å‡½æ•°æ¥æä¾›å›¾æ ‡æ•°æ®ã€‚

### processor

* ç±»å‹ï¼š`(cssObject: CSSObject, meta: Required<IconMeta>) => void`
* é»˜è®¤å€¼ï¼š`undefined`

```ts
interface IconMeta {
  collection: string
  icon: string
  svg: string
  mode?: IconsOptions['mode']
}
```

åœ¨å­—ç¬¦ä¸²åŒ–ä¹‹å‰å¤„ç† CSS å¯¹è±¡ã€‚å‚è§ [ç¤ºä¾‹](https://github.com/unocss/unocss/blob/7d83789b0dee8c72c401db24263ea429086de95d/test/preset-icons.test.ts#L66-L82)ã€‚

## é«˜çº§è‡ªå®šä¹‰å›¾æ ‡é›†æ¸…ç†

ä½¿ç”¨æ­¤é¢„è®¾ä¸è‡ªå®šä¹‰å›¾æ ‡æ—¶ï¼Œè¯·è€ƒè™‘è¿›è¡Œç±»ä¼¼äº [Iconify](https://iconify.design/) å¯¹ä»»ä½•å›¾æ ‡é›†è¿›è¡Œçš„æ¸…ç†è¿‡ç¨‹ã€‚ä½ æ‰€éœ€çš„æ‰€æœ‰å·¥å…·éƒ½å¯ä»¥åœ¨ [Iconify Tools](https://iconify.design/docs/libraries/tools/) ä¸­æ‰¾åˆ°ã€‚

ä½ å¯ä»¥æŸ¥çœ‹è¿™ä¸ªä»“åº“ï¼Œä½¿ç”¨æ­¤é¢„è®¾åœ¨ `Vue 3` é¡¹ç›®ä¸­çš„ä¾‹å­ï¼š[@iconify/tools/@iconify-demo/unocss](https://github.com/iconify/tools/tree/main/%40iconify-demo/unocss)ã€‚

é˜…è¯» [æ¸…ç†å›¾æ ‡](https://iconify.design/docs/articles/cleaning-up-icons/) æ–‡ç« ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

## å¯è®¿é—®æ€§é—®é¢˜

ä½¿ç”¨å›¾æ ‡æ—¶ï¼Œé‡è¦çš„æ˜¯è€ƒè™‘åˆ°æ‰€æœ‰æ½œåœ¨ç”¨æˆ·ã€‚å…¶ä¸­ä¸€äº›ç”¨æˆ·å¯èƒ½æ­£åœ¨ä½¿ç”¨å±å¹•é˜…è¯»å™¨ï¼Œä»–ä»¬éœ€è¦æ›¿ä»£æ–‡æœ¬ä»¥ç†è§£å›¾æ ‡çš„å«ä¹‰ã€‚ä½ å¯ä»¥ä½¿ç”¨ `aria-label` å±æ€§æä¾›å›¾æ ‡çš„æè¿°ï¼š

```html
<a href="/profile" aria-label="ä¸ªäººèµ„æ–™" class="i-ph:user-duotone"></a>
```

å¦‚æœå›¾æ ‡çº¯ç²¹æ˜¯è£…é¥°æ€§çš„ï¼Œå¹¶ä¸”ä¸éœ€è¦æ›¿ä»£æ–‡æœ¬ï¼Œä½ å¯ä»¥ä½¿ç”¨ `aria-hidden="true"` å°†å…¶éšè—ä»¥é¿å…å±å¹•é˜…è¯»å™¨è¯»å–ï¼š

```html
<a href="/profile">
  <span aria-hidden="true" class="i-ph:user-duotone"></span>
  æˆ‘çš„ä¸ªäººèµ„æ–™
</a>
```

è¿˜æœ‰è®¸å¤šå…¶ä»–æŠ€æœ¯å¯ä»¥ä¸ºå±å¹•é˜…è¯»å™¨æä¾›æç¤ºæ–‡æœ¬ï¼Œä¾‹å¦‚ï¼Œ [Wind3 é¢„è®¾](./wind3) åŒ…å« [sr-only](/interactive/?s=sr-only)ï¼Œéšè—å…ƒç´ ä»¥è§†è§‰ä¸Šä¸å¯è§ä½†å¯¹å±å¹•é˜…è¯»å™¨å¯è®¿é—®ã€‚

ä½ å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€äº›å…³äºå›¾æ ‡å¯è®¿é—®æ€§çš„è‰¯å¥½èµ„æºï¼Œå¹¶ä¸” CSS å›¾æ ‡çš„è¡Œä¸ºç±»ä¼¼äºå›¾æ ‡å­—ä½“ï¼Œå› æ­¤ä½ å¯ä»¥ä½¿ç”¨ä¸å›¾æ ‡å­—ä½“ç›¸åŒçš„æŠ€æœ¯ã€‚

## é¸£è°¢

* æ­¤é¢„è®¾çš„çµæ„Ÿæ¥è‡ªç”± [@husayt](https://github.com/husayt) åˆ›å»ºçš„ [æ­¤é—®é¢˜](https://github.com/antfu/unplugin-icons/issues/88)ã€‚
* åŸºäº [@userquin](https://github.com/userquin) åœ¨ [æ­¤ PR](https://github.com/antfu/unplugin-icons/pull/90) ä¸­çš„å·¥ä½œã€‚

---

---
url: 'https://unocss.zhcndoc.com/presets.md'
---
# å®˜æ–¹åŒ…

## é¢„è®¾

| åŒ…                                                 | æè¿°                                     |
| -------------------------------------------------- | ---------------------------------------- |
| [@unocss/preset-mini](/presets/mini)               | æœ€å°ä½†å¿…è¦çš„è§„åˆ™å’Œå˜ç§                   |
| [@unocss/preset-wind3](/presets/wind3)             | Tailwind CSS / Windi CSS ç´§å‡‘é¢„è®¾        |
| [@unocss/preset-wind4](/presets/wind4)             | Tailwind4 CSS ç´§å‡‘é¢„è®¾                   |
| [@unocss/preset-attributify](/presets/attributify) | å¯ç”¨å…¶ä»–è§„åˆ™çš„å±æ€§æ¨¡å¼                   |
| [@unocss/preset-tagify](/presets/tagify)           | å¯ç”¨å…¶ä»–è§„åˆ™çš„æ ‡ç­¾æ¨¡å¼                   |
| [@unocss/preset-icons](/presets/icons)             | ç”± Iconify æä¾›æ”¯æŒçš„çº¯ CSS å›¾æ ‡è§£å†³æ–¹æ¡ˆ |
| [@unocss/preset-web-fonts](/presets/web-fonts)     | ç½‘é¡µå­—ä½“ (Google Fonts ç­‰) æ”¯æŒ          |
| [@unocss/preset-typography](/presets/typography)   | æ’ç‰ˆé¢„è®¾                                 |
| [@unocss/preset-rem-to-px](/presets/rem-to-px)     | å°† rem è½¬æ¢ä¸º px çš„å·¥å…·                  |

### å·²å¼ƒç”¨

| åŒ…                        | æè¿°                                  | åŸå›                                               |
| ------------------------- | ------------------------------------- | ------------------------------------------------- |
| ~~`@unocss/preset-wind`~~ | ~~Tailwind CSS / Windi CSS ç´§å‡‘é¢„è®¾~~ | æ­¤åŒ…å·²å¼ƒç”¨ï¼Œç°å·²é‡å‘½åä¸º `@unocss/preset-wind3`ã€‚ |
| ~~`@unocss/preset-uno`~~  | ~~é»˜è®¤é¢„è®¾~~                          | æ­¤åŒ…å·²å¼ƒç”¨ï¼Œç°å·²é‡å‘½åä¸º `@unocss/preset-wind3`ã€‚ |

## è½¬æ¢å™¨

| åŒ…                                                                   | æè¿°                              |
| -------------------------------------------------------------------- | --------------------------------- |
| [@unocss/transformer-variant-group](/transformers/variant-group)     | Windi CSS çš„å˜ç§ç»„ç‰¹æ€§è½¬æ¢å™¨      |
| [@unocss/transformer-directives](/transformers/directives)           | ç”¨äº CSS æŒ‡ä»¤å¦‚ `@apply` çš„è½¬æ¢å™¨ |
| [@unocss/transformer-compile-class](/transformers/compile-class)     | å°†ä¸€ç»„ç±»ç¼–è¯‘ä¸ºä¸€ä¸ªç±»              |
| [@unocss/transformer-attributify-jsx](/transformers/attributify-jsx) | æ”¯æŒåœ¨ JSX/TSX ä¸­ä½¿ç”¨æ— å€¼å±æ€§     |

## æå–å™¨

| åŒ…                                                                     | æè¿°                           |
| ---------------------------------------------------------------------- | ------------------------------ |
| [@unocss/extractor-pug](/extractors/pug)                               | Pug çš„æå–å™¨                   |
| [@unocss/extractor-svelte](/extractors/svelte)                         | Svelte çš„æå–å™¨                |
| [@unocss/extractor-arbitrary-variants](/extractors/arbitrary-variants) | æ”¯æŒç”¨äºå·¥å…·çš„ä»»æ„å˜ç§çš„æå–å™¨ |

## ç¤¾åŒº

æˆ‘ä»¬çƒ­å¿±æ¬¢è¿å¤§å®¶åŠ å…¥å¹¶å¸®åŠ©å»ºè®¾ [UnoCSS ç¤¾åŒº](https://github.com/unocss-community)ã€‚ä½ å¯ä»¥åœ¨ [Awesome UnoCSS](https://github.com/unocss-community/awesome-unocss) ä¸­ä½¿ç”¨å’Œåˆ†äº«ä¸ UnoCSS ç›¸å…³çš„èµ„æºã€‚

---

---
url: 'https://unocss.zhcndoc.com/config/layers.md'
description: UnoCSS å…è®¸æ‚¨è‡ªå®šä¹‰å±‚çš„å®šä¹‰ã€‚
---

# å±‚

CSS çš„é¡ºåºä¼šå½±å“å…¶ä¼˜å…ˆçº§ã€‚è™½ç„¶å¼•æ“ä¼š [ä¿ç•™è§„åˆ™çš„é¡ºåº](/config/rules#ordering)ï¼Œæœ‰æ—¶æ‚¨å¯èƒ½å¸Œæœ›å°†ä¸€äº›å·¥å…·ç»„åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿æ˜ç¡®æ§åˆ¶å®ƒä»¬çš„é¡ºåºã€‚

## ç”¨æ³•

ä¸æä¾›ä¸‰ä¸ªå›ºå®šå±‚ï¼ˆ`base`ã€`components`ã€`utilities`ï¼‰çš„ Tailwind CSS ä¸åŒï¼ŒUnoCSS å…è®¸æ‚¨æŒ‰éœ€å®šä¹‰å±‚ã€‚è¦è®¾ç½®å±‚ï¼Œæ‚¨å¯ä»¥å°†å…ƒæ•°æ®ä½œä¸ºè§„åˆ™çš„ç¬¬ä¸‰ä¸ªé¡¹ç›®ä¼ é€’ï¼š

```ts
rules: [
  [/^m-(\d)$/, ([, d]) => ({ margin: `${d / 4}rem` }), { layer: 'utilities' }],
  // å¦‚æœæ‚¨çœç•¥å±‚ï¼Œå®ƒå°†é»˜è®¤ä¸º `default`
  ['btn', { padding: '4px' }],
]
```

è¿™å°†ç”Ÿæˆï¼š

```css
/* layer: default */
.btn { padding: 4px; }
/* layer: utilities */
.m-2 { margin: 0.5rem; }
```

å±‚ä¹Ÿå¯ä»¥åœ¨æ¯ä¸ªé¢„é£è¡Œä¸­è®¾ç½®ï¼š

```ts
preflights: [
  {
    layer: 'my-layer',
    getCSS: async () => (await fetch('my-style.css')).text(),
  },
]
```

## æ’åº

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ§åˆ¶å±‚çš„é¡ºåºï¼š

```ts
layers: {
  'components': -1,
  'default': 1,
  'utilities': 2,
  'my-layer': 3,
}
```

æ²¡æœ‰æŒ‡å®šé¡ºåºçš„å±‚å°†æŒ‰å­—æ¯é¡ºåºæ’åºã€‚

å½“æ‚¨å¸Œæœ›åœ¨å±‚ä¹‹é—´æ·»åŠ è‡ªå®šä¹‰ CSS æ—¶ï¼Œå¯ä»¥æ›´æ–°æ‚¨çš„å…¥å£æ¨¡å—ï¼š

```ts
// 'uno:[layer-name].css'
import 'uno:components.css'

// é™¤äº† 'components' å’Œ 'utilities' ä¹‹å¤–çš„å±‚å°†å›é€€åˆ°è¿™é‡Œ
import 'uno.css'

// æ‚¨è‡ªå·±çš„ CSS
import './my-custom.css'

// "utilities" å±‚å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§
import 'uno:utilities.css'
```

## CSS çº§è”å±‚

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¾“å‡º CSS çº§è”å±‚ï¼š

```ts
outputToCssLayers: true
```

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ›´æ”¹ CSS å±‚çš„åç§°ï¼š

```ts
outputToCssLayers: {
  cssLayerName: (layer) => {
    // é»˜è®¤å±‚å°†è¾“å‡ºåˆ° "utilities" CSS å±‚ã€‚
    if (layer === 'default')
      return 'utilities'

    // å¿«æ·æ–¹å¼å±‚å°†è¾“å‡ºåˆ° "utilities" CSS å±‚çš„ "shortcuts" å­å±‚ã€‚
    if (layer === 'shortcuts')
      return 'utilities.shortcuts'

    // æ‰€æœ‰å…¶ä»–å±‚å°†ä»¥å…¶åç§°ä½œä¸º CSS å±‚åç§°ã€‚
  }
}
```

## è¾“å‡ºæ‰€æœ‰ CSS å±‚

UnoCSS é»˜è®¤è¾“å‡ºæ‰€æœ‰å·²ä½¿ç”¨çš„ CSS å±‚ã€‚å¦‚æœæ‚¨æƒ³å¼ºåˆ¶è¾“å‡ºæ‰€æœ‰å®šä¹‰çš„ CSS å±‚ï¼Œå¯ä»¥è®¾ç½® `allLayers` é€‰é¡¹ï¼š

```ts
outputToCssLayers: {
  allLayers: true,
}
```

å®ƒå°†è¾“å‡ºæ‰€æœ‰å®šä¹‰çš„ CSS å±‚ï¼Œå³ä½¿å®ƒä»¬æœªè¢«ä½¿ç”¨ã€‚

```css
@layer theme, preflights, unused-layer, default;

/* generated CSS */
```

## ä½¿ç”¨å˜ä½“çš„å±‚

å±‚å¯ä»¥é€šè¿‡å˜ä½“åˆ›å»ºã€‚

`uno-layer-<name>:` å¯ç”¨äºåˆ›å»ºä¸€ä¸ª UnoCSS å±‚ã€‚

```html
<p class="uno-layer-my-layer:text-xl">text</p>
```

```css
/* layer: my-layer */
.uno-layer-my-layer\:text-xl{ font-size:1.25rem; line-height:1.75rem; }
```

`layer-<name>:` å¯ä»¥ç”¨äºåˆ›å»º CSS çš„ @layerã€‚

```html
<p class="layer-my-layer:text-xl">text</p>
```

```css
/* layer: default */
@layer my-layer{ .layer-my-layer\:text-xl{ font-size:1.25rem; line-height:1.75rem; } }
```

---

---
url: 'https://unocss.zhcndoc.com/config/shortcuts.md'
description: UnoCSS æä¾›çš„å¿«æ·åŠŸèƒ½ç±»ä¼¼äº Windi CSS çš„åŠŸèƒ½ã€‚
---

# å¿«æ·æ–¹å¼

å¿«æ·æ–¹å¼è®©ä½ å°†å¤šä¸ªè§„åˆ™ç»„åˆæˆä¸€ä¸ªç®€å†™ï¼Œçµæ„Ÿæ¥è‡ªäº [Windi CSS](https://windicss.org/features/shortcuts.html)ã€‚

## ç”¨æ³•

```ts
shortcuts: {
  // å¤šä¸ªå®ç”¨å·¥å…·çš„å¿«æ·æ–¹å¼
  'btn': 'py-2 px-4 font-semibold rounded-lg shadow-md',
  'btn-green': 'text-white bg-green-500 hover:bg-green-700',
  // å•ç‹¬çš„å®ç”¨ç¨‹åºåˆ«å
  'red': 'text-red-100',
}
```

é™¤äº†ç®€å•çš„æ˜ å°„ï¼ŒUnoCSS è¿˜å…è®¸ä½ å®šä¹‰åŠ¨æ€å¿«æ·æ–¹å¼ã€‚

ç±»ä¼¼äº [è§„åˆ™](/config/rules)ï¼ŒåŠ¨æ€å¿«æ·æ–¹å¼æ˜¯ä¸€ä¸ªåŒ¹é…å™¨ `RegExp` å’Œä¸€ä¸ªå¤„ç†å‡½æ•°çš„ç»„åˆã€‚

```ts
shortcuts: [
  // ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨å¯¹è±¡é£æ ¼
  {
    btn: 'py-2 px-4 font-semibold rounded-lg shadow-md',
  },
  // åŠ¨æ€å¿«æ·æ–¹å¼
  [/^btn-(.*)$/, ([, c]) => `bg-${c}-400 text-${c}-100 py-2 px-4 rounded-lg`],
]
```

è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `btn-green` å’Œ `btn-red` ç”Ÿæˆä»¥ä¸‹ CSSï¼š

```css
.btn-green {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
  padding-left: 1rem;
  padding-right: 1rem;
  --un-bg-opacity: 1;
  background-color: rgb(74 222 128 / var(--un-bg-opacity));
  border-radius: 0.5rem;
  --un-text-opacity: 1;
  color: rgb(220 252 231 / var(--un-text-opacity));
}
.btn-red {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
  padding-left: 1rem;
  padding-right: 1rem;
  --un-bg-opacity: 1;
  background-color: rgb(248 113 113 / var(--un-bg-opacity));
  border-radius: 0.5rem;
  --un-text-opacity: 1;
  color: rgb(254 226 226 / var(--un-text-opacity));
}
```

---

---
url: 'https://unocss.zhcndoc.com/transformers/directives.md'
description: >-
  UnoCSS å˜æ¢å™¨ï¼Œç”¨äº `@apply`ã€`@screen` å’Œ `theme()`
  æŒ‡ä»¤ï¼ˆ@unocss/transformer-directivesï¼‰
---

# æŒ‡ä»¤å˜æ¢å™¨

UnoCSS å˜æ¢å™¨ï¼Œç”¨äº `@apply`ã€`@screen` å’Œ `theme()` æŒ‡ä»¤ï¼š`@unocss/transformer-directives`ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/transformer-directives
```

```bash [yarn]
yarn add -D @unocss/transformer-directives
```

```bash [npm]
npm install -D @unocss/transformer-directives
```

```bash [bun]
bun add -D @unocss/transformer-directives
```

:::

```ts [uno.config.ts]
import transformerDirectives from '@unocss/transformer-directives'
import { defineConfig } from 'unocss'

export default defineConfig({
  // ...
  transformers: [
    transformerDirectives(),
  ],
})
```

::: tip
æ­¤é¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä»é‚£é‡Œå¯¼å…¥ï¼š

```ts
import { transformerDirectives } from 'unocss'
```

:::

## ç”¨æ³•

### `@apply`

```css
.custom-div {
  @apply text-center my-0 font-medium;
}
```

å°†è¢«è½¬æ¢ä¸ºï¼š

```css
.custom-div {
  margin-top: 0rem;
  margin-bottom: 0rem;
  text-align: center;
  font-weight: 500;
}
```

#### `--at-apply`

ä¸ºäº†å…¼å®¹åŸç”Ÿ CSSï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ CSS è‡ªå®šä¹‰å±æ€§æ¥æ›¿ä»£ `@apply` æŒ‡ä»¤ï¼š

```css
.custom-div {
  --at-apply: text-center my-0 font-medium;
}
```

æ­¤åŠŸèƒ½é»˜è®¤å¯ç”¨ï¼Œå…·æœ‰ä¸€äº›åˆ«åï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œé…ç½®æˆ–ç¦ç”¨ï¼š

```js
transformerDirectives({
  // é»˜è®¤å€¼
  applyVariable: ['--at-apply', '--uno-apply', '--uno'],
  // æˆ–è€…ç¦ç”¨ï¼š
  // applyVariable: false
})
```

#### æ·»åŠ å¼•å·

è¦ä½¿ç”¨åŒ…å« `:` çš„è§„åˆ™ï¼Œæ‚¨å¿…é¡»å¯¹æ•´ä¸ªå€¼åŠ å¼•å·ï¼š

```css
.custom-div {
  --at-apply: 'hover:text-red hover:font-bold';
  /* æˆ– */
  @apply 'hover:text-red hover:font-bold';
}
```

åœ¨ `@apply` åä½¿ç”¨å¼•å·æ˜¯å¯é€‰çš„ï¼Œä»¥æ»¡è¶³æŸäº›æ ¼å¼åŒ–å™¨çš„è¡Œä¸ºã€‚

### `@screen`

`@screen` æŒ‡ä»¤å…è®¸æ‚¨é€šè¿‡åç§°å¼•ç”¨æ‚¨çš„æ–­ç‚¹æ¥åˆ›å»ºåª’ä½“æŸ¥è¯¢ï¼Œæ¥æºäº [`theme.breakpoints`](/config/theme)ã€‚

```css
.grid {
  --uno: grid grid-cols-2;
}
@screen xs {
  .grid {
    --uno: grid-cols-1;
  }
}
@screen sm {
  .grid {
    --uno: grid-cols-3;
  }
}
/* ... */
...;
```

å°†è¢«è½¬æ¢ä¸ºï¼š

```css
.grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (min-width: 320px) {
  .grid {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
}
@media (min-width: 640px) {
  .grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
/* ... */
```

#### æ–­ç‚¹å˜ä½“æ”¯æŒ

`@screen` è¿˜æ”¯æŒ `lt`ã€`at` å˜ä½“ï¼š

#### `@screen lt-`

```css
.grid {
  --uno: grid grid-cols-2;
}
@screen lt-xs {
  .grid {
    --uno: grid-cols-1;
  }
}
@screen lt-sm {
  .grid {
    --uno: grid-cols-3;
  }
}
/* ... */
```

å°†è¢«è½¬æ¢ä¸ºï¼š

```css
.grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (max-width: 319.9px) {
  .grid {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
}
@media (max-width: 639.9px) {
  .grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
/* ... */
```

#### `@screen at-`

```css
.grid {
  --uno: grid grid-cols-2;
}
@screen at-xs {
  .grid {
    --uno: grid-cols-1;
  }
}
@screen at-xl {
  .grid {
    --uno: grid-cols-3;
  }
}
@screen at-xxl {
  .grid {
    --uno: grid-cols-4;
  }
}
/* ... */
```

å°†è¢«è½¬æ¢ä¸ºï¼š

```css
.grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (min-width: 320px) and (max-width: 639.9px) {
  .grid {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
}
@media (min-width: 1280px) and (max-width: 1535.9px) {
  .grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}
@media (min-width: 1536px) {
  .grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}
/* ... */
```

### `theme()`

ä½¿ç”¨ `theme()` å‡½æ•°é€šè¿‡ç‚¹ç¬¦å·è®¿é—®æ‚¨çš„ä¸»é¢˜é…ç½®å€¼ã€‚

```css
.btn-blue {
  background-color: theme('colors.blue.500');
}
```

å°†è¢«ç¼–è¯‘ä¸ºï¼š

```css
.btn-blue {
  background-color: #3b82f6;
}
```

### `icon()`

ä½¿ç”¨ `icon()` å‡½æ•°å°†å›¾æ ‡å·¥å…·è½¬æ¢ä¸ºç‰¹å®šçš„ svg å›¾æ ‡ã€‚

::: warning
`icon()` ä¾èµ–äº `@unocss/preset-icons` å¹¶å°†ä½¿ç”¨è¯¥é…ç½®ï¼Œè¯·ç¡®ä¿æ‚¨å·²æ·»åŠ æ­¤é¢„è®¾ã€‚
:::

```css
.icon {
  background-image: icon('i-carbon-sun');
}
```

å°†è¢«ç¼–è¯‘ä¸ºï¼š

```css
.icon {
  background-image: url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' width='1em' height='1em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='currentColor' d='M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6M5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z'/%3E%3C/svg%3E");
}
```

ç”±äºå›¾æ ‡é»˜è®¤ä½¿ç”¨ `currentColor` ä½œä¸ºå¡«å……é¢œè‰²ï¼Œå¦‚æœæ‚¨æƒ³è‡ªå®šä¹‰å›¾æ ‡çš„é¢œè‰²ï¼Œå¯ä»¥ä½¿ç”¨ `icon('å›¾æ ‡åç§°', 'è‡ªå®šä¹‰é¢œè‰²')`ã€‚

```css
.icon {
  background-image: icon('i-carbon-moon', '#fff');
  background-image: icon('i-carbon-moon', 'theme("colors.red.500")'); /* ä½¿ç”¨ä¸»é¢˜é¢œè‰² */
}
```

å°†è¢«ç¼–è¯‘ä¸ºï¼š

```css
.icon {
  background-image: url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' width='1em' height='1em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='%23fff' d='M13.503 5.414a15.076 15.076 0 0 0 11.593 18.194a11.1 11.1 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1 1 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.07 13.07 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3'/%3E%3C/svg%3E");
  background-image: url("data:image/svg+xml;utf8,%3Csvg viewBox='0 0 32 32' width='1em' height='1em' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fill='%23ef4444' d='M13.503 5.414a15.076 15.076 0 0 0 11.593 18.194a11.1 11.1 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1 1 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.07 13.07 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3'/%3E%3C/svg%3E");
}
```

## è®¸å¯è¯

* MIT è®¸å¯è¯ Â© 2022-PRESENT [hannoeru](https://github.com/hannoeru)

---

---
url: 'https://unocss.zhcndoc.com/guide.md'
description: ä½¿ç”¨ UnoCSS å…¥é—¨
---

# ä»€ä¹ˆæ˜¯ UnoCSSï¼Ÿ

UnoCSS æ˜¯ä¸€ä¸ªå³æ—¶åŸå­ CSS å¼•æ“ï¼Œæ—¨åœ¨çµæ´»å’Œå¯æ‰©å±•ã€‚æ ¸å¿ƒéƒ¨åˆ†æ˜¯æ— åè§çš„ï¼Œæ‰€æœ‰çš„ CSS å·¥å…·é€šè¿‡é¢„è®¾æä¾›ã€‚

ä¾‹å¦‚ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨æœ¬åœ°çš„ [é…ç½®æ–‡ä»¶](/guide/config-file) ä¸­æä¾›è§„åˆ™æ¥å®šä¹‰è‡ªå®šä¹‰çš„ CSS å·¥å…·ã€‚

```ts [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  rules: [
    ['m-1', { margin: '1px' }],
  ],
})
```

è¿™å°†å‘ä½ çš„é¡¹ç›®æ·»åŠ ä¸€ä¸ªæ–°çš„ CSS å·¥å…· `m-1`ã€‚ç”±äº UnoCSS æ˜¯æŒ‰éœ€ç”Ÿæˆçš„ï¼Œç›´åˆ°ä½ åœ¨ä»£ç åº“ä¸­ä½¿ç”¨å®ƒä¹‹å‰ï¼Œå®ƒä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè¿™æ ·çš„ç»„ä»¶ï¼š

```html
<div class="m-1">Hello</div>
```

`m-1` å°†è¢«æ£€æµ‹åˆ°ï¼Œä»¥ä¸‹ CSS å°†è¢«ç”Ÿæˆï¼š

```css
.m-1 { margin: 1px; }
```

ä¸ºäº†ä½¿å…¶æ›´çµæ´»ï¼Œä½ å¯ä»¥é€šè¿‡å°†è§„åˆ™ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºåŒ¹é…å™¨ï¼‰æ›´æ”¹ä¸º `RegExp`ï¼Œå¹¶å°†ä¸»ä½“æ›´æ”¹ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œä»è€Œä½¿ä½ çš„è§„åˆ™åŠ¨æ€åŒ–ï¼Œä¾‹å¦‚ï¼š

```diff [uno.config.ts]
export default defineConfig({
  rules: [
-    ['m-1', { margin: '1px' }],
+    [/^m-([\.\d]+)$/, ([_, num]) => ({ margin: `${num}px` })],
  ],
})
```

è¿™æ ·åšåï¼Œä½ ç°åœ¨å¯ä»¥æ‹¥æœ‰ä»»æ„çš„è¾¹è·å·¥å…·ï¼Œä¾‹å¦‚ `m-1`ã€`m-100` æˆ– `m-52.43`ã€‚åŒæ ·åœ°ï¼ŒUnoCSS ä»…åœ¨ä½ ä½¿ç”¨å®ƒä»¬æ—¶ç”Ÿæˆå®ƒä»¬ã€‚

```html
<div class="m-1">Hello</div>
<div class="m-7.5">World</div>
```

```css
.m-1 { margin: 1px; }
.m-7.5 { margin: 7.5px; }
```

## é¢„è®¾

ä¸€æ—¦ä½ åˆ›å»ºäº†ä¸€äº›è§„åˆ™ï¼Œä½ å¯ä»¥å°†å®ƒä»¬æå–åˆ°ä¸€ä¸ªé¢„è®¾ä¸­ï¼Œå¹¶ä¸å…¶ä»–äººåˆ†äº«ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¸ºå…¬å¸çš„è®¾è®¡ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªé¢„è®¾ï¼Œå¹¶ä¸å›¢é˜Ÿåˆ†äº«ã€‚

```ts [my-preset.ts]
import { Preset } from 'unocss'

export const myPreset: Preset = {
  name: 'my-preset',
  rules: [
    [/^m-([.\d]+)$/, ([_, num]) => ({ margin: `${num}px` })],
    [/^p-([.\d]+)$/, ([_, num]) => ({ padding: `${num}px` })],
  ],
  variants: [/* ... */],
  shortcuts: [/* ... */],
  // ...
}
```

```ts [uno.config.ts]
import { defineConfig } from 'unocss'
import { myPreset } from './my-preset'

export default defineConfig({
  presets: [
    myPreset, // ä½ è‡ªå·±çš„é¢„è®¾
  ],
})
```

å› æ­¤ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€äº› [å®˜æ–¹é¢„è®¾](/presets/) ä¾›ä½ ç«‹å³å¼€å§‹ä½¿ç”¨ï¼Œä½ ä¹Ÿå¯ä»¥æ‰¾åˆ°è®¸å¤šæœ‰è¶£çš„ [ç¤¾åŒºé¢„è®¾](/presets/community)ã€‚

## æ¼”ç¤º

ä½ å¯ä»¥åœ¨ æ¸¸ä¹åœº ä¸­å°è¯• UnoCSSã€‚æˆ–è€…åœ¨ äº’åŠ¨æ–‡æ¡£ ä¸­æŸ¥æ‰¾é»˜è®¤é¢„è®¾ä¸­çš„å·¥å…·ã€‚

## é›†æˆ

UnoCSS æä¾›äº†ä¸å„ç§æ¡†æ¶/å·¥å…·çš„é›†æˆï¼š

## ç¤ºä¾‹

æ‰€æœ‰ç¤ºä¾‹çš„æºä»£ç å¯ä»¥åœ¨ [/examples](https://github.com/unocss/unocss/tree/main/examples) ç›®å½•ä¸­æ‰¾åˆ°ã€‚

---

---
url: 'https://unocss.zhcndoc.com/presets/typography.md'
description: UnoCSS çš„æ’ç‰ˆç±» (@unocss/preset-typography)ã€‚
---

# æ’ç‰ˆé¢„è®¾

æä¾›ä¸€ç»„æ•£æ–‡ç±»ï¼Œå¯ä»¥ç”¨æ¥ä¸ºæ™®é€š HTML æ·»åŠ æ’ç‰ˆé»˜è®¤å€¼ã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-typography)

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-typography
```

```bash [yarn]
yarn add -D @unocss/preset-typography
```

```bash [npm]
npm install -D @unocss/preset-typography
```

```bash [bun]
bun add -D @unocss/preset-typography
```

:::

::: tip
è¿™ä¸ªé¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ä»é‚£é‡Œå¯¼å…¥ï¼š

```ts
import presetTypography from '@unocss/preset-typography'
// æˆ–è€…
import { presetTypography } from 'unocss'
```

:::

## ä½¿ç”¨æ–¹æ³•

```ts [uno.config.ts]
import {
  defineConfig,
  presetAttributify,
  presetTypography,
  presetWind3 // æˆ– presetWind4
} from 'unocss'

export default defineConfig({
  presets: [
    presetWind3(), // å¿…éœ€ï¼
    presetAttributify(), // ä½¿ç”¨å±æ€§æ¨¡å¼æ—¶å¿…éœ€
    presetTypography(),
  ],
})
```

::: code-group

```html [Classes]
<article class="text-base prose dark:prose-invert xl:text-xl">
  {{ markdown }}
  <p class="not-prose">ä¸€äº›æ–‡æœ¬</p>
</article>
```

```html [Attributes]
<article text-base prose="~ dark:invert" xl="text-xl">
  {{ markdown }}
  <p class="not-prose">ä¸€äº›æ–‡æœ¬</p>
</article>
```

:::

::: warning
æ³¨æ„ï¼š`not-prose` åªèƒ½ç”¨ä½œç±»ï¼Œä¸èƒ½ç”¨ä½œå±æ€§ã€‚
:::

## ç‰¹ç‚¹

### ä»»æ„å°ºå¯¸

ä½¿ç”¨å†…ç½®çš„å°ºå¯¸å˜ä½“åº”ç”¨ä¸åŒçš„æ’ç‰ˆå¤§å°ï¼š`prose-sm`ã€`prose-base`ã€`prose-lg`ã€`prose-xl` å’Œ `prose-2xl`ã€‚é»˜è®¤çš„ `prose` ç±»ä½¿ç”¨åŸºç¡€å¤§å°ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ç‰¹å®šçš„å°ºå¯¸å·¥å…·ç±»è¦†ç›–å®ƒã€‚

```html
<!-- ä¸åŒå°ºå¯¸ -->
<article class="prose prose-sm">å°å·æ’ç‰ˆ</article>
<article class="prose prose-base">åŸºç¡€æ’ç‰ˆï¼ˆé»˜è®¤ï¼‰</article>
<article class="prose prose-lg">å¤§å·æ’ç‰ˆ</article>
<article class="prose prose-xl">è¶…å¤§å·æ’ç‰ˆ</article>
<article class="prose prose-2xl">ä¸¤å€å¤§æ’ç‰ˆ</article>
```

ä½ è¿˜å¯ä»¥å°†å°ºå¯¸å·¥å…·ç±»ä¸å“åº”å¼å˜ä½“ç»“åˆä½¿ç”¨ï¼š

```html
<!-- å“åº”å¼æ’ç‰ˆå°ºå¯¸ -->
<article class="prose prose-sm md:prose-base lg:prose-lg xl:prose-xl">
  æ ¹æ®å±å¹•å°ºå¯¸ç¼©æ”¾çš„å“åº”å¼æ’ç‰ˆ
</article>

<!-- ä¸å…¶ä»–å·¥å…·ç±»ç»“åˆä½¿ç”¨ -->
<article class="prose prose-lg prose-gray dark:prose-invert">å¸¦é¢œè‰²å’Œæš—è‰²æ¨¡å¼çš„å¤§å·æ’ç‰ˆ</article>
```

### ä»»æ„é¢œè‰²

é€šè¿‡ `presetWind3/4` æä¾›çš„ `prose-${colorName}` å·¥å…·ç±»åº”ç”¨ä»»æ„é¢œè‰²ã€‚å®ƒä»¬çš„é¢œè‰²æ¥è‡ªä¸»é¢˜çš„ `colors` é”®ï¼Œæ¨èè¿™äº›é¢œè‰²å…·æœ‰ä» `50` åˆ° `950` çš„è‰²é˜¶ä»¥ä¾¿äºæ¸å˜æ•ˆæœã€‚å› æ­¤ï¼Œ`presetWind3/4` æ˜¯ **å¿…éœ€** çš„ã€‚

è€Œ `prose` çš„é»˜è®¤é¢œè‰²æ˜¯ `prose-gray`ã€‚æ’ç‰ˆé¢œè‰²å·¥å…·ç±»ä¼šåº”ç”¨åˆ°å„ç§æ’ç‰ˆå…ƒç´ ï¼Œå¦‚æ ‡é¢˜ã€é“¾æ¥ã€å¼•ç”¨å—å’Œä»£ç å—ã€‚

```html
<!-- ä¸åŒçš„é¢œè‰²ä¸»é¢˜ -->
<article class="prose prose-gray">ç°è‰²ä¸»é¢˜æ’ç‰ˆ</article>
<article class="prose prose-blue">è“è‰²ä¸»é¢˜æ’ç‰ˆ</article>
<article class="prose prose-green">ç»¿è‰²ä¸»é¢˜æ’ç‰ˆ</article>
<article class="prose prose-purple">ç´«è‰²ä¸»é¢˜æ’ç‰ˆ</article>
```

| è‡ªç„¶è‰²ç³»                                                                       | å¼ºè°ƒè‰²ç³»                                                       |
| ------------------------------------------------------------------------------ | -------------------------------------------------------------- |
| è¿™äº›æœ‰ä¸åŒçš„é¢œè‰²è°ƒåº¦èŒƒå›´ï¼Œå½±å“å…¨å±€æ’ç‰ˆé¢œè‰²åº”ç”¨ã€‚                              | è¿™äº›åªæ”¹å˜é“¾æ¥é¢œè‰²ï¼Œä¸å½±å“å…¶ä»–é¢œè‰²ã€‚                           |
| `prose-slate`                                                                  | `prose-rose`                                                   |
| `prose-slate`                                                                  | `prose-red`                                                    |
| `prose-gray`                                                                   | `prose-orange`                                                 |
| `prose-zinc`                                                                   | `prose-amber`                                                  |
| `prose-neutral`                                                                | `prose-yellow`                                                 |
| `prose-stone`                                                                  | `prose-lime`                                                   |
|                                                                                | `prose-green`                                                  |
|                                                                                | `prose-emerald`                                                |
|                                                                                | `prose-teal`                                                   |
|                                                                                | `prose-cyan`                                                   |
|                                                                                | `prose-sky`                                                    |
|                                                                                | `prose-blue`                                                   |
|                                                                                | `prose-indigo`                                                 |
|                                                                                | `prose-violet`                                                 |
|                                                                                | `prose-purple`                                                 |
|                                                                                | `prose-fuchsia`                                                |
|                                                                                | `prose-pink`                                                   |
|                                                                                | `prose-rose`                                                   |

æ‚¨å¯ä»¥å°†é¢œè‰²ä¸å°ºå¯¸å’Œå“åº”å¼å˜ä½“ç»„åˆä½¿ç”¨ï¼š

```html
<!-- å“åº”å¼é¢œè‰²å˜åŒ– -->
<article class="prose prose-gray md:prose-blue lg:prose-green">
  åœ¨ä¸åŒæ–­ç‚¹ä¸‹é¢œè‰²å˜åŒ–çš„æ’ç‰ˆ
</article>

<!-- é¢œè‰²ã€å°ºå¯¸å’Œæš—è‰²æ¨¡å¼ç»“åˆ -->
<article class="prose prose-lg prose-slate dark:prose-invert">
  å¸¦çŸ³æ¿è‰²å’Œæš—è‰²æ¨¡å¼æ”¯æŒçš„å¤§å·æ’ç‰ˆ
</article>
```

### é€šè¿‡å•ä¸ªå·¥å…·ç±»æ”¯æŒæš—è‰²æ¨¡å¼

é€šè¿‡ `prose-invert` åº”ç”¨æ’ç‰ˆæš—è‰²æ¨¡å¼ï¼ˆèƒŒæ™¯è‰²éœ€è¦ç”¨æˆ·è‡ªè¡Œå¤„ç†ï¼‰ã€‚ä¾‹å¦‚ï¼Œ`prose dark:prose-invert` ä¼šåœ¨æš—è‰²æ¨¡å¼ä¸‹ä½¿ç”¨åè‰²ã€‚

### ä½ è‡ªå·±çš„é£æ ¼

ä¸æ˜¯ `prose` å†…çš„å…ƒç´ æ ·å¼ä¿æŒåŸæ ·ï¼Œæ²¡æœ‰æ ·å¼é‡ç½®ï¼Œç±»ä¼¼äº UnoCSSã€‚

### ä½¿ç”¨ `not` å·¥å…·æ’¤é”€

å¯¹å…ƒç´ åº”ç”¨ `not-prose` å¯æ’¤é”€æ’ç‰ˆæ ·å¼ã€‚ä¾‹å¦‚ï¼Œ`<table class="not-prose">` å°†è·³è¿‡æœ¬é¢„è®¾ä¸º `table` å…ƒç´ åº”ç”¨çš„æ ·å¼ **ï¼ˆæ³¨æ„ï¼š`not` å·¥å…·ä»…èƒ½ä½œä¸ºç±»ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä»…ç”¨äº CSS é€‰æ‹©å™¨ä¸”ä¸è¢« UnoCSS æ‰«æï¼‰**ã€‚

### å…¼å®¹æ€§é€‰é¡¹

è¯¥é¢„è®¾ä½¿ç”¨äº†ä¸€äº›ä¸è¢«å¹¿æ³›æ”¯æŒçš„ä¼ªç±»ï¼Œä½†ä½ å¯ä»¥ç¦ç”¨å®ƒä»¬ã€‚ï¼ˆ[#2064](https://github.com/unocss/unocss/pull/2064)ï¼‰

* å¯ç”¨ `noColonNot` æˆ– `noColonWhere` æ—¶ï¼Œ`not-prose` å°†ä¸å¯ç”¨ã€‚
* å¯ç”¨ `noColonIs` æ—¶ï¼Œå±æ€§æ¨¡å¼ä¼šæœ‰é”™è¯¯è¡¨ç°ã€‚

## é€‰é¡¹

æ­¤é¢„è®¾æä¾›å…¨é¢çš„é…ç½®é€‰é¡¹ä»¥è‡ªå®šä¹‰æ’ç‰ˆæ ·å¼ã€é¢œè‰²ã€å°ºå¯¸å’Œè¡Œä¸ºã€‚

:::tip
ä¼ é€’ç»™ `cssExtend` çš„ CSS å£°æ˜å°†ï¼š

* **è¦†ç›–** å†²çªçš„å†…ç½®æ ·å¼ï¼Œå¦åˆ™
* **ä¸** å†…ç½®æ ·å¼æ·±åº¦**åˆå¹¶**ã€‚
  :::

### selectorName

* **ç±»å‹ï¼š** `string`
* **é»˜è®¤å€¼ï¼š** `prose`

ç”¨äºåº”ç”¨æ’ç‰ˆå·¥å…·çš„ç±»åã€‚è‹¥è¦æ’¤é”€å…ƒç´ æ ·å¼ï¼Œè¯·ä½¿ç”¨ `not-${selectorName}`ï¼Œé»˜è®¤å³ä¸º `not-prose`ã€‚

:::tip
`not` å·¥å…·ä»…åœ¨ç±»ä¸­å¯ç”¨ã€‚
:::

### cssExtend

* **ç±»å‹:** `Record<string, CSSObject> | ((theme: T) => Record<string, CSSObject>)`
* **é»˜è®¤:** `undefined`

æ‰©å±•æˆ–è¦†ç›– CSS é€‰æ‹©å™¨çš„æ ·å¼å—ã€‚å¯ä»¥æ˜¯é™æ€å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¥æ”¶ä¸»é¢˜å‚æ•°è¿”å› CSS é€‰æ‹©å™¨çš„å‡½æ•°ã€‚

### important

* **ç±»å‹:** `boolean | string`
* **é»˜è®¤:** `false`

æ§åˆ¶æ˜¯å¦ä¸ºæ’ç‰ˆå·¥å…·ç±»åŠ å…¥ `!important`ã€‚å½“è®¾ç½®ä¸º `true` æ—¶ï¼Œæ‰€æœ‰æ’ç‰ˆæ ·å¼éƒ½ä¼šæ·»åŠ  `!important`ã€‚å½“è®¾ç½®ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œä½œä¸º CSS é€‰æ‹©å™¨ä½œç”¨åŸŸã€‚

### colorScheme

* **ç±»å‹:** `TypographyColorScheme`
* **é»˜è®¤:** å¦‚ä¸‹æ‰€ç¤º

æ’ç‰ˆå…ƒç´ çš„é¢œè‰²æ–¹æ¡ˆã€‚æ¯ä¸ªé”®è¡¨ç¤ºä¸€ä¸ªæ’ç‰ˆå…ƒç´ ï¼Œå€¼çš„æ ¼å¼ä¸º `[å…‰æ¨¡å¼é¢œè‰², æš—æ¨¡å¼é¢œè‰²]`ï¼Œå³ `[color, invert-color]`ã€‚

**é»˜è®¤é¢œè‰²æ–¹æ¡ˆï¼š**

```json
{
  "body": [700, 300],
  "headings": [900, "white"],
  "lead": [600, 400],
  "links": [900, "white"],
  "bold": [900, "white"],
  "counters": [500, 400],
  "bullets": [300, 600],
  "hr": [200, 700],
  "quotes": [900, 100],
  "quote-borders": [200, 700],
  "captions": [500, 400],
  "kbd": [900, "white"],
  "kbd-shadows": [900, "white"],
  "code": [900, "white"],
  "pre-code": [200, 300],
  "pre-bg": [800, "rgb(0 0 0 / 50%)"],
  "th-borders": [300, 600],
  "td-borders": [200, 700]
}
```

### sizeScheme

* **ç±»å‹:** `TypographySizeScheme`
* **é»˜è®¤:** `undefined`

æ’ç‰ˆå…ƒç´ çš„å°ºå¯¸æ–¹æ¡ˆã€‚å…è®¸è‡ªå®šä¹‰ä¸åŒå°ºå¯¸ä¸‹å„ç§æ’ç‰ˆå…ƒç´ çš„ CSS æ ·å¼ã€‚ç±»ä¼¼äº `cssExtend`ï¼Œä½†å¯é’ˆå¯¹ä¸åŒæ–‡å­—å¤§å°ç²¾ç»†è¦†ç›–ã€‚

**ç¤ºä¾‹ï¼š**

```json
{
  "sm": {
    "h1": { "font-size": "1.5rem" },
    "p": { "font-size": "0.875rem" }
  },
  "base": {
    "h1": { "font-size": "2rem" },
    "p": { "font-size": "1rem" }
  },
  "lg": {
    "h1": { "font-size": "2.5rem" },
    "p": { "font-size": "1.125rem" }
  }
}
```

### cssVarPrefix

* **ç±»å‹:** `string`
* **é»˜è®¤:** `--un-prose`

ç”Ÿæˆçš„ CSS è‡ªå®šä¹‰å±æ€§ï¼ˆCSS å˜é‡ï¼‰çš„å‰ç¼€ã€‚å…è®¸è‡ªå®šä¹‰é¢„è®¾å†…éƒ¨ä½¿ç”¨çš„ CSS å˜é‡å‘½åã€‚

### å…¼å®¹æ€§

* **ç±»å‹:** `TypographyCompatibilityOptions`
* **é»˜è®¤:** `undefined`

è¯·å‚è§ [å…¼å®¹é€‰é¡¹](#å…¼å®¹æ€§é€‰é¡¹)ã€‚

:::warning
è¯·æ³¨æ„ï¼Œè¿™ä¼šå½±å“æŸäº›åŠŸèƒ½ã€‚
:::

```ts
interface TypographyCompatibilityOptions {
  noColonWhere?: boolean
  noColonIs?: boolean
  noColonNot?: boolean
}
```

## ç¤ºä¾‹

```ts [uno.config.ts]
import { presetTypography } from '@unocss/preset-typography'
import { defineConfig, presetAttributify, presetWind3 } from 'unocss'

export default defineConfig({
  presets: [
    presetAttributify(), // ä½¿ç”¨å±æ€§æ¨¡å¼æ—¶å¿…éœ€
    presetWind3(), // å¿…éœ€
    presetTypography({
      selectorName: 'markdown', // ç°åœ¨ç±»åä¸º `markdown markdown-gray`ï¼Œæ’¤é”€ç”¨ `not-markdown`
      // cssExtend æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé”®ä¸º CSS é€‰æ‹©å™¨ï¼Œ
      // å€¼ä¸º CSS å£°æ˜å—ï¼Œç±»ä¼¼äºå†™æ™®é€š CSSã€‚
      cssExtend: {
        'code': {
          color: '#8b5cf6',
        },
        'a:hover': {
          color: '#f43f5e',
        },
        'a:visited': {
          color: '#14b8a6',
        },
      },
    }),
  ],
})
```

## è‡´è°¢

* [Tailwind CSS æ’ç‰ˆ](https://github.com/tailwindlabs/tailwindcss-typography)
* [Windi CSS æ’ç‰ˆ](https://github.com/windicss/windicss/tree/main/src/plugin/typography)

---

---
url: 'https://unocss.zhcndoc.com/guide/extracting.md'
---

# æå–

UnoCSS é€šè¿‡åœ¨ä½ çš„ä»£ç åº“ä¸­æœç´¢å·¥å…·çš„ä½¿ç”¨ï¼ŒæŒ‰éœ€ç”Ÿæˆç›¸åº”çš„ CSSã€‚æˆ‘ä»¬ç§°è¿™ä¸€è¿‡ç¨‹ä¸º **æå–**ã€‚

## å†…å®¹æ¥æº

UnoCSS æ”¯æŒä»å¤šä¸ªæ¥æºæå–å·¥å…·çš„ä½¿ç”¨ï¼š

* [æ„å»ºå·¥å…·ç®¡é“](#ä»æ„å»ºå·¥å…·ç®¡é“æå–) - ç›´æ¥ä»æ„å»ºå·¥å…·ç®¡é“ä¸­æå–
* [æ–‡ä»¶ç³»ç»Ÿ](#ä»æ–‡ä»¶ç³»ç»Ÿæå–) - é€šè¿‡è¯»å–å’Œç›‘è§†æ–‡ä»¶ä»æ–‡ä»¶ç³»ç»Ÿä¸­æå–
* [å†…è”](#ä»å†…è”æ–‡æœ¬æå–) - ä»å†…è”çº¯æ–‡æœ¬ä¸­æå–

æ¥è‡ªä¸åŒæ¥æºçš„å·¥å…·ä½¿ç”¨å°†åˆå¹¶åœ¨ä¸€èµ·ï¼Œç”Ÿæˆæœ€ç»ˆçš„ CSSã€‚

### ä»æ„å»ºå·¥å…·ç®¡é“æå–

è¿™åœ¨ [Vite](/integrations/vite) å’Œ [Webpack](/integrations/webpack) é›†æˆä¸­å—æ”¯æŒã€‚

UnoCSS å°†è¯»å–ç»è¿‡æ„å»ºå·¥å…·ç®¡é“çš„å†…å®¹ï¼Œå¹¶ä»ä¸­æå–å·¥å…·çš„ä½¿ç”¨ã€‚è¿™æ˜¯æå–çš„æœ€æœ‰æ•ˆå’Œå‡†ç¡®çš„æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬ä»…æ™ºèƒ½åœ°æå–åœ¨ä½ çš„åº”ç”¨ä¸­å®é™…ä½¿ç”¨çš„å·¥å…·ï¼Œä¸”æå–è¿‡ç¨‹ä¸­ä¸è¿›è¡Œé¢å¤–çš„æ–‡ä»¶ I/O æ“ä½œã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒUnoCSS ä¼šä»æ„å»ºæµç¨‹ä¸­çš„ `.jsx`ã€`.tsx`ã€`.vue`ã€`.md`ã€`.html`ã€`.svelte`ã€`.astro`ã€`.marko` ç­‰æ‰©å±•åçš„æ–‡ä»¶ä¸­æå–å·¥å…·ç±»çš„ä½¿ç”¨ï¼Œå¹¶æŒ‰éœ€ç”Ÿæˆç›¸åº”çš„ CSSã€‚`.js` å’Œ `.ts` æ–‡ä»¶**é»˜è®¤ä¸åŒ…å«**ã€‚

è¦é…ç½®å®ƒä»¬ï¼Œä½ å¯ä»¥æ›´æ–°ä½ çš„ `uno.config.ts`ï¼š

```ts [uno.config.ts]
export default defineConfig({
  content: {
    pipeline: {
      include: [
        // é»˜è®¤
        /\.(vue|svelte|[jt]sx|vine.ts|mdx?|astro|elm|php|phtml|marko|html)($|\?)/,
        // åŒ…æ‹¬ js/ts æ–‡ä»¶
        'src/**/*.{js,ts}',
      ],
      // æ’é™¤æ–‡ä»¶
      // exclude: []
    },
  },
})
```

ä½ è¿˜å¯ä»¥åœ¨éœ€è¦ UnoCSS æ‰«æçš„æ–‡ä»¶ä¸­çš„ä»»æ„ä½ç½®æ·»åŠ  `@unocss-include` é­”æ³•æ³¨é‡Šï¼Œä»¥é€ä¸ªæ–‡ä»¶ä¸ºå•ä½ã€‚è¿™å¯¹äºéœ€è¦æ‰«æ `*.js` æˆ– `*.ts` æ–‡ä»¶æ—¶å°¤å…¶æœ‰ç”¨ï¼Œéœ€åœ¨é…ç½®ä¸­åŒ…å«æ‰€æœ‰ js/ts æ–‡ä»¶ä½œä¸ºæ‰«æç›®æ ‡ã€‚

```ts
// ./some-utils.js

// ç”±äº `.js` æ–‡ä»¶æœªé»˜è®¤åŒ…å«ï¼Œ
// ä»¥ä¸‹æ³¨é‡Šå‘ŠçŸ¥ UnoCSS å¼ºåˆ¶æ‰«ææ­¤æ–‡ä»¶ã€‚
// @unocss-include
export const classes = {
  active: 'bg-primary text-white',
  inactive: 'bg-gray-200 text-gray-500',
}
```

åŒæ ·ï¼Œä½ ä¹Ÿå¯ä»¥æ·»åŠ  `@unocss-ignore` æ¥è·³è¿‡æ•´ä¸ªæ–‡ä»¶çš„æ‰«æå’Œè½¬æ¢ã€‚

å¦‚æœä½ æƒ³è®© UnoCSS è·³è¿‡ä¸€å—ä»£ç è€Œä¸åœ¨ä»»ä½•æå–æ–‡ä»¶ä¸­è¢«æå–ï¼Œä½ å¯ä»¥ä½¿ç”¨ `@unocss-skip-start` å’Œ `@unocss-skip-end` ä½œä¸ºæˆå¯¹ä½¿ç”¨ã€‚è¯·æ³¨æ„ï¼Œå®ƒå¿…é¡» **æˆå¯¹ä½¿ç”¨** æ‰èƒ½ç”Ÿæ•ˆã€‚

```html
<p class="text-green text-xl">ç»¿è‰²å¤§å·</p>

<!-- @unocss-skip-start -->
<!-- `text-red` å°†ä¸ä¼šè¢«æå– -->
<p class="text-red">çº¢è‰²</p>
<!-- @unocss-skip-end -->
```

### ä»æ–‡ä»¶ç³»ç»Ÿæå–

åœ¨ä½¿ç”¨æ²¡æœ‰è®¿é—®æ„å»ºå·¥å…·ç®¡é“çš„é›†æˆçš„æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ [PostCSS](/integrations/postcss) æ’ä»¶ï¼‰ï¼Œæˆ–è€…åœ¨ä¸åç«¯æ¡†æ¶é›†æˆæ—¶ï¼Œå› ä¸ºä»£ç æ²¡æœ‰ç»è¿‡ç®¡é“ï¼Œä½ å¯ä»¥æ‰‹åŠ¨æŒ‡å®šè¦æå–çš„æ–‡ä»¶ã€‚

```ts [uno.config.ts]
export default defineConfig({
  content: {
    filesystem: [
      'src/**/*.php',
      'public/*.html',
    ],
  },
})
```

ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶å°†ç›´æ¥ä»æ–‡ä»¶ç³»ç»Ÿè¯»å–ï¼Œå¹¶åœ¨å¼€å‘æ¨¡å¼ä¸‹ç›‘è§†å…¶å˜åŒ–ã€‚

### ä»å†…è”æ–‡æœ¬æå–

æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥ä»å¯èƒ½ä»å…¶ä»–åœ°æ–¹æ£€ç´¢åˆ°çš„å†…è”æ–‡æœ¬ä¸­æå–å·¥å…·çš„ä½¿ç”¨ã€‚

ä½ ä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ä»¥è¿”å›å†…å®¹ã€‚ä½†è¯·æ³¨æ„ï¼Œè¯¥å‡½æ•°å°†åœ¨æ„å»ºæ—¶åªè°ƒç”¨ä¸€æ¬¡ã€‚

```ts [uno.config.ts]
export default defineConfig({
  content: {
    inline: [
      // çº¯æ–‡æœ¬
      '<div class="p-4 text-red">ä¸€äº›æ–‡æœ¬</div>',
      // å¼‚æ­¥è·å–å™¨
      async () => {
        const response = await fetch('https://example.com')
        return response.text()
      },
    ],
  },
})
```

## é™åˆ¶

ç”±äº UnoCSS åœ¨ **æ„å»ºæ—¶** å·¥ä½œï¼Œè¿™æ„å‘³ç€åªæœ‰é™æ€å‘ˆç°çš„å·¥å…·å°†è¢«ç”Ÿæˆå¹¶æ‰“åŒ…åˆ°ä½ çš„åº”ç”¨ä¸­ã€‚åŠ¨æ€ä½¿ç”¨æˆ–åœ¨è¿è¡Œæ—¶ä»å¤–éƒ¨èµ„æºè·å–çš„å·¥å…·å¯èƒ½ **ä¸ä¼š** è¢«æ£€æµ‹æˆ–åº”ç”¨ã€‚

### å®‰å…¨åˆ—è¡¨

æœ‰æ—¶ä½ å¯èƒ½æƒ³ä½¿ç”¨åŠ¨æ€è¿æ¥ï¼Œä¾‹å¦‚ï¼š

```html
<div class="p-${size}"></div>
<!-- è¿™å°†ä¸èµ·ä½œç”¨ï¼ -->
```

ç”±äº UnoCSS åœ¨æ„å»ºæ—¶ä½¿ç”¨é™æ€æå–ï¼Œå› æ­¤åœ¨ç¼–è¯‘æ—¶å®ƒæ— æ³•çŸ¥é“æ‰€æœ‰å·¥å…·çš„ç»„åˆã€‚ä¸ºæ­¤ï¼Œä½ å¯ä»¥é…ç½® `safelist` é€‰é¡¹ã€‚

```ts [uno.config.ts]
safelist: 'p-1 p-2 p-3 p-4'.split(' ')
```

å¯¹åº”çš„ CSS å°†å§‹ç»ˆç”Ÿæˆï¼š

```css
.p-1 { padding: 0.25rem; }
.p-2 { padding: 0.5rem; }
.p-3 { padding: 0.75rem; }
.p-4 { padding: 1rem; }
```

æˆ–è€…æ›´çµæ´»åœ°ï¼š

```ts [uno.config.ts]
safelist: [
  ...Array.from({ length: 4 }, (_, i) => `p-${i + 1}`),
]
```

å¦‚æœä½ å¯»æ±‚åœ¨è¿è¡Œæ—¶è¿›è¡ŒçœŸæ­£çš„åŠ¨æ€ç”Ÿæˆï¼Œä½ å¯èƒ½éœ€è¦æŸ¥çœ‹ [@unocss/runtime](/integrations/runtime) åŒ…ã€‚

### é™æ€åˆ—è¡¨ç»„åˆ

è§£å†³åŠ¨æ€æ„é€ å·¥å…·é™åˆ¶çš„å¦ä¸€ç§æ–¹æ³•æ˜¯ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡åˆ—å‡ºæ‰€æœ‰ç»„åˆ **é™æ€**ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¦è¿™ä¸ªï¼š

```html
<div class="text-${color} border-${color}"></div>
<!-- è¿™å°†ä¸èµ·ä½œç”¨ï¼ -->
```

ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåˆ—å‡ºæ‰€æœ‰ç»„åˆï¼ˆå‡è®¾ä½ çŸ¥é“æƒ³è¦ä½¿ç”¨çš„ `color` çš„æ‰€æœ‰å¯èƒ½å€¼ï¼‰

```ts
// ç”±äºå®ƒä»¬æ˜¯é™æ€çš„ï¼ŒUnoCSS å°†èƒ½å¤Ÿåœ¨æ„å»ºæ—¶æå–å®ƒä»¬
const classes = {
  red: 'text-red border-red',
  green: 'text-green border-green',
  blue: 'text-blue border-blue',
}
```

ç„¶ååœ¨ä½ çš„æ¨¡æ¿ä¸­ä½¿ç”¨å®ƒï¼š

```html
<div class="${classes[color]}"></div>
```

### é»‘åå•

ç±»ä¼¼äº `safelist`ï¼Œä½ ä¹Ÿå¯ä»¥é…ç½® `blocklist` ä»¥æ’é™¤ä¸€äº›å·¥å…·çš„ç”Ÿæˆã€‚è¿™å¯¹äºæ’é™¤ä¸€äº›æå–çš„è¯¯æŠ¥éå¸¸æœ‰ç”¨ã€‚ä¸ `safelist` ä¸åŒï¼Œ`blocklist` åŒæ—¶æ¥å—å­—ç¬¦ä¸²ä»¥è¿›è¡Œç²¾ç¡®åŒ¹é…å’Œæ­£åˆ™è¡¨è¾¾å¼ä»¥è¿›è¡Œæ¨¡å¼åŒ¹é…ã€‚

```ts [uno.config.ts]
blocklist: [
  'p-1', // ç²¾ç¡®åŒ¹é…å¹¶é˜»æ­¢ p-1
  'tab', // ç²¾ç¡®åŒ¹é…å¹¶é˜»æ­¢ tab
]
```

è¿™å°†æ’é™¤ `p-1` ä»¥åŠ `p-2`ã€`p-3`ã€`p-4` çš„ç”Ÿæˆã€‚

**æ­£åˆ™è¡¨è¾¾å¼** â€” æ¨¡å¼åŒ¹é…ï¼ˆä½¿ç”¨ `.test()`ï¼‰ï¼š

```ts [uno.config.ts]
blocklist: [
  /^p-[2-4]$/, // é˜»æ­¢ p-2ã€p-3ã€p-4
  /^border$/, // é˜»æ­¢ "border" ä½†ä¸é˜»æ­¢ "border-2"
]
```

**å‡½æ•°** â€” è‡ªå®šä¹‰é€»è¾‘ï¼Œè¿”å›çœŸå€¼å³é˜»æ­¢ï¼š

```ts [uno.config.ts]
blocklist: [
  s => s.endsWith('px'), // é˜»æ­¢æ‰€æœ‰ä»¥ px ç»“å°¾çš„ç±»å
  s => s.split('-').length > 4, // é˜»æ­¢åµŒå¥—å±‚çº§è¿‡æ·±çš„å·¥å…·ç±»
]
```

#### æ¶ˆæ¯æç¤º

æ¯ä¸ªåŒ¹é…å™¨å¯ä»¥å¯é€‰åœ°ç”¨ä¸€ä¸ªåŒ…å«è¯´æ˜é˜»æ­¢åŸå› çš„ `message` çš„å…ƒç»„åŒ…è£…ã€‚æ¶ˆæ¯å¯ä»¥æ˜¯é™æ€å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¥æ”¶è¢«åŒ¹é…é€‰æ‹©å™¨çš„å›è°ƒï¼š

```ts [uno.config.ts]
blocklist: [
  // é™æ€æ¶ˆæ¯
  [/^border$/, { message: 'è¯·ä½¿ç”¨æ›´çŸ­çš„ "b"' }],

  // åŠ¨æ€æ¶ˆæ¯ â€” æ¥æ”¶è¢«é˜»æ­¢çš„é€‰æ‹©å™¨
  [/^border(?:-[btrlxy])?$/, {
    // ä¾‹å¦‚ "border-y" â†’ 'è¯·ä½¿ç”¨æ›´çŸ­çš„ "b-y"'
    message: v => `è¯·ä½¿ç”¨æ›´çŸ­çš„ "${v.replace(/^border/, 'b')}"`
  }],
]
```

ä¸ `@unocss/eslint-plugin` é…åˆä½¿ç”¨æ—¶ï¼Œæ¶ˆæ¯ä¼šæ˜¾ç¤ºåœ¨ lint è¾“å‡ºä¸­ï¼š

```shell
"border" åœ¨é»‘åå•ä¸­ï¼šè¯·ä½¿ç”¨æ›´çŸ­çš„ "b"
```

å¦‚æœæ²¡æœ‰ ESLint æ’ä»¶ï¼Œè¢«é˜»æ­¢çš„å·¥å…·ç±»å°†é™é»˜åœ°ä» CSS ç”Ÿæˆä¸­æ’é™¤ï¼Œå¼€å‘è€…ä¸ä¼šæ”¶åˆ°åé¦ˆã€‚
**å»ºè®®ç»“åˆä½¿ç”¨ `@unocss/eslint-plugin` å’Œ blocklist è§„åˆ™**ï¼Œä»¥ä¾¿åœ¨å¼€å‘æœŸé—´æ˜¾ç¤ºå¯æ“ä½œçš„æ¶ˆæ¯ã€‚

#### å˜ä½“å¤„ç†

é»‘åå•ä¼šåœ¨ **å»é™¤å˜ä½“ä¹‹å‰å’Œä¹‹å** æ£€æŸ¥é€‰æ‹©å™¨ã€‚
é˜»æ­¢ `p-1` çš„è§„åˆ™ä¹Ÿä¼šé˜»æ­¢ `hover:p-1`ã€`md:p-1`ã€`dark:p-1` ç­‰ã€‚
ä½ ä¸éœ€è¦åœ¨é»‘åå•æ¨¡å¼ä¸­è€ƒè™‘å˜ä½“å‰ç¼€ã€‚

#### åˆå¹¶è¡Œä¸º

æ‰€æœ‰é¢„è®¾å’Œç”¨æˆ·é…ç½®çš„é»‘åå•è§„åˆ™ä¼šè¢« **åˆå¹¶** â€” å®ƒä»¬ä¼šç´¯ç§¯ï¼Œä¸ä¼šç›¸äº’è¦†ç›–ã€‚
ä»»ä½•åœ¨ä»»ä¸€é¢„è®¾æˆ–ç”¨æˆ·é…ç½®ä¸­è¢«é˜»æ­¢çš„å·¥å…·éƒ½ä¼šä¿æŒè¢«é˜»æ­¢çŠ¶æ€ã€‚

#### ç±»å‹å‚è€ƒ

```ts
type BlocklistValue = string | RegExp | ((selector: string) => boolean | null | undefined)
type BlocklistRule = BlocklistValue | [BlocklistValue, BlocklistMeta]

interface BlocklistMeta {
  /**
   * ç”¨äºæ˜¾ç¤ºé˜»æ­¢åŸå› çš„è‡ªå®šä¹‰æ¶ˆæ¯ã€‚
   */
  message?: string | ((selector: string) => string)
}
```

### é»‘åå•æ¨¡å¼ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„é»‘åå•ä½¿ç”¨æ¨¡å¼ï¼Œå¸®åŠ©ä½ æ›´æœ‰æ•ˆåœ°ä½¿ç”¨é»‘åå•ã€‚

#### å¼ºåˆ¶ä½¿ç”¨æ›´ç®€çŸ­çš„åˆ«å

ç”±äº UnoCSS æ”¯æŒå¤šç§è¯­æ³•å®ç°ç›¸åŒçš„ CSS è¾“å‡ºï¼Œä½ å¯ä»¥é˜»æ­¢å†—é•¿å½¢å¼ï¼Œæ¨èæ›´ç®€æ´çš„å½¢å¼ï¼š

```ts [uno.config.ts]
blocklist: [
  // "border" â†’ "b", "border-t" â†’ "b-t"
  [/^border(?:-[btrlxy])?$/, {
    message: v => `è¯·ä½¿ç”¨æ›´çŸ­çš„ "${v.replace(/^border/, 'b')}"`
  }],

  // "opacity-50" â†’ "op-50"
  // "backdrop-opacity-50" â†’ "backdrop-op-50"
  [/^(?:backdrop-)?opacity-(.+)$/, {
    message: v => `è¯·ä½¿ç”¨æ›´çŸ­çš„ "${v.replace(/opacity-/, 'op-')}"`
  }],

  // "whitespace-nowrap" â†’ "ws-nowrap"
  [/^whitespace-.+$/, {
    message: v => `è¯·ä½¿ç”¨æ›´çŸ­çš„ "${v.replace(/^whitespace-/, 'ws-')}"`
  }],

  // ç®€å•çš„é™æ€åˆ«åéå¸¸é€‚åˆä¸€ä¸€æ›¿æ¢
  [/^flex-grow$/, { message: 'è¯·ä½¿ç”¨æ›´çŸ­çš„ "grow"' }],
  [/^flex-shrink$/, { message: 'è¯·ä½¿ç”¨æ›´çŸ­çš„ "shrink"' }],
  [/^inline-block$/, { message: 'è¯·ä½¿ç”¨æ›´çŸ­çš„ "i-block"' }], // ä½ ä¹Ÿå¯ä»¥æŒ‡å‘è‡ªå®šä¹‰å¿«æ·æ–¹å¼
]
```

#### é™åˆ¶ä¸ºè®¾è®¡ç³»ç»Ÿçš„ä»¤ç‰Œ

ä½ å¯ä»¥æ ¹æ®è®¾è®¡ç³»ç»Ÿé…ç½®åŠ¨æ€ç”Ÿæˆé»‘åå•æ¨¡å¼ï¼Œç¡®ä¿åªä½¿ç”¨æœ‰æ•ˆä»¤ç‰Œã€‚
ä½¿ç”¨è´Ÿå‘å‰ç»æ¥å…è®¸æœ‰æ•ˆå€¼ï¼Œå…¶å®ƒå…¨éƒ¨é˜»æ­¢ï¼š

```ts [uno.config.ts]
import { theme } from './my-design-system'

// è¾…åŠ©å‡½æ•°ï¼Œå°†å¯¹è±¡çš„é”®è¿æ¥æˆæ­£åˆ™è¡¨è¾¾å¼çš„æˆ–åŒ¹é…
const keys = (obj: Record<string, any>) => Object.keys(obj).join('|')

blocklist: [
  // ä»…å…è®¸è®¾è®¡ç³»ç»Ÿä¸­å®šä¹‰çš„å­—ä½“ç³»åˆ—
  [new RegExp(`^font-(?!(?:${keys(theme.fontFamily)}|\\$)$).+$`), {
    message: `è¯·ä½¿ç”¨è®¾è®¡ç³»ç»Ÿå­—ä½“ç³»åˆ—ï¼š${Object.keys(theme.fontFamily).join(', ')}`
  }],

  // ä»…å…è®¸è®¾è®¡ç³»ç»Ÿä¸­å®šä¹‰çš„é˜´å½±å€¼
  [new RegExp(`^shadow-(?!(?:${keys(theme.boxShadow)}|\\$)).+$`), {
    message: `åªå…è®¸ä½¿ç”¨è®¾è®¡ç³»ç»Ÿçš„é˜´å½±å€¼ã€‚`
  }],
]
```

::: tip
æ­£åˆ™ä¸­çš„ `\\$` å…è®¸ CSS å˜é‡å¼•ç”¨ï¼ˆä¾‹å¦‚ `font-$myVar`ï¼‰é€šè¿‡ï¼Œå› ä¸ºå®ƒä»¬åœ¨è¿è¡Œæ—¶è§£æï¼Œæ— æ³•é™æ€éªŒè¯ã€‚
:::

#### å°†åŸç”Ÿå•ä½è½¬æ¢ä¸ºåˆ»åº¦å€¼

å¦‚æœä½ çš„é¡¹ç›®ä½¿ç”¨ UnoCSS é»˜è®¤çš„é—´è·åˆ»åº¦ï¼ˆ1 å•ä½ = 0.25rem = 4pxï¼‰ï¼Œä½ å¯ä»¥é˜»æ­¢åŸç”Ÿçš„ `px` å’Œ `rem` å€¼ï¼Œå¹¶å»ºè®®ä½¿ç”¨åˆ»åº¦ç­‰ä»·çš„å€¼ï¼š

```ts [uno.config.ts]
blocklist: [
  // "mt-16px" â†’ "mt-4"
  // "p-[8px]" â†’ "p-2"
  // "w-2rem" â†’ "w-8"
  [/^.+-\[?[\d.]+(?:px|rem)\]?$/, {
    message: (s) => {
      // ç”±äº message() åªæ¥å—åŒ¹é…çš„é€‰æ‹©å™¨å­—ç¬¦ä¸²ï¼Œè€Œä¸æ¥å—æ­£åˆ™è¡¨è¾¾å¼ï¼Œ
      // æ‰€ä»¥éœ€è¦å†æ¬¡åŒ¹é…ä»¥æå–æ•è·ç»„
      const m = s.match(/\[?(?<v>[\d.]+)(?<u>px|rem)\]?$/)!
      const { v, u } = m.groups!
      const scale = u === 'rem' ? +v * 4 : +v / 4
      return `è¯·ä½¿ç”¨é—´è·åˆ»åº¦å€¼ï¼š${s.slice(0, -m[0].length)}${scale}`
    }
  }],
]
```

#### ç§»é™¤ä¸å¿…è¦çš„æ–¹æ‹¬å·

UnoCSS çš„ä»»æ„å€¼æ‹¬å· `[...]` ç»å¸¸ä¸å¿…è¦ï¼Œå½“å€¼æœ¬èº«å·²ç»åˆæ³•æ—¶å¯ä»¥çœç•¥ï¼š

```ts [uno.config.ts]
blocklist: [
  // "w-[50%]" â†’ "w-50%"
  [/^(w|h|min-[wh]|max-[wh]|top|right|bottom|left)-\[\d+%\]$/, {
    message: (v) => {
      const value = v.match(/\[(\d+%)\]/)?.[1] || ''
      return `è¯·ä½¿ç”¨æ›´ç®€çŸ­çš„ ${v.replace(/-\[\d+%\]/, `-${value}`)}`
    }
  }],

  // "outline-[#ff0000]" â†’ "outline-#ff0000"
  [/^[a-z-]+-\[#[0-9a-fA-F]{3,6}\]$/, {
    message: v => `è¯·ä½¿ç”¨æ›´ç®€çŸ­çš„ ${v.replace(/\[#/, '#').replace(/\]/, '')}`
  }],
]
```

#### å¼ºåˆ¶çº¦å®š

é˜»æ­¢è¿åé¡¹ç›®ç‰¹å®šæ¶æ„å†³ç­–çš„æ¨¡å¼ï¼š

```ts [uno.config.ts]
blocklist: [
  // é˜²æ­¢å†—ä½™æ–­ç‚¹ â€” å¦‚æœ "sm" ç­‰äº 0ï¼Œåˆ™å®ƒæ€»æ˜¯ç”Ÿæ•ˆ
  // åœ¨ç§»åŠ¨ä¼˜å…ˆå“åº”è®¾è®¡ä¸­åº”é¿å…æŒ‡å®š
  [/^sm:/, {
    message: v => `sm: æ–­ç‚¹æ˜¯å†—ä½™çš„ï¼Œè¯·ä½¿ç”¨ "${v.replace(/^sm:/, '')}"`
  }],

  // å¼ºåˆ¶ä½¿ç”¨åˆ†ç¦»çš„å·¥å…·ç±»ï¼Œè€Œéæ–œæ ä¸é€æ˜åº¦æ ‡è®°ã€‚
  // åˆ†ç¦»çš„å·¥å…·ç±»æ›´å¯èƒ½é‡ç”¨ï¼Œå¸®åŠ©å‡å°‘æœ€ç»ˆ CSS åŒ…å¤§å°
  // "bg-red-500/50" â†’ "bg-red-500 bg-op-50"
  [/^(c|bg)-.+\/\d+$/, {
    message: 'è¯·ä½¿ç”¨åˆ†ç¦»çš„é€æ˜åº¦ç±»ä»£æ›¿æ–œæ æ ‡è®°ï¼ˆä¾‹å¦‚ "bg-red bg-op-50"ï¼‰ã€‚'
  }],

  // å°†ç®€å†™æ‹†è§£ä¸ºå¯é‡ç”¨çš„ç‹¬ç«‹å±æ€§ã€‚
  // åŒç†ï¼Œåˆ†ç¦»å·¥å…·ç±»æœ‰åŠ©äºå‡å°‘ CSS åŒ…å¤§å°
  // "size-4" â†’ "w-4 h-4"
  [/^size-(.+)$/, {
    message: (v) => {
      const size = v.match(/^size-(.+)$/)?.[1]
      return `è¯·ä½¿ç”¨ "w-${size} h-${size}" æ¥ç‹¬ç«‹æ§åˆ¶`
    }
  }],
]
```

---

---
url: 'https://unocss.zhcndoc.com/config/extractors.md'
---
# æå–å™¨

æå–å™¨ç”¨äºä»æºä»£ç ä¸­æå–å·¥å…·çš„ä½¿ç”¨æƒ…å†µã€‚

```ts [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  extractors: [
    // ä½ çš„æå–å™¨
  ],
})
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œ[extractorSplit](https://github.com/unocss/unocss/blob/main/packages-engine/core/src/extractors/split.ts) å°†å§‹ç»ˆåº”ç”¨ï¼Œå®ƒä¼šå°†æºä»£ç æ‹†åˆ†ä¸ºæ ‡è®°å¹¶ç›´æ¥æä¾›ç»™å¼•æ“ã€‚

è¦è¦†ç›–é»˜è®¤æå–å™¨ï¼Œå¯ä»¥ä½¿ç”¨ `extractorDefault` é€‰é¡¹ã€‚

```ts [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  extractors: [
    // ä½ çš„æå–å™¨
  ],
  // ç¦ç”¨é»˜è®¤æå–å™¨
  extractorDefault: false,
  // ç”¨ä½ è‡ªå·±çš„æå–å™¨è¦†ç›–é»˜è®¤æå–å™¨
  extractorDefault: myExtractor,
})
```

ä¾‹å¦‚ï¼Œè¯·æŸ¥çœ‹ [pug æå–å™¨](https://github.com/unocss/unocss/blob/main/packages-presets/extractor-pug/src/index.ts) æˆ– [attributify æå–å™¨](https://github.com/unocss/unocss/blob/main/packages-presets/preset-attributify/src/extractor.ts) çš„å®ç°ã€‚

---

---
url: 'https://unocss.zhcndoc.com/guide/style-reset.md'
description: UnoCSS é»˜è®¤ä¸æä¾›æ ·å¼é‡ç½®æˆ–é¢„é£è¡Œï¼Œä»¥å®ç°æœ€å¤§çµæ´»æ€§ï¼Œå¹¶ä¸”ä¸ä¼šå¡«å……æ‚¨çš„å…¨å±€ CSSã€‚
---

# æµè§ˆå™¨æ ·å¼é‡ç½®

UnoCSS é»˜è®¤ä¸æä¾›æ ·å¼é‡ç½®æˆ–é¢„é£è¡Œï¼Œä»¥é¿å…å¡«å……æ‚¨çš„å…¨å±€ CSSï¼Œå¹¶ä¸”ä¸ºäº†å®ç°æœ€å¤§çµæ´»æ€§ã€‚å¦‚æœæ‚¨å°† UnoCSS ä¸å…¶ä»– CSS æ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œå®ƒä»¬å¯èƒ½å·²ç»ä¸ºæ‚¨è¿›è¡Œäº†æ ·å¼é‡ç½®ã€‚å¦‚æœæ‚¨å•ç‹¬ä½¿ç”¨ UnoCSSï¼Œåˆ™å¯ä»¥ä½¿ç”¨åƒ [Normalize.css](https://github.com/csstools/normalize.css) è¿™æ ·çš„é‡ç½®åº“ã€‚

æˆ‘ä»¬è¿˜æä¾›äº†ä¸€å°éƒ¨åˆ†åº“ä¾›æ‚¨å¿«é€Ÿè·å–ï¼š

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add @unocss/reset
```

```bash [yarn]
yarn add @unocss/reset
```

```bash [npm]
npm install @unocss/reset
```

```bash [bun]
bun add @unocss/reset
```

:::

## ä½¿ç”¨æ–¹æ³•

æ‚¨å¯ä»¥å°†ä»¥ä¸‹é‡ç½®æ ·å¼è¡¨ä¹‹ä¸€æ·»åŠ åˆ°æ‚¨çš„ `main.js` ä¸­ã€‚

### Normalize.css

æ¥æº: https://github.com/csstools/normalize.css

```ts
import '@unocss/reset/normalize.css'
```

### sanitize.css

æ¥æº: https://github.com/csstools/sanitize.css

```ts
import '@unocss/reset/sanitize/sanitize.css'
import '@unocss/reset/sanitize/assets.css'
```

### Eric Meyer

æ¥æº: https://meyerweb.com/eric/tools/css/reset/index.html

```ts
import '@unocss/reset/eric-meyer.css'
```

### Tailwind

åŸºäºè¾ƒæ—©çš„ [Preflight](https://github.com/tailwindlabs/tailwindcss/blob/v3.4.18/src/css/preflight.css)ï¼Œå¹¶åŒ…å«éƒ¨åˆ†è¿‘æœŸå˜æ›´

```ts
import '@unocss/reset/tailwind.css'
```

### Tailwind v4

åŸºäº [Preflight](https://github.com/tailwindlabs/tailwindcss/blob/main/packages/tailwindcss/preflight.css)

```ts
import '@unocss/reset/tailwind-v4.css'
```

### Tailwind å…¼å®¹

```ts
import '@unocss/reset/tailwind-compat.css'
```

è¯¥é‡ç½®åŸºäº [Tailwind reset](#tailwind)ï¼Œå»æ‰äº†æŒ‰é’®çš„èƒŒæ™¯é¢œè‰²é‡å†™ï¼Œä»¥é¿å…ä¸ UI æ¡†æ¶å†²çªã€‚è¯·å‚è§ [ç›¸å…³é—®é¢˜](https://github.com/unocss/unocss/issues/2127)ã€‚

::: code-group

```css [ä¹‹å‰]
button,
[type='button'],
[type='reset'],
[type='submit'] {
  -webkit-appearance: button; /* 1 */
  background-color: transparent; /* 2 */
  background-image: none; /* 2 */
}
```

```css [ä¹‹å]
button,
[type='button'],
[type='reset'],
[type='submit'] {
  -webkit-appearance: button; /* 1 */
  /*background-color: transparent; !* 2 *!*/
  background-image: none; /* 2 */
}
```

:::

---

---
url: 'https://unocss.zhcndoc.com/tools/core.md'
description: UnoCSS çš„æ ¸å¿ƒå¼•æ“ï¼Œæ²¡æœ‰ä»»ä½•é¢„è®¾ã€‚å®ƒå¯ä»¥ä½œä¸ºæ‚¨è‡ªå·±çš„åŸå­ CSS æ¡†æ¶çš„å¼•æ“ã€‚
---

# æ ¸å¿ƒ

UnoCSS çš„æ ¸å¿ƒå¼•æ“ï¼Œæ²¡æœ‰ä»»ä½•é¢„è®¾ï¼š`@unocss/core`ã€‚å®ƒå¯ä»¥ä½œä¸ºæ‚¨è‡ªå·±åŸå­ CSS æ¡†æ¶çš„å¼•æ“ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/core
```

```bash [yarn]
yarn add -D @unocss/core
```

```bash [npm]
npm install -D @unocss/core
```

```bash [bun]
bun add -D @unocss/core
```

:::

## ä½¿ç”¨

```ts
import { createGenerator } from '@unocss/core'

const generator = await createGenerator(
  { /* ç”¨æˆ·é€‰é¡¹ */ },
  { /* é»˜è®¤é€‰é¡¹ */ }
)

const { css } = await generator.generate(code)
```

## è®¸å¯è¯

* MIT è®¸å¯è¯ Â© 2021-è‡³ä»Š [Anthony Fu](https://github.com/antfu)

---

---
url: 'https://unocss.zhcndoc.com/presets/community.md'
---
# ç¤¾åŒº

æˆ‘ä»¬çƒ­å¿±æ¬¢è¿å¤§å®¶åŠ å…¥å¹¶å¸®åŠ©å»ºè®¾ [UnoCSS ç¤¾åŒº](https://github.com/unocss-community)ã€‚æ‚¨å¯ä»¥åœ¨ [Awesome UnoCSS](https://github.com/unocss-community/awesome-unocss) ä¸­ä½¿ç”¨å’Œåˆ†äº«ä¸ UnoCSS ç›¸å…³çš„èµ„æºã€‚

---

---
url: 'https://unocss.zhcndoc.com/transformers/compile-class.md'
description: å°†ä¸€ç»„ç±»ç¼–è¯‘æˆä¸€ä¸ªç±» (@unocss/transformer-compile-class)
---

# ç¼–è¯‘ç±»è½¬æ¢å™¨

å°†ä¸€ç»„ç±»ç¼–è¯‘æˆä¸€ä¸ªç±»ã€‚çµæ„Ÿæ¥è‡ª Windi CSS çš„ [ç¼–è¯‘æ¨¡å¼](https://windicss.org/posts/modes.html#compilation-mode) å’Œ [issue #948](https://github.com/unocss/unocss/issues/948) æå‡ºçš„ [@UltraCakeBakery](https://github.com/UltraCakeBakery)ã€‚

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/transformer-compile-class
```

```bash [yarn]
yarn add -D @unocss/transformer-compile-class
```

```bash [npm]
npm install -D @unocss/transformer-compile-class
```

```bash [bun]
bun add -D @unocss/transformer-compile-class
```

:::

```ts [uno.config.ts]
import transformerCompileClass from '@unocss/transformer-compile-class'
import { defineConfig } from 'unocss'

export default defineConfig({
  // ...
  transformers: [
    transformerCompileClass(),
  ],
})
```

::: tip
è¿™ä¸ªé¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ä»é‚£é‡Œå¯¼å…¥ï¼š

```ts
import { transformerCompileClass } from 'unocss'
```

:::

## ç”¨æ³•

åœ¨ç±»å­—ç¬¦ä¸²çš„å¼€å¤´æ·»åŠ  `:uno:` æ¥æ ‡è®°å®ƒä»¬è¿›è¡Œç¼–è¯‘ã€‚

ä¾‹å¦‚ï¼š

```html
<div class=":uno: text-center sm:text-left">
  <div class=":uno: text-sm font-bold hover:text-red" />
</div>
```

å°†ç¼–è¯‘ä¸ºï¼š

```html
<div class="uno-qlmcrp">
  <div class="uno-0qw2gr" />
</div>
```

```css
.uno-qlmcrp {
  text-align: center;
}
.uno-0qw2gr {
  font-size: 0.875rem;
  line-height: 1.25rem;
  font-weight: 700;
}
.uno-0qw2gr:hover {
  --un-text-opacity: 1;
  color: rgb(248 113 113 / var(--un-text-opacity));
}
@media (min-width: 640px) {
  .uno-qlmcrp {
    text-align: left;
  }
}
```

## é€‰é¡¹

ä½ å¯ä»¥é€šè¿‡é€‰é¡¹é…ç½®è§¦å‘å­—ç¬¦ä¸²å’Œç¼–è¯‘ç±»çš„å‰ç¼€ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ [ç±»å‹å®šä¹‰](https://github.com/unocss/unocss/blob/main/packages-presets/transformer-compile-class/src/index.ts#L4)ã€‚

## å·¥å…·æ”¯æŒ

### ESLint

æœ‰ä¸€ä¸ª eslint è§„åˆ™ç”¨äºå¼ºåˆ¶åœ¨æ•´ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ç±»ç¼–è¯‘è½¬æ¢å™¨ï¼š[@unocss/enforce-class-compile](https://unocss.dev/integrations/eslint#unocss-enforce-class-compile)

**ç”¨æ³•ï¼š**

```json
{
  "plugins": ["@unocss"],
  "rules": {
    "@unocss/enforce-class-compile": "warn"
  }
}
```

## è®¸å¯è¯

* MIT è®¸å¯è¯ Â© 2021-ç°åœ¨ [Anthony Fu](https://github.com/antfu)

---

---
url: 'https://unocss.zhcndoc.com/tools/autocomplete.md'
description: UnoCSS çš„è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ï¼ˆ@unocss/autocompleteï¼‰ã€‚
---

# è‡ªåŠ¨å®Œæˆ

UnoCSS çš„è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ï¼š`@unocss/autocomplete`ã€‚å®ƒåµŒå…¥åœ¨ playground å’Œ [VS Code æ‰©å±•](/integrations/vscode)ã€‚

## ç”¨æ³•

### é™æ€è§„åˆ™

é™æ€è§„åˆ™åƒè¿™æ ·å°†æ— éœ€ä»»ä½•é…ç½®å³å¯ä½¿ç”¨ã€‚

```ts
rules: [
  ['flex', { display: 'flex' }]
]
```

### åŠ¨æ€è§„åˆ™

å¯¹äºåŠ¨æ€è§„åˆ™ï¼Œæ‚¨å¯ä»¥å‘è§„åˆ™æä¾›ä¸€ä¸ªé¢å¤–çš„ `meta` å¯¹è±¡ï¼Œå¹¶æŒ‡å®šè‡ªåŠ¨å®Œæˆçš„æ¨¡æ¿ã€‚

```ts
rules: [
  [
    /^m-(\d)$/,
    ([, d]) => ({ margin: `${d / 4}rem` }),
    { autocomplete: 'm-<num>' }, // <-- è¿™ä¸ª
  ],
]
```

æ¨¡æ¿ä½¿ç”¨ç®€å•çš„ DSL æ¥æŒ‡å®šè‡ªåŠ¨å®Œæˆçš„å»ºè®®ã€‚è¯­æ³•å¦‚ä¸‹ï¼š

* `(...|...)`ï¼šé€»è¾‘æˆ–ç»„ï¼Œä½¿ç”¨ `|` ä½œä¸ºåˆ†éš”ç¬¦ã€‚å½“æŸäº›ç»„åŒ¹é…æ—¶ï¼Œå°†ä½¿ç”¨å®ƒä½œä¸ºå»ºè®®ã€‚
* `<...>`ï¼šå†…ç½®ç®€å†™ã€‚ç›®å‰æ”¯æŒ `<num>`ã€`<percent>` å’Œ `<directions>`
* `$...`ï¼šä¸»é¢˜æ¨æ–­ã€‚ä¾‹å¦‚ï¼Œ`$colors` å°†åˆ—å‡ºä¸»é¢˜çš„ `colors` å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚

## ç¤ºä¾‹

### ç¤ºä¾‹ 1

* **æ¨¡æ¿**ï¼š`(border|b)-(solid|dashed|dotted|double|hidden|none)`
* **è¾“å…¥**ï¼š`b-do`
* **å»ºè®®**ï¼š`b-dotted`ã€`b-double`

### ç¤ºä¾‹ 2

* **æ¨¡æ¿**ï¼š`m-<num>`
* **è¾“å…¥**ï¼š`m-`
* **å»ºè®®**ï¼š`m-1`ã€`m-2`ã€`m-3`â€¦

### ç¤ºä¾‹ 3

* **æ¨¡æ¿**ï¼š`text-$colors`
* **è¾“å…¥**ï¼š`text-r`
* **å»ºè®®**ï¼š`text-red`ã€`text-rose`â€¦

### ç¤ºä¾‹ 4

å¯¹äºå¤šä¸ªæ¨¡æ¿ï¼š

* **æ¨¡æ¿**ï¼š`['(border|b)-<num>', '(border|b)-<directions>-<num>']`
* **è¾“å…¥**ï¼š`b-`
* **å»ºè®®**ï¼š`b-x`ã€`b-y`ã€`b-1`ã€`b-2`â€¦
* **è¾“å…¥**ï¼š`b-x-`
* **å»ºè®®**ï¼š`b-x-1`ã€`b-x-2`â€¦

## è®¸å¯è¯

* MIT è®¸å¯è¯ Â© 2021-PRESENT [Anthony Fu](https://github.com/antfu)

---

---
url: 'https://unocss.zhcndoc.com/config/autocomplete.md'
---
# è‡ªåŠ¨è¡¥å…¨

è‡ªåŠ¨è¡¥å…¨å¯ä»¥ä¸º UnoCSS çš„æ™ºèƒ½å»ºè®®è¿›è¡Œè‡ªå®šä¹‰ï¼Œè¯¦è§è¯•éªŒåœºå’Œ [VS Code æ’ä»¶](/integrations/vscode)ã€‚

```ts
autocomplete: {
  templates: [
    // ä¸»é¢˜æ¨æ–­
    'bg-$color/<opacity>',
    // ç®€å†™
    'text-<font-size>',
    // é€»è¾‘ OR ç»„
    '(b|border)-(solid|dashed|dotted|double|hidden|none)',
    // å¸¸é‡
    'w-half',
  ],
  shorthands: {
    // ç­‰åŒäº `opacity: "(0|10|20|30|40|50|60|70|90|100)"`
    'opacity': Array.from({ length: 11 }, (_, i) => i * 10),
    'font-size': '(xs|sm|base|lg|xl|2xl|3xl|4xl|5xl|6xl|7xl|8xl|9xl)',
    // è¦†ç›–å†…ç½®ç®€å†™
    'num': '(0|1|2|3|4|5|6|7|8|9)',
  },
  extractors: [
      // ...æå–å™¨
  ],
}
```

* `templates` ä½¿ç”¨ç®€å•çš„ DSL æ¥æŒ‡å®šè‡ªåŠ¨è¡¥å…¨å»ºè®®ã€‚

* `shorthands` æ˜¯ç®€å†™åç§°åˆ°å…¶æ¨¡æ¿çš„æ˜ å°„ã€‚å¦‚æœæ˜¯ `Array`ï¼Œåˆ™å°†å½¢æˆé€»è¾‘ OR ç»„ã€‚

* `extractors` ç”¨æ¥æå–å¯èƒ½çš„ç±»å¹¶å°†ç±»åæ ·å¼å»ºè®®è½¬æ¢ä¸ºæ­£ç¡®æ ¼å¼ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æˆ‘ä»¬æ˜¯å¦‚ä½•å®ç° [å±æ€§åŒ–è‡ªåŠ¨è¡¥å…¨æå–å™¨](https://github.com/unocss/unocss/blob/main/packages-presets/preset-attributify/src/autocomplete.ts)

* å¦‚éœ€é¢å¤–å¸®åŠ©ï¼Œè¯·å‚é˜… [æ­¤å¤„](/tools/autocomplete)ã€‚

---

---
url: 'https://unocss.zhcndoc.com/config/rules.md'
description: ä¸º UnoCSS ç¼–å†™è‡ªå®šä¹‰è§„åˆ™éå¸¸ç®€å•ã€‚
---

# è§„åˆ™

è§„åˆ™å®šä¹‰äº†å·¥å…·ç±»å’Œç”Ÿæˆçš„ CSSã€‚UnoCSS æœ‰è®¸å¤šå†…ç½®è§„åˆ™ï¼Œä½†ä¹Ÿå…è®¸è½»æ¾æ·»åŠ è‡ªå®šä¹‰è§„åˆ™ã€‚

## é™æ€è§„åˆ™

ä»¥ä¸‹ç¤ºä¾‹ï¼š

```ts
rules: [
  ['m-1', { margin: '0.25rem' }],
]
```

åªè¦åœ¨ç”¨æˆ·ä»£ç åº“ä¸­æ£€æµ‹åˆ° `m-1`ï¼Œå°±ä¼šç”Ÿæˆä»¥ä¸‹ CSSï¼š

```css
.m-1 {
  margin: 0.25rem;
}
```

> **æ³¨æ„**ï¼šä¸»ä½“è¯­æ³•éµå¾ª CSS å±æ€§è¯­æ³•ï¼Œä¾‹å¦‚ `font-weight` è€Œä¸æ˜¯ `fontWeight`ã€‚å¦‚æœå±æ€§åä¸­æœ‰è¿å­—ç¬¦ `-`ï¼Œåˆ™åº”è¢«å¼•å·æ‹¬èµ·æ¥ã€‚
>
> ```ts
> rules: [
>   ['font-bold', { 'font-weight': 700 }],
> ]
> ```

## åŠ¨æ€è§„åˆ™

ä¸ºäº†ä½¿å…¶æ›´æ™ºèƒ½ï¼Œå°†åŒ¹é…å™¨æ›´æ”¹ä¸º `RegExp` å¹¶å°†ä¸»ä½“æ›´æ”¹ä¸ºå‡½æ•°ï¼š

```ts
rules: [
  [/^m-(\d+)$/, ([, d]) => ({ margin: `${d / 4}rem` })],
  // ä½ å¯ä»¥ä»ç¬¬äºŒä¸ªå‚æ•°ä¸­è·å–ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¦‚ `theme`ã€`symbols` ç­‰ã€‚
  [/^p-(\d+)$/, (match, ctx) => ({ padding: `${match[1] / 4}rem` })],
]
```

ä¸»ä½“å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ `RegExp` åŒ¹é…ç»“æœï¼Œå¯ä»¥è¿›è¡Œè§£æ„ä»¥è·å¾—åŒ¹é…çš„ç»„ã€‚

ä¾‹å¦‚ï¼Œä½¿ç”¨ä»¥ä¸‹ç”¨æ³•ï¼š

```html
<div class="m-100">
  <button class="m-3">
    <icon class="p-5" />
    æˆ‘çš„æŒ‰é’®
  </button>
</div>
```

å°†ç”Ÿæˆç›¸åº”çš„ CSSï¼š

```css
.m-100 { margin: 25rem; }
.m-3 { margin: 0.75rem; }
.p-5 { padding: 1.25rem; }
```

æ­å–œä½ ï¼ç°åœ¨ä½ æ‹¥æœ‰äº†è‡ªå·±çš„å¼ºå¤§åŸå­ CSS å·¥å…·ã€‚äº«å—å§ï¼

## CSS è§„åˆ™å›é€€

åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½å¸Œæœ›åˆ©ç”¨ CSS è§„åˆ™å›é€€ä½¿ç”¨æ–°çš„ CSS ç‰¹æ€§ï¼ŒåŒæ—¶èƒ½å¤Ÿå›é€€ä»¥æ”¯æŒæ—§æµè§ˆå™¨ï¼Œä½ å¯ä»¥é€‰æ‹©æ€§åœ°è¿”å›ä¸€ä¸ªäºŒç»´æ•°ç»„ä½œä¸ºå…·æœ‰ç›¸åŒé”®çš„è§„åˆ™çš„ CSS è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š

```ts
rules: [
  [/^h-(\d+)dvh$/, ([_, d]) => {
    return [
      ['height', `${d}vh`],
      ['height', `${d}dvh`],
    ]
  }],
]
```

è¿™å°†ä½¿ `h-100dvh` ç”Ÿæˆï¼š

```css
.h-100dvh { height: 100vh; height: 100dvh; }
```

## ç‰¹æ®Šç¬¦å·

è‡ª v0.61 èµ·ï¼ŒUnoCSS æ”¯æŒç‰¹æ®Šç¬¦å·æ¥å®šä¹‰ç”Ÿæˆ CSS çš„é™„åŠ å…ƒä¿¡æ¯ã€‚ä½ å¯ä»¥é€šè¿‡ `@unocss/core` çš„ `symbols` å¯¹è±¡æˆ–åŠ¨æ€è§„åˆ™ä¸»ä½“å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°è®¿é—®è¿™äº›ç¬¦å·ã€‚

ä¾‹å¦‚ï¼š

::: code-group

```ts [Static Rules]
import { symbols } from '@unocss/core'

rules: [
  ['grid', {
    [symbols.parent]: '@supports (display: grid)',
    display: 'grid',
  }],
]
```

```ts [Dynamic Rules]
rules: [
  [/^grid$/, ([, d], { symbols }) => {
    return {
      [symbols.parent]: '@supports (display: grid)',
      display: 'grid',
    }
  }],
]
```

:::

å°†ç”Ÿæˆï¼š

```css
@supports (display: grid) {
  .grid {
    display: grid;
  }
}
```

:::tip
å¦‚æœä½ æ˜ç¡®çŸ¥é“ä¸€ä¸ªè§„åˆ™æ˜¯å¦‚ä½•ç”Ÿæˆçš„ï¼Œå»ºè®®ä½¿ç”¨**é™æ€è§„åˆ™**ä»¥æå‡ UnoCSS æ€§èƒ½ã€‚
:::

### å¯ç”¨ç¬¦å·

| ç¬¦å·                       | æè¿°                                                                                                     |
| -------------------------- | -------------------------------------------------------------------------------------------------------- |
| `symbols.parent`           | ç”Ÿæˆ CSS è§„åˆ™çš„çˆ¶åŒ…è£…å™¨ï¼ˆä¾‹å¦‚ `@supports`ã€`@media` ç­‰ï¼‰                                               |
| `symbols.selector`         | ç”¨äºä¿®æ”¹ç”Ÿæˆ CSS è§„åˆ™é€‰æ‹©å™¨çš„å‡½æ•°ï¼ˆè§ä¸‹é¢ç¤ºä¾‹ï¼‰                                                       |
| `symbols.layer`            | è®¾ç½®ç”Ÿæˆ CSS è§„åˆ™çš„ UnoCSS å±‚çº§ï¼ˆå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å‡½æ•°æˆ–æ­£åˆ™åŒ¹é…ï¼‰                                        |
| `symbols.variants`         | åº”ç”¨äºå½“å‰ CSS å¯¹è±¡çš„å˜ä½“å¤„ç†å™¨æ•°ç»„                                                                    |
| `symbols.shortcutsNoMerge` | å¸ƒå°”å€¼ï¼Œç¦ç”¨å½“å‰è§„åˆ™åœ¨å¿«æ·æ–¹å¼ä¸­çš„åˆå¹¶                                                                 |
| `symbols.noMerge`          | å¸ƒå°”å€¼ï¼Œç¦ç”¨å½“å‰è§„åˆ™çš„åˆå¹¶                                                                              |
| `symbols.sort`             | æ•°å€¼ï¼Œç”¨äºè¦†ç›–å½“å‰ CSS å¯¹è±¡çš„æ’åºé¡ºåº                                                                  |
| `symbols.body`             | å®Œå…¨æ§åˆ¶ç”Ÿæˆ CSS è§„åˆ™çš„ä¸»ä½“ï¼ˆè¯¦æƒ…è§ [#4889](https://github.com/unocss/unocss/pull/4889)ï¼‰               |

## å¤šé€‰æ‹©å™¨è§„åˆ™

è‡ª v0.61 èµ·ï¼ŒUnoCSS æ”¯æŒé€šè¿‡ [JavaScript Generator å‡½æ•°](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator)å®ç°å¤šé€‰æ‹©å™¨ï¼Œå¹¶ä»å•ä¸€è§„åˆ™ç”Ÿæˆå¤šä¸ª CSS è§„åˆ™ã€‚

ä¾‹å¦‚ï¼š

::: code-group

```ts [Static Rules]
rules: [
  ['button-red', [
    { background: 'red' },
    {
      [symbols.selector]: selector => `${selector}:hover`,
      // https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix
      background: `color-mix(in srgb, red 90%, black)`
    },
  ]],
]
```

```ts [Dynamic Rules]
rules: [
  [/^button-(.*)$/, function* ([, color], { symbols }) {
    yield {
      background: color
    }
    yield {
      [symbols.selector]: selector => `${selector}:hover`,
      // https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix
      background: `color-mix(in srgb, ${color} 90%, black)`
    }
  }],
]
```

:::

å°†ç”Ÿæˆå¤šä¸ª CSS è§„åˆ™ï¼š

```css
.button-red {
  background: red;
}
.button-red:hover {
  background: color-mix(in srgb, red 90%, black);
}
```

## å®Œå…¨æ§åˆ¶çš„è§„åˆ™

::: tip
è¿™æ˜¯ä¸€ä¸ªé«˜çº§åŠŸèƒ½ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸éœ€è¦ã€‚
:::

å½“ä½ ç¡®å®éœ€è¦ä¸€äº›æœªè¢« [åŠ¨æ€è§„åˆ™](#dynamic-rules) å’Œ [å˜ä½“](/config/variants) ç»„åˆè¦†ç›–çš„é«˜çº§è§„åˆ™æ—¶ï¼ŒUnoCSS è¿˜æä¾›äº†ä¸€ç§è®©ä½ å®Œå…¨æ§åˆ¶ç”Ÿæˆ CSS çš„æ–¹å¼ã€‚

å®ƒå…è®¸ä½ ä»åŠ¨æ€è§„åˆ™çš„ä¸»ä½“å‡½æ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å°†**ç›´æ¥**ä¼ é€’ç»™ç”Ÿæˆçš„ CSSï¼ˆè¿™ä¹Ÿæ„å‘³ç€ä½ éœ€è¦å¤„ç† CSS è½¬ä¹‰ã€å˜ä½“åº”ç”¨ã€CSS æ„å»ºç­‰äº‹æƒ…ï¼‰ã€‚

```ts [uno.config.ts]
import { defineConfig, toEscapedSelector as e } from 'unocss'

export default defineConfig({
  rules: [
    [/^custom-(.+)$/, ([, name], { rawSelector, currentSelector, variantHandlers, theme }) => {
      // ä¸¢å¼ƒä¸åŒ¹é…çš„è§„åˆ™
      if (name.includes('something'))
        return

      // å¦‚æœä½ æƒ³ï¼Œå¯ä»¥ç¦ç”¨æ­¤è§„åˆ™çš„å˜ä½“
      if (variantHandlers.length)
        return
      const selector = e(rawSelector)
      // è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡
      return `
${selector} {
  font-size: ${theme.fontSize.sm};
}
/* ä½ å¯ä»¥æœ‰å¤šä¸ªè§„åˆ™ */
${selector}::after {
  content: 'after';
}
.foo > ${selector} {
  color: red;
}
/* æˆ–è€…åª’ä½“æŸ¥è¯¢ */
@media (min-width: ${theme.breakpoints.sm}) {
  ${selector} {
    font-size: ${theme.fontSize.sm};
  }
}
`
    }],
  ],
})
```

::: warning
ä¸Šè¿°æ–¹æ³•å¯ä»¥å®Œå…¨æ§åˆ¶ç”Ÿæˆçš„ CSSï¼Œä½†æ— æ³•é€šè¿‡ `variants` æ‰©å±•ï¼Œå¤±å»å˜ä½“æ‰€å¸¦æ¥çš„çµæ´»æ€§ã€‚

ä¾‹å¦‚ `hover:custom-xxx` -> `hover` å˜ä½“å°†ä¸èµ·ä½œç”¨ã€‚
:::

å› æ­¤ï¼Œå¦‚æœä½ å¸Œæœ›å®Œå…¨è‡ªå®šä¹‰è¾“å‡ºä¸”ä»äº«å—å˜ä½“çš„ä¾¿åˆ©ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ `symbols.body` æ¥å®ç°ã€‚

::: code-group

```ts [Static Rules]
import { symbols } from '@unocss/core'

rules: [
  ['custom-red', {
    // symbols.body ä¸éœ€è¦ç”¨ `{}` åŒ…è£¹æ ·å¼
    [symbols.body]: `
      font-size: 1rem;
      &::after {
        content: 'after';
      }
      & > .bar {
        color: red;
      }
    `,
    [symbols.selector]: selector => `:is(${selector})`,
  }]
]
```

```ts [Dynamic Rules]
rules: [
  [/^custom-(.+)$/, ([_, c], { symbols }) => {
    return {
      [symbols.body]: `
        font-size: 1rem;
        &::after {
          content: 'after';
        }
        & > .bar {
          color: ${c};
        }
      `,
      [symbols.selector]: selector => `:is(${selector})`,
    }
  }]
]
```

:::

å°†ä» `hover:custom-red` ç”Ÿæˆå®Œæ•´çš„ CSS è§„åˆ™ï¼š

```css
:is(.hover\:custom-red):hover {
  font-size: 1rem;
  &::after {
    content: 'after';
  }
  & > .bar {
    color: red;
  }
}
```

## æ’åº

UnoCSS åœ¨ç”Ÿæˆçš„ CSS ä¸­ä¼šéµå¾ªä½ å®šä¹‰è§„åˆ™çš„é¡ºåºï¼Œåå®šä¹‰çš„è§„åˆ™ä¼˜å…ˆçº§æ›´é«˜ã€‚

ä½¿ç”¨åŠ¨æ€è§„åˆ™æ—¶ï¼Œå¯èƒ½ä¼šåŒ¹é…å¤šä¸ª tokenã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒä¸€åŠ¨æ€è§„åˆ™åŒ¹é…çš„è¾“å‡ºåœ¨è¯¥ç»„å†…ä¼šæŒ‰å­—æ¯é¡ºåºæ’åºã€‚

## è§„åˆ™åˆå¹¶

é»˜è®¤æƒ…å†µä¸‹ï¼ŒUnoCSS ä¼šåˆå¹¶å…·æœ‰ç›¸åŒæ ·å¼çš„ CSS è§„åˆ™ï¼Œä»¥å‡å°‘ CSS å¤§å°ã€‚

ä¾‹å¦‚ï¼Œ`<div class="m-2 hover:m2">` ä¼šç”Ÿæˆï¼š

```css
.hover\:m2:hover,
.m-2 {
  margin: 0.5rem;
}
```

è€Œä¸æ˜¯ä¸¤ä¸ªåˆ†å¼€çš„è§„åˆ™ï¼š

```css
.hover\:m2:hover {
  margin: 0.5rem;
}
.m-2 {
  margin: 0.5rem;
}
```

---

---
url: 'https://unocss.zhcndoc.com/config/transformers.md'
---
# è½¬æ¢å™¨

æä¾›ç»Ÿä¸€çš„æ¥å£æ¥è½¬æ¢æºä»£ç ï¼Œä»¥æ”¯æŒçº¦å®šã€‚

```ts [my-transformer.ts]
import { SourceCodeTransformer } from 'unocss'
import { createFilter } from 'unplugin-utils'

export default function myTransformers(options: MyOptions = {}): SourceCodeTransformer {
  return {
    name: 'my-transformer',
    enforce: 'pre', // åœ¨å…¶ä»–è½¬æ¢å™¨ä¹‹å‰æ‰§è¡Œ
    idFilter(id) {
      // ä»…è½¬æ¢ .tsx å’Œ .jsx æ–‡ä»¶
      return id.match(/\.[tj]sx$/)
    },
    async transform(code, id, { uno }) {
      // code æ˜¯ä¸€ä¸ª MagicString å®ä¾‹
      code.appendRight(0, '/* æˆ‘çš„è½¬æ¢å™¨ */')
    },
  }
}
```

ä½ å¯ä»¥æŸ¥çœ‹ [å®˜æ–¹è½¬æ¢å™¨](/presets/#transformers) è·å–æ›´å¤šç¤ºä¾‹ã€‚

---

---
url: 'https://unocss.zhcndoc.com/presets/mini.md'
description: UnoCSS çš„æœ€å°é¢„è®¾ (@unocss/preset-mini)ã€‚
---

# è¿·ä½ é¢„è®¾

UnoCSS çš„åŸºæœ¬é¢„è®¾ï¼Œä»…åŒ…å«æœ€åŸºæœ¬çš„å®ç”¨å·¥å…·ã€‚

[æºä»£ç ](https://github.com/unocss/unocss/tree/main/packages-presets/preset-mini)

## å®‰è£…

::: code-group

```bash [pnpm]
pnpm add -D @unocss/preset-mini
```

```bash [yarn]
yarn add -D @unocss/preset-mini
```

```bash [npm]
npm install -D @unocss/preset-mini
```

```bash [bun]
bun add -D @unocss/preset-mini
```

:::

```ts [uno.config.ts]
import presetMini from '@unocss/preset-mini'
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [
    presetMini(),
    // ...å…¶ä»–é¢„è®¾
  ],
})
```

::: tip
è¯¥é¢„è®¾åŒ…å«åœ¨ `unocss` åŒ…ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ä»é‚£é‡Œå¯¼å…¥ï¼š

```ts
import { presetMini } from 'unocss'
```

:::

## è§„åˆ™

è¯¥é¢„è®¾æ˜¯ [`@unocss/preset-wind3`](/presets/wind3) çš„å­é›†ï¼Œä»…åŒ…å«ä¸ CSS å±æ€§å¯¹é½çš„æœ€åŸºæœ¬å®ç”¨å·¥å…·ï¼Œæ’é™¤äº†åœ¨ Tailwind CSS ä¸­å¼•å…¥çš„æœ‰ä¸»è§‚æˆ–å¤æ‚çš„å®ç”¨å·¥å…·ï¼ˆä¾‹å¦‚ `container`ã€`animation`ã€`gradient` ç­‰ï¼‰ã€‚è¿™å¯ä»¥ä½œä¸ºä½ åœ¨ Tailwind CSS æˆ– Windi CSS åŸºç¡€ä¸Šè‡ªå®šä¹‰é¢„è®¾çš„è‰¯å¥½èµ·ç‚¹ã€‚

## ç‰¹æ€§

### æš—é»‘æ¨¡å¼

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥é¢„è®¾ç”ŸæˆåŸºäºç±»çš„æš—é»‘æ¨¡å¼ï¼Œä½¿ç”¨ `dark:` å˜ä½“ã€‚

```html
<div class="dark:bg-red:10" />
```

å°†ç”Ÿæˆï¼š

```css
.dark .dark\:bg-red\:10 {
  background-color: rgb(248 113 113 / 0.1);
}
```

#### åŸºäºåª’ä½“æŸ¥è¯¢çš„æš—é»‘æ¨¡å¼

è¦å…¨å±€ä½¿ç”¨åŸºäºåª’ä½“æŸ¥è¯¢çš„æš—é»‘æ¨¡å¼ï¼Œå¯ä»¥æ›´æ”¹ `dark:` å˜ä½“çš„é…ç½®ï¼š

```ts
presetMini({
  dark: 'media'
})
```

ç°åœ¨

```html
<div class="dark:bg-red:10" />
```

å°†ç”Ÿæˆï¼š

```css
@media (prefers-color-scheme: dark) {
  .dark\:bg-red\:10 {
    background-color: rgb(248 113 113 / 0.1);
  }
}
```

### CSS @layer

æ”¯æŒ CSS åŸç”Ÿçš„ @layer å˜ä½“ `layer-xx:`ï¼š

```html
<div class="layer-foo:p4" />
<div class="layer-bar:m4" />
```

å°†ç”Ÿæˆï¼š

```css
@layer foo {
  .layer-foo\:p4 {
    padding: 1rem;
  }
}
@layer bar {
  .layer-bar\:m4 {
    margin: 1rem;
  }
}
```

### ä¸»é¢˜

ä½ å¯ä»¥åœ¨é…ç½®ä¸­å®Œå…¨è‡ªå®šä¹‰ä½ çš„ä¸»é¢˜å±æ€§ï¼ŒUnoCSS ä¼šæœ€ç»ˆå°†å…¶æ·±åº¦åˆå¹¶åˆ°é»˜è®¤ä¸»é¢˜ä¸­ã€‚

:::warning
`breakpoints` å±æ€§ä¸ä¼šæ·±åº¦åˆå¹¶ï¼Œè€Œæ˜¯è¢«è¦†ç›–ï¼Œå‚è§ [æ–­ç‚¹](/config/theme#breakpoints)ã€‚
:::

```ts
presetMini({
  theme: {
    // ...
    colors: {
      veryCool: '#0000ff', // class="text-very-cool"
      brand: {
        primary: 'hsl(var(--hue, 217) 78% 51%)', // class="bg-brand-primary"
      }
    },
  }
})
```

## é€‰é¡¹

### dark

* **ç±»å‹:** `class | media | DarkModeSelectors`
* **é»˜è®¤:** `class`

æš—é»‘æ¨¡å¼é€‰é¡¹ã€‚å¯ä»¥æ˜¯ `class`ã€`media` æˆ–è‡ªå®šä¹‰é€‰æ‹©å™¨å¯¹è±¡ï¼ˆ`DarkModeSelectors`ï¼‰ã€‚

```ts
interface DarkModeSelectors {
  /**
   * å…‰äº®å˜ä½“çš„é€‰æ‹©å™¨ã€‚
   *
   * @default '.light'
   */
  light?: string

  /**
   * æš—é»‘å˜ä½“çš„é€‰æ‹©å™¨ã€‚
   *
   * @default '.dark'
   */
  dark?: string
}
```

### attributifyPseudo

* **ç±»å‹:** `Boolean`
* **é»˜è®¤:** `false`

ç”Ÿæˆä¼ªé€‰æ‹©å™¨ä¸º `[group=""]` è€Œä¸æ˜¯ `.group`ã€‚

### variablePrefix

* **ç±»å‹:** `string`
* **é»˜è®¤:** `un-`

CSS è‡ªå®šä¹‰å±æ€§çš„å‰ç¼€ã€‚

### prefix

* **ç±»å‹:** `string | string[]`
* **é»˜è®¤:** `undefined`

å·¥å…·çš„å‰ç¼€ã€‚

### preflight

* **ç±»å‹:** `boolean` | `on-demand`
* **é»˜è®¤:** `true`

ç”ŸæˆåŸºç¡€æ ·å¼ CSSã€‚å¯ä»¥æ˜¯ï¼š

* `true`: å§‹ç»ˆç”ŸæˆåŸºç¡€æ ·å¼ã€‚
* `false`: ä¸ç”ŸæˆåŸºç¡€æ ·å¼ã€‚
* `on-demand`: ä»…ä¸ºä½¿ç”¨çš„å·¥å…·ç”ŸæˆåŸºç¡€æ ·å¼ã€‚

---

---
url: 'https://unocss.zhcndoc.com/config.md'
description: é…ç½®ä½¿ UnoCSS å¼ºå¤§ã€‚
---

# é…ç½® UnoCSS

## é…ç½®

é…ç½®ä½¿ UnoCSS å¼ºå¤§ã€‚

* [è§„åˆ™](/config/rules) - å®šä¹‰åŸå­ CSS å·¥å…·
* [å¿«æ·é”®](/config/shortcuts) - å°†å¤šä¸ªè§„åˆ™ç»„åˆæˆä¸€ä¸ªç®€å†™ã€‚
* [ä¸»é¢˜](/config/theme) - å®šä¹‰ä¸»é¢˜å˜é‡ã€‚
* [å˜ç§](/config/variants) - å°†è‡ªå®šä¹‰çº¦å®šåº”ç”¨äºè§„åˆ™ã€‚
* [æå–å™¨](/config/extractors) - å®šä¹‰å·¥å…·çš„ä½¿ç”¨ä½•å¤„ä»¥åŠå¦‚ä½•è¢«æå–ã€‚
* [é¢„é£è¡Œ](/config/preflights) - å®šä¹‰å…¨å±€åŸå§‹ CSSã€‚
* [å±‚](/config/layers) - å®šä¹‰æ¯ä¸ªå·¥å…·å±‚çš„é¡ºåºã€‚
* [é¢„è®¾](/config/presets) - é¢„å®šä¹‰é…ç½®ä»¥æ»¡è¶³å¸¸è§ç”¨ä¾‹ã€‚
* [è½¬æ¢å™¨](/config/transformers) - ä»£ç è½¬æ¢å™¨ï¼Œä»¥ç”¨æˆ·æºä»£ç æ”¯æŒçº¦å®šã€‚
* [è‡ªåŠ¨å®Œæˆ](/config/autocomplete) - å®šä¹‰è‡ªå®šä¹‰è‡ªåŠ¨å®Œæˆå»ºè®®ã€‚

## é€‰é¡¹

### rules

* **ç±»å‹:** `Rule<Theme>[]`

ç”Ÿæˆ CSS å·¥å…·çš„è§„åˆ™ã€‚åé¢çš„æ¡ç›®å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚

### shortcuts

* **ç±»å‹:** `UserShortcuts<Theme>`

ç±»ä¼¼äº Windi CSS çš„å¿«æ·é”®ï¼Œå…è®¸æ‚¨é€šè¿‡ç»„åˆç°æœ‰å·¥å…·æ¥åˆ›å»ºæ–°çš„å·¥å…·ã€‚åé¢çš„æ¡ç›®å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚

### theme

* **ç±»å‹:** `Theme`

ç”¨äºè§„åˆ™ä¹‹é—´å…±äº«é…ç½®çš„ä¸»é¢˜å¯¹è±¡ã€‚

### extendTheme

* **ç±»å‹:** `Arrayable<ThemeExtender<Theme>>`
  è‡ªå®šä¹‰å‡½æ•°å˜æ›´ä¸»é¢˜å¯¹è±¡ã€‚

ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„ä¸»é¢˜å¯¹è±¡ä»¥å®Œå…¨æ›¿æ¢åŸå§‹å¯¹è±¡ã€‚

### variants

* **ç±»å‹:** `Variant<Theme>[]`

é¢„å¤„ç†é€‰æ‹©å™¨çš„å˜ç§ï¼Œèƒ½å¤Ÿé‡å†™ CSS å¯¹è±¡ã€‚

### extractors

* **ç±»å‹:** `Extractor[]`

æå–å™¨å¤„ç†æºæ–‡ä»¶å¹¶è¾“å‡ºå¯èƒ½çš„ç±»/é€‰æ‹©å™¨ã€‚å¯ä»¥æ˜¯è¯­è¨€æ„ŸçŸ¥ã€‚

### preflights

* **ç±»å‹:** `Preflight<Theme>[]`

åŸå§‹ CSS æ³¨å…¥ã€‚

### layers

* **ç±»å‹:** `Record<string, number>`

å±‚çš„é¡ºåºã€‚é»˜è®¤å€¼ä¸º 0ã€‚

### outputToCssLayers

* **ç±»å‹:** `boolean | UseCssLayersOptions`
* **é»˜è®¤:** `false`

å°†å±‚è¾“å‡ºåˆ° CSS çº§è”å±‚ã€‚

#### cssLayerName

* **ç±»å‹:** `(internalLayer: string) => string | undefined | null`

æŒ‡å®šå†…éƒ¨å±‚åº”è¾“å‡ºåˆ°çš„ CSS å±‚çš„åç§°ï¼ˆå¯ä»¥æ˜¯å­å±‚ï¼Œä¾‹å¦‚ "mylayer.mysublayer"ï¼‰ã€‚

å¦‚æœè¿”å› `undefined`ï¼Œåˆ™ä½¿ç”¨å†…éƒ¨å±‚åç§°ä½œä¸º CSS å±‚åç§°ã€‚
å¦‚æœè¿”å› `null`ï¼Œåˆ™å†…éƒ¨å±‚å°†ä¸è¾“å‡ºåˆ° CSS å±‚ã€‚

#### allLayers

* **ç±»å‹ï¼š** `boolean`

å¼ºåˆ¶è¾“å‡ºæ‰€æœ‰ CSS å±‚ï¼Œå³ä½¿å®ƒä»¬æœªè¢«ä½¿ç”¨ã€‚

ä¾‹å¦‚ï¼š

```css
@layer theme, preflights, [unused-layer], default;
```

### sortLayers

* **ç±»å‹:** `(layers: string[]) => string[]`

è‡ªå®šä¹‰å‡½æ•°ä»¥æ’åºå±‚ã€‚

### presets

* **ç±»å‹:** `(PresetOrFactory<Theme> | PresetOrFactory<Theme>[])[]`

ç”¨äºå¸¸è§ç”¨ä¾‹çš„é¢„å®šä¹‰é…ç½®ã€‚

### transformers

* **ç±»å‹:** `SourceCodeTransformer[]`

è‡ªå®šä¹‰æºä»£ç è½¬æ¢å™¨ã€‚

### blocklist

* **ç±»å‹:** `BlocklistRule[]`

è§„åˆ™ï¼Œç”¨äºæ’é™¤è®¾è®¡ç³»ç»Ÿçš„é€‰æ‹©å™¨ï¼ˆç¼©å°å¯èƒ½æ€§ï¼‰ã€‚ç»“åˆ `warnExcluded` é€‰é¡¹ä¹Ÿå¯ä»¥å¸®åŠ©æ‚¨è¯†åˆ«é”™è¯¯ä½¿ç”¨ã€‚

### safelist

* **ç±»å‹:** `string[]`

å§‹ç»ˆåŒ…å«çš„å·¥å…·ã€‚

### preprocess

* **ç±»å‹:** `Arrayable<Preprocessor>`

é¢„å¤„ç†ä¼ å…¥çš„å·¥å…·ï¼Œè¿”å›å‡å€¼ä»¥æ’é™¤ã€‚

### postprocess

* **ç±»å‹:** `Arrayable<Postprocessor>`

åå¤„ç†ç”Ÿæˆçš„å·¥å…·å¯¹è±¡ã€‚

### separators

* **ç±»å‹:** `Arrayable<string>`
* **é»˜è®¤:** `[':', '-']`

å˜ç§åˆ†éš”ç¬¦ã€‚

### extractorDefault

* **ç±»å‹:** `Extractor | null | false`
* **é»˜è®¤:** `import('@unocss/core').defaultExtractor`

å§‹ç»ˆåº”ç”¨çš„é»˜è®¤æå–å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒé€šè¿‡ç©ºæ ¼å’Œå¼•å·æ‹†åˆ†æºä»£ç ã€‚

å¯ä»¥è¢«é¢„è®¾æˆ–ç”¨æˆ·é…ç½®æ›¿æ¢ï¼Œä»…èƒ½æœ‰ä¸€ä¸ªé»˜è®¤æå–å™¨ï¼Œåä¸€ä¸ªå°†è¦†ç›–å…ˆå‰çš„æå–å™¨ã€‚

ä¼ é€’ `null` æˆ– `false` ä»¥ç¦ç”¨é»˜è®¤æå–å™¨ã€‚

### autocomplete

è‡ªåŠ¨å®Œæˆçš„é™„åŠ é€‰é¡¹ã€‚

#### templates

* **ç±»å‹:** `Arrayable<AutoCompleteFunction | AutoCompleteTemplate>`

è‡ªå®šä¹‰å‡½æ•°/æ¨¡æ¿ä»¥æä¾›è‡ªåŠ¨å®Œæˆå»ºè®®ã€‚

#### extractors

* **ç±»å‹:** `Arrayable<AutoCompleteExtractor>`

è‡ªå®šä¹‰æå–å™¨ä»¥æ‹¾å–å¯èƒ½çš„ç±»å¹¶å°†ç±»åæ ·å¼å»ºè®®è½¬æ¢ä¸ºæ­£ç¡®æ ¼å¼ã€‚

#### shorthands

* **ç±»å‹:** `Record<string, string | string[]>`

è‡ªå®šä¹‰ç®€å†™ä»¥æä¾›è‡ªåŠ¨å®Œæˆå»ºè®®ã€‚å¦‚æœå€¼æ˜¯æ•°ç»„ï¼Œå®ƒå°†ä¸ `|` è¿æ¥å¹¶ç”¨ `()` åŒ…è£¹ã€‚

### content

ç”¨äºæå–å·¥å…·ç”¨æ³•çš„æºé€‰é¡¹ã€‚

æ”¯æŒçš„æ¥æºï¼š

* `filesystem` - ä»æ–‡ä»¶ç³»ç»Ÿæå–
* `inline` - ä»çº¯è¡Œå†…æ–‡æœ¬æå–
* `pipeline` - ä»æ„å»ºå·¥å…·çš„è½¬æ¢ç®¡é“æå–ï¼Œä¾‹å¦‚ Vite å’Œ Webpack

ä»æ¯ä¸ªæ¥æºæå–çš„ç”¨æ³•å°†è¢« **åˆå¹¶** åœ¨ä¸€èµ·ã€‚

#### filesystem

* **ç±»å‹:** `string[]`
* **é»˜è®¤:** `[]`

ä»æ–‡ä»¶ç³»ç»Ÿä¸­æå–çš„å…¨å±€æ¨¡å¼ï¼Œé™¤äº†å…¶ä»–å†…å®¹æºã€‚`node_modules` é»˜è®¤æƒ…å†µä¸‹è¢«å¿½ç•¥ï¼Œä½†å½“æ‚¨æŒ‡å®šè·¯å¾„åŒ…å« `node_modules` æ—¶ï¼Œunocss ä¼šä»ä¸­æ‰«æã€‚

åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œæ–‡ä»¶å°†è¢«ç›‘è§†å¹¶è§¦å‘ HMRã€‚

#### inline

* **ç±»å‹:** `string | { code: string; id?: string } | (() => Awaitable<string | { code: string; id?: string }>)) []`

è¦æå–çš„è¡Œå†…æ–‡æœ¬ã€‚

#### pipeline

ç¡®å®šæ˜¯å¦ä»æ„å»ºå·¥å…·çš„è½¬æ¢ç®¡é“ä¸­æå–ç‰¹å®šæ¨¡å—çš„è¿‡æ»¤å™¨ã€‚

å½“å‰ä»…é€‚ç”¨äº Vite å’Œ Webpack é›†æˆã€‚

è®¾ç½®ä¸º `false` ä»¥ç¦ç”¨ã€‚

##### include

* **ç±»å‹:** `FilterPattern`
* **é»˜è®¤:** `[/\.(vue|svelte|[jt]sx|vine.ts|mdx?|astro|elm|php|phtml|html)($|\?)/]`

è¿‡æ»¤è¢«æå–æ–‡ä»¶çš„æ¨¡å¼ã€‚æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼å’Œ `picomatch` glob æ¨¡å¼ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`.ts` å’Œ `.js` æ–‡ä»¶ä¸ä¼šè¢«æå–ã€‚

##### exclude

* **ç±»å‹:** `FilterPattern`
* **é»˜è®¤:** `[/\.(css|postcss|sass|scss|less|stylus|styl)($|\?)/]`

ä¸è¢«æå–æ–‡ä»¶çš„è¿‡æ»¤æ¨¡å¼ã€‚æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼å’Œ `picomatch` glob æ¨¡å¼ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`node_modules` å’Œ `dist` ä¹Ÿä¼šè¢«æå–ã€‚

### configResolved

* **ç±»å‹:** `(config: ResolvedConfig) => void`

ç”¨äºä¿®æ”¹è§£æé…ç½®çš„é’©å­ã€‚

é¦–å…ˆè¿è¡Œé¢„è®¾ï¼Œç„¶åæ˜¯ç”¨æˆ·é…ç½®ã€‚

### configFile

* **ç±»å‹:** `string | false`

ä»é…ç½®æ–‡ä»¶åŠ è½½ã€‚

è®¾ç½®ä¸º `false` ä»¥ç¦ç”¨ã€‚

### configDeps

* **ç±»å‹:** `string[]`

å°†è§¦å‘é…ç½®é‡è½½çš„æ–‡ä»¶åˆ—è¡¨ã€‚

### cli

UnoCSS CLI é€‰é¡¹ã€‚

#### entry

* **ç±»å‹:** `Arrayable<CliEntryItem>`

UnoCSS CLI å…¥å£ç‚¹ã€‚

##### patterns

* **ç±»å‹:** `string[]`

ä»æ–‡ä»¶ç³»ç»Ÿæå–çš„ glob æ¨¡å¼ã€‚

##### outFile

* **ç±»å‹:** `string`

è¾“å‡ºæ–‡ä»¶è·¯å¾„ã€‚

### shortcutsLayer

* **ç±»å‹:** `string`
* **é»˜è®¤:** `'shortcuts'`

å¿«æ·é”®çš„å¸ƒå±€åç§°ã€‚

### envMode

* **ç±»å‹:** `'dev' | 'build'`
* **é»˜è®¤:** `'build'`

ç¯å¢ƒæ¨¡å¼ã€‚

### details

* **ç±»å‹:** `boolean`

æ­ç¤ºå†…éƒ¨ç»†èŠ‚ä»¥è¿›è¡Œè°ƒè¯•/æ£€æŸ¥ã€‚

### warn

* **ç±»å‹:** `boolean`
* **é»˜è®¤:** `true`

å½“åŒ¹é…çš„é€‰æ‹©å™¨å‡ºç°åœ¨é»‘åå•ä¸­æ—¶å‘å‡ºè­¦å‘Šã€‚

---

---
url: 'https://unocss.zhcndoc.com/guide/config-file.md'
---
# é…ç½®æ–‡ä»¶

æˆ‘ä»¬**å¼ºçƒˆå»ºè®®ä½¿ç”¨ä¸“ç”¨çš„ `uno.config.ts` æ–‡ä»¶**æ¥é…ç½®ä½ çš„ UnoCSSï¼Œä»¥ä¾¿åœ¨ IDE å’Œå…¶ä»–é›†æˆæ–¹é¢è·å¾—æœ€ä½³ä½“éªŒã€‚

ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š

```ts twoslash [uno.config.ts]
import {
  defineConfig,
  presetAttributify,
  presetIcons,
  presetTypography,
  presetWebFonts,
  presetWind3,
  transformerDirectives,
  transformerVariantGroup
} from 'unocss'

export default defineConfig({
  shortcuts: [
    // ...
  ],
  theme: {
    colors: {
      // ...
    }
  },
  presets: [
    presetWind3(),
    presetAttributify(),
    presetIcons(),
    presetTypography(),
    presetWebFonts({
      fonts: {
        // ...
      },
    }),
  ],
  transformers: [
    transformerDirectives(),
    transformerVariantGroup(),
  ],
})
```

ä¸æ‚¨åœ¨ `vite.config.ts` æˆ–å…¶ä»–å·¥å…·é…ç½®ä¸­ä½¿ç”¨çš„å†…è”é…ç½®ç›¸æ¯”ï¼Œä¸“ç”¨é…ç½®æ–‡ä»¶å°†æ›´å¥½åœ°ä¸[IDEs](/integrations/vscode)å’Œé›†æˆå·¥å…·ï¼ˆä¾‹å¦‚[ESLint æ’ä»¶](/integrations/eslint)ï¼‰é…åˆä½¿ç”¨ï¼Œå¹¶ä¸”ä½¿çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰å·¥ä½œå¾—æ›´å¥½ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒUnoCSS ä¼šè‡ªåŠ¨å¯»æ‰¾é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `uno.config.{js,ts,mjs,mts}` æˆ– `unocss.config.{js,ts,mjs,mts}`ã€‚æ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚åœ¨ Vite ä¸­ï¼š

```ts [vite.config.ts]
import UnoCSS from 'unocss/vite'
import { defineConfig } from 'vite'

export default defineConfig({
  plugins: [
    UnoCSS({
      configFile: '../my-uno.config.ts',
    }),
  ],
})
```

æœ‰å…³æ”¯æŒçš„é…ç½®é€‰é¡¹çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚è€ƒ[é…ç½®å‚è€ƒ](/config/)ã€‚

---

---
url: 'https://unocss.zhcndoc.com/integrations.md'
---
# é›†æˆ

### æ¡†æ¶ / å·¥å…·

UnoCSS æä¾›äº†ä¸å„ç§æ¡†æ¶ / å·¥å…·çš„é›†æˆï¼š

### ç¤ºä¾‹

æ‰€æœ‰ç¤ºä¾‹çš„æºä»£ç å¯ä»¥åœ¨ [/examples](https://github.com/unocss/unocss/tree/main/examples) ç›®å½•ä¸­æ‰¾åˆ°ã€‚

---

---
url: 'https://unocss.zhcndoc.com/config/preflights.md'
description: ä½ å¯ä»¥ä»é…ç½®ä¸­æ³¨å…¥åŸå§‹ CSS ä½œä¸ºé¢„å¤„ç†ã€‚å·²è§£æçš„ä¸»é¢˜å¯ç”¨äºè‡ªå®šä¹‰ CSSã€‚
---

# é¢„å¤„ç†

ä½ å¯ä»¥ä»é…ç½®ä¸­æ³¨å…¥åŸå§‹ CSS ä½œä¸ºé¢„å¤„ç†ã€‚å·²è§£æçš„ `theme` å¯ç”¨äºè‡ªå®šä¹‰ CSSã€‚

```ts
preflights: [
  {
    getCSS: ({ theme }) => `
      * {
        color: ${theme.colors.gray?.[700] ?? '#333'};
        padding: 0;
        margin: 0;
      }
    `,
  },
]
```

---

---
url: 'https://unocss.zhcndoc.com/config/presets.md'
---
# é¢„è®¾

é¢„è®¾æ˜¯éƒ¨åˆ†é…ç½®ï¼Œä¼šåˆå¹¶åˆ°ä¸»é…ç½®ä¸­ã€‚

åœ¨ç¼–å†™é¢„è®¾æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå¯¼å‡ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦æä¾›ä¸€äº›ç‰¹å®šäºé¢„è®¾çš„é€‰é¡¹ã€‚ä¾‹å¦‚ï¼š

```ts [my-preset.ts]
import { definePreset, Preset } from 'unocss'

export default definePreset((options?: MyPresetOptions) => {
  return {
    name: 'my-preset',
    rules: [
      // ...
    ],
    variants: [
      // ...
    ],
    // æ”¯æŒæ‚¨åœ¨æ ¹é…ç½®ä¸­å¯ä»¥æ‹¥æœ‰çš„å¤§å¤šæ•°é…ç½®
  }
})
```

ç„¶åç”¨æˆ·å¯ä»¥åƒè¿™æ ·ä½¿ç”¨å®ƒï¼š

```ts [uno.config.ts]
import { defineConfig } from 'unocss'
import myPreset from './my-preset'

export default defineConfig({
  presets: [
    myPreset({ /* é¢„è®¾é€‰é¡¹ */ }),
  ],
})
```

æ‚¨å¯ä»¥æŸ¥çœ‹ [å®˜æ–¹é¢„è®¾](/presets/) å’Œ [ç¤¾åŒºé¢„è®¾](/presets/community) ä»¥è·å–æ›´å¤šç¤ºä¾‹ã€‚

---

---
url: 'https://unocss.zhcndoc.com/guide/presets.md'
description: é¢„è®¾æ˜¯ UnoCSS çš„æ ¸å¿ƒã€‚å®ƒä»¬è®©æ‚¨åœ¨å‡ åˆ†é’Ÿå†…åˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰æ¡†æ¶ã€‚
---

# é¢„è®¾

é¢„è®¾æ˜¯ UnoCSS çš„æ ¸å¿ƒã€‚å®ƒä»¬è®©æ‚¨åœ¨å‡ åˆ†é’Ÿå†…åˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰æ¡†æ¶ã€‚

## ä½¿ç”¨é¢„è®¾

è¦å°†é¢„è®¾è®¾ç½®åˆ°æ‚¨çš„é¡¹ç›®ä¸­ï¼š

```ts twoslash [uno.config.ts]
import { defineConfig, presetAttributify, presetWind3 } from 'unocss'

export default defineConfig({
  presets: [
    presetAttributify({ /* é¢„è®¾é€‰é¡¹ */}),
    presetWind3(),
    // ...è‡ªå®šä¹‰é¢„è®¾
  ],
})
```

å½“æŒ‡å®š `presets` é€‰é¡¹æ—¶ï¼Œå°†å¿½ç•¥é»˜è®¤é¢„è®¾ã€‚

è¦ç¦ç”¨é»˜è®¤é¢„è®¾ï¼Œæ‚¨å¯ä»¥å°† `presets` è®¾ç½®ä¸ºç©ºæ•°ç»„ï¼š

```ts twoslash [uno.config.ts]
import { defineConfig } from 'unocss'

export default defineConfig({
  presets: [], // ç¦ç”¨é»˜è®¤é¢„è®¾
  rules: [
    // æ‚¨çš„è‡ªå®šä¹‰è§„åˆ™
  ],
})
```

æ‚¨å¯ä»¥æŸ¥çœ‹ [å®˜æ–¹é¢„è®¾](/presets/) å’Œ [ç¤¾åŒºé¢„è®¾](/presets/community) ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚

## åˆ›å»ºé¢„è®¾

è¦äº†è§£å¦‚ä½•åˆ›å»ºæ‚¨è‡ªå·±çš„è‡ªå®šä¹‰é¢„è®¾ï¼Œè¯·å‚è§ [é…ç½®ï¼šé¢„è®¾](/config/presets)ã€‚
