import{i as m,e as d,M as b}from"./index-n2-Sybnc.js";function I(e,n,t){if(e==="")return;const o=e.length;let r=0,c=!1,s=0;for(let a=0;a<o;a++)switch(e[a]){case n:c||(c=!0,s=a),r++;break;case t:if(--r,r<0)return;if(r===0)return[e.slice(s,a+1),e.slice(a+1),e.slice(0,s)];break}}function y(e,n,t,o){if(e===""||(m(o)&&(o=[o]),o.length===0))return;const r=e.length;let c=0;for(let s=0;s<r;s++)switch(e[s]){case n:c++;break;case t:if(--c<0)return;break;default:for(const a of o){const i=a.length;if(i&&a===e.slice(s,s+i)&&c===0)return s===0||s===r-i?void 0:[e.slice(0,s),e.slice(s+i)]}}return[e,""]}function l(e,n,t,o="(",r=")"){t=t??10;const c=[];let s=0;for(;e!=="";){if(++s>t)return;const a=y(e,o,r,n);if(!a)return;const[i,g]=a;c.push(i),e=g}if(c.length>0)return c}const u=["hsl","hsla","hwb","lab","lch","oklab","oklch","rgb","rgba"],C=["srgb","srgb-linear","display-p3","a98-rgb","prophoto-rgb","rec2020","lab","oklab","xyz","xyz-d50","xyz-d65"],$=["hsl","hwb","lch","oklch"],w=["shorter","longer","increasing","decreasing"],p=["%alpha","<alpha-value>"],x=new RegExp(p.map(e=>d(e)).join("|"),"g");function L(e){return e?C.some(n=>e.includes(n))||$.some(n=>e.includes(n))||w.some(n=>e.includes(n)):!1}function W(e=""){const n=f(e);if(n!=null){const{components:t,alpha:o}=n;return o==null?t:[...t,o]}}function S(e=""){const n=F(e);if(n==null||n===!1)return;const{type:t,components:o,alpha:r}=n,c=t.toLowerCase();if(o.length!==0&&!(u.includes(c)&&![1,3].includes(o.length)))return{type:c,components:o.map(s=>typeof s=="string"?s.trim():s),alpha:typeof r=="string"?r.trim():r}}function P(e){const n=e.alpha??1;return typeof n=="string"&&p.includes(n)?1:n}function k(e,n){if(typeof e=="string")return e.replace(x,`${n??1}`);const{components:t}=e;let{alpha:o,type:r}=e;return o=n??o,r=r.toLowerCase(),["hsla","rgba"].includes(r)?`${r}(${t.join(", ")}${o==null?"":`, ${o}`})`:(o=o==null?"":` / ${o}`,u.includes(r)?`${r}(${t.join(" ")}${o})`:`color(${r} ${t.join(" ")}${o})`)}function F(e){if(!e)return;let n=f(e);if(n!=null||(n=j(e),n!=null)||(n=E(e),n!=null)||(n=A(e),n!=null)||(n=M(e),n!=null))return n}function f(e){const[,n]=e.match(/^#([\da-f]+)$/i)||[];if(n)switch(n.length){case 3:case 4:{const t=Array.from(n,o=>Number.parseInt(o,16)).map(o=>o<<4|o);return{type:"rgb",components:t.slice(0,3),alpha:n.length===3?void 0:Math.round(t[3]/255*100)/100}}case 6:case 8:{const t=Number.parseInt(n,16);return{type:"rgb",components:n.length===6?[t>>16&255,t>>8&255,t&255]:[t>>24&255,t>>16&255,t>>8&255],alpha:n.length===6?void 0:Math.round((t&255)/255*100)/100}}}}function j(e){const n={rebeccapurple:[102,51,153,1]}[e];if(n!=null)return{type:"rgb",components:n.slice(0,3),alpha:n[3]}}function E(e){const n=e.match(/^(rgb|rgba|hsl|hsla)\((.+)\)$/i);if(!n)return;const[,t,o]=n,r=l(o,",",5);if(r){if([3,4].includes(r.length))return{type:t,components:r.slice(0,3),alpha:r[3]};if(r.length!==1)return!1}}const v=new RegExp(`^(${u.join("|")})\\((.+)\\)$`,"i");function A(e){const n=e.match(v);if(!n)return;const[,t,o]=n,r=h(`${t} ${o}`);if(r){const{alpha:c,components:[s,...a]}=r;return{type:s,components:a,alpha:c}}}function M(e){const n=e.match(/^color\((.+)\)$/);if(!n)return;const t=h(n[1]);if(t){const{alpha:o,components:[r,...c]}=t;return{type:r,components:c,alpha:o}}}function h(e){const n=l(e," ");if(!n)return;let t=n.length;if(n[t-2]==="/")return{components:n.slice(0,t-2),alpha:n[t-1]};if(n[t-2]!=null&&(n[t-2].endsWith("/")||n[t-1].startsWith("/"))){const c=n.splice(t-2);n.push(c.join(" ")),--t}const o=l(n[t-1],"/",2);if(!o)return;if(o.length===1||o[o.length-1]==="")return{components:n};const r=o.pop();return n[t-1]=o.join("/"),{components:n,alpha:r}}const R=/theme\(\s*(['"])?(.*?)\1?\s*\)/g;function B(e){return e.includes("theme(")&&e.includes(")")}function K(e,n,t=!0){const o=Array.from(e.toString().matchAll(R));if(!o.length)return e;const r=new b(e);for(const c of o){const s=c[2];if(!s)throw new Error("theme() expect exact one argument, but got 0");const a=T(s,n,t);a&&r.overwrite(c.index,c.index+c[0].length,a)}return r.toString()}function T(e,n,t=!0){const[o,r]=e.split("/");let s=o.trim().split(".").reduce((a,i)=>a?.[i],n);if(typeof s=="object"&&(s=s.DEFAULT),typeof s=="string"){if(r){const a=S(s);a&&(s=k(a,r))}return s}else if(t)throw new Error(`theme of "${e}" did not found`)}function q(e){const n=e.match(/^-?\d+\.?\d*/)?.[0]||"",t=e.slice(n.length);if(t==="px"){const o=Number.parseFloat(n)-.1;return Number.isNaN(o)?e:`${o}${t}`}return`calc(${e} - 0.1px)`}const z=/icon\(\s*(['"])?(.*?)\1?\s*\)/g;function D(e){return e.includes("icon(")&&e.includes(")")}export{T as a,D as b,q as c,k as d,P as e,l as f,y as g,B as h,I as i,p as j,L as k,x as l,u as m,$ as n,w as o,S as p,W as q,C as r,R as s,K as t,z as u};
