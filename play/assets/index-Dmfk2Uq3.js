import{e as P,a as w}from"./index-n2-Sybnc.js";import"./tailwind-B5Hl0jz9.js";function A(i={}){const{trigger:r=/(["'`]):uno-?(?<name>\S+)?:\s(.*?)\1/g,classPrefix:l="uno-",hashFn:s=S,keepUnknown:x=!0,alwaysHash:y=!1}=i,p=new Set,$=typeof r=="string"?new RegExp(`(["'\`])${P(r)}\\s([^\\1]*?)\\1`,"g"):r;return{name:"@unocss/transformer-compile-class",enforce:"pre",async transform(u,j,{uno:c,tokens:f,invalidate:C}){const g=[...u.original.matchAll($)];if(!g.length)return;const z=p.size;for(const a of g){let n=a.length===4&&a.groups?w(a[3].trim()):w(a[2].trim());const d=a.index,m=[];if(x){const o=await Promise.all(n.split(/\s+/).filter(Boolean).map(async e=>[e,!!await c.parseToken(e)])),h=o.filter(([,e])=>e).map(([e])=>e),t=o.filter(([,e])=>!e).map(([e])=>e);m.push(...t),n=h.join(" ")}if(n){let o,h=!1;a.groups&&a.groups.name?(o=a.groups.name,y&&(o+=`-${s(n)}`),h=!0):o=s(n);const t=`${l}${o}`;if(f&&f.has(t)&&h){const e=c.config.shortcuts.find(E=>E[0]===t);if(e&&e[1]!==n)throw new Error(`Duplicated compile class name "${t}". One is "${n}" and the other is "${e[1]}". Please choose different class name or set 'alwaysHash' to 'true'.`)}p.add(t),m.unshift(t),i.layer?c.config.shortcuts.push([t,n,{layer:i.layer}]):c.config.shortcuts.push([t,n]),f&&f.add(t)}u.overwrite(d+1,d+a[0].length-1,m.join(" "))}p.size>z&&C()}}}function S(i){let r,l,s=2166136261;for(r=0,l=i.length;r<l;r++)s^=i.charCodeAt(r),s+=(s<<1)+(s<<4)+(s<<7)+(s<<8)+(s<<24);return`00000${(s>>>0).toString(36)}`.slice(-6)}export{A as default};
