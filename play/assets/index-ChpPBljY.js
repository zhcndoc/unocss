import{e as A,z as w}from"./index-DAydmHNs.js";import"./modulepreload-polyfill-B5Qt9EMX.js";function v(i={}){const{trigger:n=/(["'`])\s*:uno-?(?<name>\S+)?:\s([\s\S]*?)\1/g,classPrefix:l="uno-",hashFn:s=E,keepUnknown:y=!0,alwaysHash:x=!1}=i,h=new Set,$=typeof n=="string"?new RegExp(`(["'\`])\\s*${A(n)}\\s([\\s\\S]*?)\\1`,"g"):n;return{name:"@unocss/transformer-compile-class",enforce:"pre",async transform(u,P,{uno:c,tokens:f,invalidate:S}){const g=Array.from(u.original.matchAll($));if(!g.length)return;const z=h.size;for(const a of g){let r=(a.length===4&&a.groups?w(a[3].trim()):w(a[2].trim())).replace(/\s+/g," ");const d=a.index,m=[];if(y){const o=await Promise.all(r.split(/\s+/).filter(Boolean).map(async e=>[e,!!await c.parseToken(e)])),p=o.filter(([,e])=>e).map(([e])=>e),t=o.filter(([,e])=>!e).map(([e])=>e);m.push(...t),r=p.join(" ")}if(r){let o,p=!1;a.groups&&a.groups.name?(o=a.groups.name,x&&(o+=`-${s(r)}`),p=!0):o=s(r);const t=`${l}${o}`;if(f&&f.has(t)&&p){const e=c.config.shortcuts.find(C=>C[0]===t);if(e&&e[1]!==r)throw new Error(`Duplicated compile class name "${t}". One is "${r}" and the other is "${e[1]}". Please choose different class name or set 'alwaysHash' to 'true'.`)}h.add(t),m.unshift(t),i.layer?c.config.shortcuts.push([t,r,{layer:i.layer}]):c.config.shortcuts.push([t,r]),f&&f.add(t)}u.overwrite(d+1,d+a[0].length-1,m.join(" "))}h.size>z&&S()}}}function E(i){let n,l,s=2166136261;for(n=0,l=i.length;n<l;n++)s^=i.charCodeAt(n),s+=(s<<1)+(s<<4)+(s<<7)+(s<<8)+(s<<24);return`00000${(s>>>0).toString(36)}`.slice(-6)}export{v as default};
